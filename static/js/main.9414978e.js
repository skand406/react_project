/*! For license information please see main.9414978e.js.LICENSE.txt */
(()=>{var e={4:(e,t,n)=>{"use strict";var r=n(853),i=n(43),s=n(950);function o(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function l(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function c(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function u(e){if(l(e)!==e)throw Error(o(188))}function h(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e;for(e=e.child;null!==e;){if(null!==(t=h(e)))return t;e=e.sibling}return null}var d=Object.assign,f=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),m=Symbol.for("react.portal"),g=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),v=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),w=Symbol.for("react.consumer"),b=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),C=Symbol.for("react.memo"),T=Symbol.for("react.lazy");Symbol.for("react.scope");var x=Symbol.for("react.activity");Symbol.for("react.legacy_hidden"),Symbol.for("react.tracing_marker");var I=Symbol.for("react.memo_cache_sentinel");Symbol.for("react.view_transition");var N=Symbol.iterator;function R(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=N&&e[N]||e["@@iterator"])?e:null}var P=Symbol.for("react.client.reference");function O(e){if(null==e)return null;if("function"===typeof e)return e.$$typeof===P?null:e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case g:return"Fragment";case v:return"Profiler";case y:return"StrictMode";case S:return"Suspense";case k:return"SuspenseList";case x:return"Activity"}if("object"===typeof e)switch(e.$$typeof){case m:return"Portal";case b:return(e.displayName||"Context")+".Provider";case w:return(e._context.displayName||"Context")+".Consumer";case E:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case C:return null!==(t=e.displayName||null)?t:O(e.type)||"Memo";case T:t=e._payload,e=e._init;try{return O(e(t))}catch(n){}}return null}var A=Array.isArray,D=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},F=[],j=-1;function U(e){return{current:e}}function V(e){0>j||(e.current=F[j],F[j]=null,j--)}function z(e,t){j++,F[j]=e.current,e.current=t}var $=U(null),q=U(null),B=U(null),H=U(null);function W(e,t){switch(z(B,t),z(q,e),z($,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ih(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)e=sh(t=ih(t),e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}V($),z($,e)}function Y(){V($),V(q),V(B)}function K(e){null!==e.memoizedState&&z(H,e);var t=$.current,n=sh(t,e.type);t!==n&&(z(q,e),z($,n))}function G(e){q.current===e&&(V($),V(q)),H.current===e&&(V(H),Kh._currentValue=L)}var Q=Object.prototype.hasOwnProperty,J=r.unstable_scheduleCallback,X=r.unstable_cancelCallback,Z=r.unstable_shouldYield,ee=r.unstable_requestPaint,te=r.unstable_now,ne=r.unstable_getCurrentPriorityLevel,re=r.unstable_ImmediatePriority,ie=r.unstable_UserBlockingPriority,se=r.unstable_NormalPriority,oe=r.unstable_LowPriority,ae=r.unstable_IdlePriority,le=r.log,ce=r.unstable_setDisableYieldValue,ue=null,he=null;function de(e){if("function"===typeof le&&ce(e),he&&"function"===typeof he.setStrictMode)try{he.setStrictMode(ue,e)}catch(t){}}var fe=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(pe(e)/me|0)|0},pe=Math.log,me=Math.LN2;var ge=256,ye=4194304;function ve(e){var t=42&e;if(0!==t)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194048&e;case 4194304:case 8388608:case 16777216:case 33554432:return 62914560&e;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function _e(e,t,n){var r=e.pendingLanes;if(0===r)return 0;var i=0,s=e.suspendedLanes,o=e.pingedLanes;e=e.warmLanes;var a=134217727&r;return 0!==a?0!==(r=a&~s)?i=ve(r):0!==(o&=a)?i=ve(o):n||0!==(n=a&~e)&&(i=ve(n)):0!==(a=r&~s)?i=ve(a):0!==o?i=ve(o):n||0!==(n=r&~e)&&(i=ve(n)),0===i?0:0!==t&&t!==i&&0===(t&s)&&((s=i&-i)>=(n=t&-t)||32===s&&0!==(4194048&n))?t:i}function we(e,t){return 0===(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)}function be(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function Ee(){var e=ge;return 0===(4194048&(ge<<=1))&&(ge=256),e}function Se(){var e=ye;return 0===(62914560&(ye<<=1))&&(ye=4194304),e}function ke(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ce(e,t){e.pendingLanes|=t,268435456!==t&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Te(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-fe(t);e.entangledLanes|=t,e.entanglements[r]=1073741824|e.entanglements[r]|4194090&n}function xe(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-fe(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}function Ie(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ne(e){return 2<(e&=-e)?8<e?0!==(134217727&e)?32:268435456:8:2}function Re(){var e=M.p;return 0!==e?e:void 0===(e=window.event)?32:cd(e.type)}var Pe=Math.random().toString(36).slice(2),Oe="__reactFiber$"+Pe,Ae="__reactProps$"+Pe,De="__reactContainer$"+Pe,Me="__reactEvents$"+Pe,Le="__reactListeners$"+Pe,Fe="__reactHandles$"+Pe,je="__reactResources$"+Pe,Ue="__reactMarker$"+Pe;function Ve(e){delete e[Oe],delete e[Ae],delete e[Me],delete e[Le],delete e[Fe]}function ze(e){var t=e[Oe];if(t)return t;for(var n=e.parentNode;n;){if(t=n[De]||n[Oe]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=_h(e);null!==e;){if(n=e[Oe])return n;e=_h(e)}return t}n=(e=n).parentNode}return null}function $e(e){if(e=e[Oe]||e[De]){var t=e.tag;if(5===t||6===t||13===t||26===t||27===t||3===t)return e}return null}function qe(e){var t=e.tag;if(5===t||26===t||27===t||6===t)return e.stateNode;throw Error(o(33))}function Be(e){var t=e[je];return t||(t=e[je]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function He(e){e[Ue]=!0}var We=new Set,Ye={};function Ke(e,t){Ge(e,t),Ge(e+"Capture",t)}function Ge(e,t){for(Ye[e]=t,e=0;e<t.length;e++)We.add(t[e])}var Qe,Je,Xe=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ze={},et={};function tt(e,t,n){if(i=t,Q.call(et,i)||!Q.call(Ze,i)&&(Xe.test(i)?et[i]=!0:(Ze[i]=!0,0)))if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":return void e.removeAttribute(t);case"boolean":var r=t.toLowerCase().slice(0,5);if("data-"!==r&&"aria-"!==r)return void e.removeAttribute(t)}e.setAttribute(t,""+n)}var i}function nt(e,t,n){if(null===n)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(t)}e.setAttribute(t,""+n)}}function rt(e,t,n,r){if(null===r)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":return void e.removeAttribute(n)}e.setAttributeNS(t,n,""+r)}}function it(e){if(void 0===Qe)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qe=t&&t[1]||"",Je=-1<n.stack.indexOf("\n    at")?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return"\n"+Qe+e+Je}var st=!1;function ot(e,t){if(!e||st)return"";st=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var n=function(){throw Error()};if(Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(n,[])}catch(i){var r=i}Reflect.construct(e,[],n)}else{try{n.call()}catch(s){r=s}e.call(n.prototype)}}else{try{throw Error()}catch(o){r=o}(n=e())&&"function"===typeof n.catch&&n.catch((function(){}))}}catch(a){if(a&&r&&"string"===typeof a.stack)return[a.stack,r.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var i=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");i&&i.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=r.DetermineComponentFrameRoot(),o=s[0],a=s[1];if(o&&a){var l=o.split("\n"),c=a.split("\n");for(i=r=0;r<l.length&&!l[r].includes("DetermineComponentFrameRoot");)r++;for(;i<c.length&&!c[i].includes("DetermineComponentFrameRoot");)i++;if(r===l.length||i===c.length)for(r=l.length-1,i=c.length-1;1<=r&&0<=i&&l[r]!==c[i];)i--;for(;1<=r&&0<=i;r--,i--)if(l[r]!==c[i]){if(1!==r||1!==i)do{if(r--,0>--i||l[r]!==c[i]){var u="\n"+l[r].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}}while(1<=r&&0<=i);break}}}finally{st=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?it(n):""}function at(e){switch(e.tag){case 26:case 27:case 5:return it(e.type);case 16:return it("Lazy");case 13:return it("Suspense");case 19:return it("SuspenseList");case 0:case 15:return ot(e.type,!1);case 11:return ot(e.type.render,!1);case 1:return ot(e.type,!0);case 31:return it("Activity");default:return""}}function lt(e){try{var t="";do{t+=at(e),e=e.return}while(e);return t}catch(n){return"\nError generating stack: "+n.message+"\n"+n.stack}}function ct(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function ut(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function ht(e){e._valueTracker||(e._valueTracker=function(e){var t=ut(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function dt(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=ut(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function ft(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}var pt=/[\n"\\]/g;function mt(e){return e.replace(pt,(function(e){return"\\"+e.charCodeAt(0).toString(16)+" "}))}function gt(e,t,n,r,i,s,o,a){e.name="",null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o?e.type=o:e.removeAttribute("type"),null!=t?"number"===o?(0===t&&""===e.value||e.value!=t)&&(e.value=""+ct(t)):e.value!==""+ct(t)&&(e.value=""+ct(t)):"submit"!==o&&"reset"!==o||e.removeAttribute("value"),null!=t?vt(e,o,ct(t)):null!=n?vt(e,o,ct(n)):null!=r&&e.removeAttribute("value"),null==i&&null!=s&&(e.defaultChecked=!!s),null!=i&&(e.checked=i&&"function"!==typeof i&&"symbol"!==typeof i),null!=a&&"function"!==typeof a&&"symbol"!==typeof a&&"boolean"!==typeof a?e.name=""+ct(a):e.removeAttribute("name")}function yt(e,t,n,r,i,s,o,a){if(null!=s&&"function"!==typeof s&&"symbol"!==typeof s&&"boolean"!==typeof s&&(e.type=s),null!=t||null!=n){if(!("submit"!==s&&"reset"!==s||void 0!==t&&null!==t))return;n=null!=n?""+ct(n):"",t=null!=t?""+ct(t):n,a||t===e.value||(e.value=t),e.defaultValue=t}r="function"!==typeof(r=null!=r?r:i)&&"symbol"!==typeof r&&!!r,e.checked=a?e.checked:!!r,e.defaultChecked=!!r,null!=o&&"function"!==typeof o&&"symbol"!==typeof o&&"boolean"!==typeof o&&(e.name=o)}function vt(e,t,n){"number"===t&&ft(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function _t(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ct(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function wt(e,t,n){null==t||((t=""+ct(t))!==e.value&&(e.value=t),null!=n)?e.defaultValue=null!=n?""+ct(n):"":e.defaultValue!==t&&(e.defaultValue=t)}function bt(e,t,n,r){if(null==t){if(null!=r){if(null!=n)throw Error(o(92));if(A(r)){if(1<r.length)throw Error(o(93));r=r[0]}n=r}null==n&&(n=""),t=n}n=ct(t),e.defaultValue=n,(r=e.textContent)===n&&""!==r&&null!==r&&(e.value=r)}function Et(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var St=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function kt(e,t,n){var r=0===t.indexOf("--");null==n||"boolean"===typeof n||""===n?r?e.setProperty(t,""):"float"===t?e.cssFloat="":e[t]="":r?e.setProperty(t,n):"number"!==typeof n||0===n||St.has(t)?"float"===t?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function Ct(e,t,n){if(null!=t&&"object"!==typeof t)throw Error(o(62));if(e=e.style,null!=n){for(var r in n)!n.hasOwnProperty(r)||null!=t&&t.hasOwnProperty(r)||(0===r.indexOf("--")?e.setProperty(r,""):"float"===r?e.cssFloat="":e[r]="");for(var i in t)r=t[i],t.hasOwnProperty(i)&&n[i]!==r&&kt(e,i,r)}else for(var s in t)t.hasOwnProperty(s)&&kt(e,s,t[s])}function Tt(e){if(-1===e.indexOf("-"))return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var xt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),It=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Nt(e){return It.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Rt=null;function Pt(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ot=null,At=null;function Dt(e){var t=$e(e);if(t&&(e=t.stateNode)){var n=e[Ae]||null;e:switch(e=t.stateNode,t.type){case"input":if(gt(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+mt(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=r[Ae]||null;if(!i)throw Error(o(90));gt(r,i.value,i.defaultValue,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name)}}for(t=0;t<n.length;t++)(r=n[t]).form===e.form&&dt(r)}break e;case"textarea":wt(e,n.value,n.defaultValue);break e;case"select":null!=(t=n.value)&&_t(e,!!n.multiple,t,!1)}}}var Mt=!1;function Lt(e,t,n){if(Mt)return e(t,n);Mt=!0;try{return e(t)}finally{if(Mt=!1,(null!==Ot||null!==At)&&(zc(),Ot&&(t=Ot,e=At,At=Ot=null,Dt(t),e)))for(t=0;t<e.length;t++)Dt(e[t])}}function Ft(e,t){var n=e.stateNode;if(null===n)return null;var r=n[Ae]||null;if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var jt=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),Ut=!1;if(jt)try{var Vt={};Object.defineProperty(Vt,"passive",{get:function(){Ut=!0}}),window.addEventListener("test",Vt,Vt),window.removeEventListener("test",Vt,Vt)}catch(Ad){Ut=!1}var zt=null,$t=null,qt=null;function Bt(){if(qt)return qt;var e,t,n=$t,r=n.length,i="value"in zt?zt.value:zt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return qt=i.slice(e,1<t?1-t:void 0)}function Ht(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function Wt(){return!0}function Yt(){return!1}function Kt(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?Wt:Yt,this.isPropagationStopped=Yt,this}return d(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=Wt)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=Wt)},persist:function(){},isPersistent:Wt}),t}var Gt,Qt,Jt,Xt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Zt=Kt(Xt),en=d({},Xt,{view:0,detail:0}),tn=Kt(en),nn=d({},en,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Jt&&(Jt&&"mousemove"===e.type?(Gt=e.screenX-Jt.screenX,Qt=e.screenY-Jt.screenY):Qt=Gt=0,Jt=e),Gt)},movementY:function(e){return"movementY"in e?e.movementY:Qt}}),rn=Kt(nn),sn=Kt(d({},nn,{dataTransfer:0})),on=Kt(d({},en,{relatedTarget:0})),an=Kt(d({},Xt,{animationName:0,elapsedTime:0,pseudoElement:0})),ln=Kt(d({},Xt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}})),cn=Kt(d({},Xt,{data:0})),un={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function fn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=dn[e])&&!!t[e]}function pn(){return fn}var mn=Kt(d({},en,{key:function(e){if(e.key){var t=un[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Ht(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?hn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pn,charCode:function(e){return"keypress"===e.type?Ht(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Ht(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}})),gn=Kt(d({},nn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),yn=Kt(d({},en,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pn})),vn=Kt(d({},Xt,{propertyName:0,elapsedTime:0,pseudoElement:0})),_n=Kt(d({},nn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0})),wn=Kt(d({},Xt,{newState:0,oldState:0})),bn=[9,13,27,32],En=jt&&"CompositionEvent"in window,Sn=null;jt&&"documentMode"in document&&(Sn=document.documentMode);var kn=jt&&"TextEvent"in window&&!Sn,Cn=jt&&(!En||Sn&&8<Sn&&11>=Sn),Tn=String.fromCharCode(32),xn=!1;function In(e,t){switch(e){case"keyup":return-1!==bn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Rn=!1;var Pn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function On(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Pn[e.type]:"textarea"===t}function An(e,t,n,r){Ot?At?At.push(r):At=[r]:Ot=r,0<(t=Bu(t,"onChange")).length&&(n=new Zt("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Dn=null,Mn=null;function Ln(e){Lu(e,0)}function Fn(e){if(dt(qe(e)))return e}function jn(e,t){if("change"===e)return t}var Un=!1;if(jt){var Vn;if(jt){var zn="oninput"in document;if(!zn){var $n=document.createElement("div");$n.setAttribute("oninput","return;"),zn="function"===typeof $n.oninput}Vn=zn}else Vn=!1;Un=Vn&&(!document.documentMode||9<document.documentMode)}function qn(){Dn&&(Dn.detachEvent("onpropertychange",Bn),Mn=Dn=null)}function Bn(e){if("value"===e.propertyName&&Fn(Mn)){var t=[];An(t,Mn,e,Pt(e)),Lt(Ln,t)}}function Hn(e,t,n){"focusin"===e?(qn(),Mn=n,(Dn=t).attachEvent("onpropertychange",Bn)):"focusout"===e&&qn()}function Wn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Fn(Mn)}function Yn(e,t){if("click"===e)return Fn(t)}function Kn(e,t){if("input"===e||"change"===e)return Fn(t)}var Gn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function Qn(e,t){if(Gn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Q.call(t,i)||!Gn(e[i],t[i]))return!1}return!0}function Jn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Xn(e,t){var n,r=Jn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Jn(r)}}function Zn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Zn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function er(e){for(var t=ft((e=null!=e&&null!=e.ownerDocument&&null!=e.ownerDocument.defaultView?e.ownerDocument.defaultView:window).document);t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=ft((e=t.contentWindow).document)}return t}function tr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var nr=jt&&"documentMode"in document&&11>=document.documentMode,rr=null,ir=null,sr=null,or=!1;function ar(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;or||null==rr||rr!==ft(r)||("selectionStart"in(r=rr)&&tr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},sr&&Qn(sr,r)||(sr=r,0<(r=Bu(ir,"onSelect")).length&&(t=new Zt("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=rr)))}function lr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cr={animationend:lr("Animation","AnimationEnd"),animationiteration:lr("Animation","AnimationIteration"),animationstart:lr("Animation","AnimationStart"),transitionrun:lr("Transition","TransitionRun"),transitionstart:lr("Transition","TransitionStart"),transitioncancel:lr("Transition","TransitionCancel"),transitionend:lr("Transition","TransitionEnd")},ur={},hr={};function dr(e){if(ur[e])return ur[e];if(!cr[e])return e;var t,n=cr[e];for(t in n)if(n.hasOwnProperty(t)&&t in hr)return ur[e]=n[t];return e}jt&&(hr=document.createElement("div").style,"AnimationEvent"in window||(delete cr.animationend.animation,delete cr.animationiteration.animation,delete cr.animationstart.animation),"TransitionEvent"in window||delete cr.transitionend.transition);var fr=dr("animationend"),pr=dr("animationiteration"),mr=dr("animationstart"),gr=dr("transitionrun"),yr=dr("transitionstart"),vr=dr("transitioncancel"),_r=dr("transitionend"),wr=new Map,br="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Er(e,t){wr.set(e,t),Ke(t,[e])}br.push("scrollEnd");var Sr=new WeakMap;function kr(e,t){if("object"===typeof e&&null!==e){var n=Sr.get(e);return void 0!==n?n:(t={value:e,source:t,stack:lt(t)},Sr.set(e,t),t)}return{value:e,source:t,stack:lt(t)}}var Cr=[],Tr=0,xr=0;function Ir(){for(var e=Tr,t=xr=Tr=0;t<e;){var n=Cr[t];Cr[t++]=null;var r=Cr[t];Cr[t++]=null;var i=Cr[t];Cr[t++]=null;var s=Cr[t];if(Cr[t++]=null,null!==r&&null!==i){var o=r.pending;null===o?i.next=i:(i.next=o.next,o.next=i),r.pending=i}0!==s&&Or(n,i,s)}}function Nr(e,t,n,r){Cr[Tr++]=e,Cr[Tr++]=t,Cr[Tr++]=n,Cr[Tr++]=r,xr|=r,e.lanes|=r,null!==(e=e.alternate)&&(e.lanes|=r)}function Rr(e,t,n,r){return Nr(e,t,n,r),Ar(e)}function Pr(e,t){return Nr(e,null,null,t),Ar(e)}function Or(e,t,n){e.lanes|=n;var r=e.alternate;null!==r&&(r.lanes|=n);for(var i=!1,s=e.return;null!==s;)s.childLanes|=n,null!==(r=s.alternate)&&(r.childLanes|=n),22===s.tag&&(null===(e=s.stateNode)||1&e._visibility||(i=!0)),e=s,s=s.return;return 3===e.tag?(s=e.stateNode,i&&null!==t&&(i=31-fe(n),null===(r=(e=s.hiddenUpdates)[i])?e[i]=[t]:r.push(t),t.lane=536870912|n),s):null}function Ar(e){if(50<Oc)throw Oc=0,Ac=null,Error(o(185));for(var t=e.return;null!==t;)t=(e=t).return;return 3===e.tag?e.stateNode:null}var Dr={};function Mr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lr(e,t,n,r){return new Mr(e,t,n,r)}function Fr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function jr(e,t){var n=e.alternate;return null===n?((n=Lr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=65011712&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function Ur(e,t){e.flags&=65011714;var n=e.alternate;return null===n?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Vr(e,t,n,r,i,s){var a=0;if(r=e,"function"===typeof e)Fr(e)&&(a=1);else if("string"===typeof e)a=function(e,t,n){if(1===n||null!=t.itemProp)return!1;switch(e){case"meta":case"title":return!0;case"style":if("string"!==typeof t.precedence||"string"!==typeof t.href||""===t.href)break;return!0;case"link":if("string"!==typeof t.rel||"string"!==typeof t.href||""===t.href||t.onLoad||t.onError)break;return"stylesheet"!==t.rel||(e=t.disabled,"string"===typeof t.precedence&&null==e);case"script":if(t.async&&"function"!==typeof t.async&&"symbol"!==typeof t.async&&!t.onLoad&&!t.onError&&t.src&&"string"===typeof t.src)return!0}return!1}(e,n,$.current)?26:"html"===e||"head"===e||"body"===e?27:5;else e:switch(e){case x:return(e=Lr(31,n,t,i)).elementType=x,e.lanes=s,e;case g:return zr(n.children,i,s,t);case y:a=8,i|=24;break;case v:return(e=Lr(12,n,t,2|i)).elementType=v,e.lanes=s,e;case S:return(e=Lr(13,n,t,i)).elementType=S,e.lanes=s,e;case k:return(e=Lr(19,n,t,i)).elementType=k,e.lanes=s,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:case b:a=10;break e;case w:a=9;break e;case E:a=11;break e;case C:a=14;break e;case T:a=16,r=null;break e}a=29,n=Error(o(130,null===e?"null":typeof e,"")),r=null}return(t=Lr(a,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function zr(e,t,n,r){return(e=Lr(7,e,r,t)).lanes=n,e}function $r(e,t,n){return(e=Lr(6,e,null,t)).lanes=n,e}function qr(e,t,n){return(t=Lr(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Br=[],Hr=0,Wr=null,Yr=0,Kr=[],Gr=0,Qr=null,Jr=1,Xr="";function Zr(e,t){Br[Hr++]=Yr,Br[Hr++]=Wr,Wr=e,Yr=t}function ei(e,t,n){Kr[Gr++]=Jr,Kr[Gr++]=Xr,Kr[Gr++]=Qr,Qr=e;var r=Jr;e=Xr;var i=32-fe(r)-1;r&=~(1<<i),n+=1;var s=32-fe(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Jr=1<<32-fe(t)+i|n<<i|r,Xr=s+e}else Jr=1<<s|n<<i|r,Xr=e}function ti(e){null!==e.return&&(Zr(e,1),ei(e,1,0))}function ni(e){for(;e===Wr;)Wr=Br[--Hr],Br[Hr]=null,Yr=Br[--Hr],Br[Hr]=null;for(;e===Qr;)Qr=Kr[--Gr],Kr[Gr]=null,Xr=Kr[--Gr],Kr[Gr]=null,Jr=Kr[--Gr],Kr[Gr]=null}var ri=null,ii=null,si=!1,oi=null,ai=!1,li=Error(o(519));function ci(e){throw mi(kr(Error(o(418,"")),e)),li}function ui(e){var t=e.stateNode,n=e.type,r=e.memoizedProps;switch(t[Oe]=e,t[Ae]=r,n){case"dialog":Fu("cancel",t),Fu("close",t);break;case"iframe":case"object":case"embed":Fu("load",t);break;case"video":case"audio":for(n=0;n<Du.length;n++)Fu(Du[n],t);break;case"source":Fu("error",t);break;case"img":case"image":case"link":Fu("error",t),Fu("load",t);break;case"details":Fu("toggle",t);break;case"input":Fu("invalid",t),yt(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),ht(t);break;case"select":Fu("invalid",t);break;case"textarea":Fu("invalid",t),bt(t,r.value,r.defaultValue,r.children),ht(t)}"string"!==typeof(n=r.children)&&"number"!==typeof n&&"bigint"!==typeof n||t.textContent===""+n||!0===r.suppressHydrationWarning||Qu(t.textContent,n)?(null!=r.popover&&(Fu("beforetoggle",t),Fu("toggle",t)),null!=r.onScroll&&Fu("scroll",t),null!=r.onScrollEnd&&Fu("scrollend",t),null!=r.onClick&&(t.onclick=Ju),t=!0):t=!1,t||ci(e)}function hi(e){for(ri=e.return;ri;)switch(ri.tag){case 5:case 13:return void(ai=!1);case 27:case 3:return void(ai=!0);default:ri=ri.return}}function di(e){if(e!==ri)return!1;if(!si)return hi(e),si=!0,!1;var t,n=e.tag;if((t=3!==n&&27!==n)&&((t=5===n)&&(t=!("form"!==(t=e.type)&&"button"!==t)||oh(e.type,e.memoizedProps)),t=!t),t&&ii&&ci(e),hi(e),13===n){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,n=0;e;){if(8===e.nodeType)if("/$"===(t=e.data)){if(0===n){ii=yh(e.nextSibling);break e}n--}else"$"!==t&&"$!"!==t&&"$?"!==t||n++;e=e.nextSibling}ii=null}}else 27===n?(n=ii,fh(e.type)?(e=vh,vh=null,ii=e):ii=n):ii=ri?yh(e.stateNode.nextSibling):null;return!0}function fi(){ii=ri=null,si=!1}function pi(){var e=oi;return null!==e&&(null===_c?_c=e:_c.push.apply(_c,e),oi=null),e}function mi(e){null===oi?oi=[e]:oi.push(e)}var gi=U(null),yi=null,vi=null;function _i(e,t,n){z(gi,t._currentValue),t._currentValue=n}function wi(e){e._currentValue=gi.current,V(gi)}function bi(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ei(e,t,n,r){var i=e.child;for(null!==i&&(i.return=e);null!==i;){var s=i.dependencies;if(null!==s){var a=i.child;s=s.firstContext;e:for(;null!==s;){var l=s;s=i;for(var c=0;c<t.length;c++)if(l.context===t[c]){s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),bi(s.return,n,e),r||(a=null);break e}s=l.next}}else if(18===i.tag){if(null===(a=i.return))throw Error(o(341));a.lanes|=n,null!==(s=a.alternate)&&(s.lanes|=n),bi(a,n,e),a=null}else a=i.child;if(null!==a)a.return=i;else for(a=i;null!==a;){if(a===e){a=null;break}if(null!==(i=a.sibling)){i.return=a.return,a=i;break}a=a.return}i=a}}function Si(e,t,n,r){e=null;for(var i=t,s=!1;null!==i;){if(!s)if(0!==(524288&i.flags))s=!0;else if(0!==(262144&i.flags))break;if(10===i.tag){var a=i.alternate;if(null===a)throw Error(o(387));if(null!==(a=a.memoizedProps)){var l=i.type;Gn(i.pendingProps.value,a.value)||(null!==e?e.push(l):e=[l])}}else if(i===H.current){if(null===(a=i.alternate))throw Error(o(387));a.memoizedState.memoizedState!==i.memoizedState.memoizedState&&(null!==e?e.push(Kh):e=[Kh])}i=i.return}null!==e&&Ei(t,e,n,r),t.flags|=262144}function ki(e){for(e=e.firstContext;null!==e;){if(!Gn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ci(e){yi=e,vi=null,null!==(e=e.dependencies)&&(e.firstContext=null)}function Ti(e){return Ii(yi,e)}function xi(e,t){return null===yi&&Ci(e),Ii(e,t)}function Ii(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},null===vi){if(null===e)throw Error(o(308));vi=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else vi=vi.next=t;return n}var Ni="undefined"!==typeof AbortController?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(t,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach((function(e){return e()}))}},Ri=r.unstable_scheduleCallback,Pi=r.unstable_NormalPriority,Oi={$$typeof:b,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ai(){return{controller:new Ni,data:new Map,refCount:0}}function Di(e){e.refCount--,0===e.refCount&&Ri(Pi,(function(){e.controller.abort()}))}var Mi=null,Li=0,Fi=0,ji=null;function Ui(){if(0===--Li&&null!==Mi){null!==ji&&(ji.status="fulfilled");var e=Mi;Mi=null,Fi=0,ji=null;for(var t=0;t<e.length;t++)(0,e[t])()}}var Vi=D.S;D.S=function(e,t){"object"===typeof t&&null!==t&&"function"===typeof t.then&&function(e,t){if(null===Mi){var n=Mi=[];Li=0,Fi=Nu(),ji={status:"pending",value:void 0,then:function(e){n.push(e)}}}Li++,t.then(Ui,Ui)}(0,t),null!==Vi&&Vi(e,t)};var zi=U(null);function $i(){var e=zi.current;return null!==e?e:rc.pooledCache}function qi(e,t){z(zi,null===t?zi.current:t.pool)}function Bi(){var e=$i();return null===e?null:{parent:Oi._currentValue,pool:e}}var Hi=Error(o(460)),Wi=Error(o(474)),Yi=Error(o(542)),Ki={then:function(){}};function Gi(e){return"fulfilled"===(e=e.status)||"rejected"===e}function Qi(){}function Ji(e,t,n){switch(void 0===(n=e[n])?e.push(t):n!==t&&(t.then(Qi,Qi),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e;default:if("string"===typeof t.status)t.then(Qi,Qi);else{if(null!==(e=rc)&&100<e.shellSuspendCounter)throw Error(o(482));(e=t).status="pending",e.then((function(e){if("pending"===t.status){var n=t;n.status="fulfilled",n.value=e}}),(function(e){if("pending"===t.status){var n=t;n.status="rejected",n.reason=e}}))}switch(t.status){case"fulfilled":return t.value;case"rejected":throw es(e=t.reason),e}throw Xi=t,Hi}}var Xi=null;function Zi(){if(null===Xi)throw Error(o(459));var e=Xi;return Xi=null,e}function es(e){if(e===Hi||e===Yi)throw Error(o(483))}var ts=!1;function ns(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function rs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function is(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ss(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&nc)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,t=Ar(e),Or(e,null,n),t}return Nr(e,r,t,n),Ar(e)}function os(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194048&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}function as(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,callbacks:r.callbacks},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var ls=!1;function cs(){if(ls){if(null!==ji)throw ji}}function us(e,t,n,r){ls=!1;var i=e.updateQueue;ts=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((a=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===a?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,u=c=l=null,a=s;;){var f=-536870913&a.lane,p=f!==a.lane;if(p?(sc&f)===f:(r&f)===f){0!==f&&f===Fi&&(ls=!0),null!==u&&(u=u.next={lane:0,tag:a.tag,payload:a.payload,callback:null,next:null});e:{var m=e,g=a;f=t;var y=n;switch(g.tag){case 1:if("function"===typeof(m=g.payload)){h=m.call(y,h,f);break e}h=m;break e;case 3:m.flags=-65537&m.flags|128;case 0:if(null===(f="function"===typeof(m=g.payload)?m.call(y,h,f):m)||void 0===f)break e;h=d({},h,f);break e;case 2:ts=!0}}null!==(f=a.callback)&&(e.flags|=64,p&&(e.flags|=8192),null===(p=i.callbacks)?i.callbacks=[f]:p.push(f))}else p={lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,o|=f;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(p=a).next,p.next=null,i.lastBaseUpdate=p,i.shared.pending=null}}null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null===s&&(i.shared.lanes=0),fc|=o,e.lanes=o,e.memoizedState=h}}function hs(e,t){if("function"!==typeof e)throw Error(o(191,e));e.call(t)}function ds(e,t){var n=e.callbacks;if(null!==n)for(e.callbacks=null,e=0;e<n.length;e++)hs(n[e],t)}var fs=U(null),ps=U(0);function ms(e,t){z(ps,e=hc),z(fs,t),hc=e|t.baseLanes}function gs(){z(ps,hc),z(fs,fs.current)}function ys(){hc=ps.current,V(fs),V(ps)}var vs=0,_s=null,ws=null,bs=null,Es=!1,Ss=!1,ks=!1,Cs=0,Ts=0,xs=null,Is=0;function Ns(){throw Error(o(321))}function Rs(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Gn(e[n],t[n]))return!1;return!0}function Ps(e,t,n,r,i,s){return vs=s,_s=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,D.H=null===e||null===e.memoizedState?Wo:Yo,ks=!1,s=n(r,i),ks=!1,Ss&&(s=As(t,n,r,i)),Os(e),s}function Os(e){D.H=Ho;var t=null!==ws&&null!==ws.next;if(vs=0,bs=ws=_s=null,Es=!1,Ts=0,xs=null,t)throw Error(o(300));null===e||xa||null!==(e=e.dependencies)&&ki(e)&&(xa=!0)}function As(e,t,n,r){_s=e;var i=0;do{if(Ss&&(xs=null),Ts=0,Ss=!1,25<=i)throw Error(o(301));if(i+=1,bs=ws=null,null!=e.updateQueue){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,null!=s.memoCache&&(s.memoCache.index=0)}D.H=Ko,s=t(n,r)}while(Ss);return s}function Ds(){var e=D.H,t=e.useState()[0];return t="function"===typeof t.then?Vs(t):t,e=e.useState()[0],(null!==ws?ws.memoizedState:null)!==e&&(_s.flags|=1024),t}function Ms(){var e=0!==Cs;return Cs=0,e}function Ls(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Fs(e){if(Es){for(e=e.memoizedState;null!==e;){var t=e.queue;null!==t&&(t.pending=null),e=e.next}Es=!1}vs=0,bs=ws=_s=null,Ss=!1,Ts=Cs=0,xs=null}function js(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===bs?_s.memoizedState=bs=e:bs=bs.next=e,bs}function Us(){if(null===ws){var e=_s.alternate;e=null!==e?e.memoizedState:null}else e=ws.next;var t=null===bs?_s.memoizedState:bs.next;if(null!==t)bs=t,ws=e;else{if(null===e){if(null===_s.alternate)throw Error(o(467));throw Error(o(310))}e={memoizedState:(ws=e).memoizedState,baseState:ws.baseState,baseQueue:ws.baseQueue,queue:ws.queue,next:null},null===bs?_s.memoizedState=bs=e:bs=bs.next=e}return bs}function Vs(e){var t=Ts;return Ts+=1,null===xs&&(xs=[]),e=Ji(xs,e,t),t=_s,null===(null===bs?t.memoizedState:bs.next)&&(t=t.alternate,D.H=null===t||null===t.memoizedState?Wo:Yo),e}function zs(e){if(null!==e&&"object"===typeof e){if("function"===typeof e.then)return Vs(e);if(e.$$typeof===b)return Ti(e)}throw Error(o(438,String(e)))}function $s(e){var t=null,n=_s.updateQueue;if(null!==n&&(t=n.memoCache),null==t){var r=_s.alternate;null!==r&&(null!==(r=r.updateQueue)&&(null!=(r=r.memoCache)&&(t={data:r.data.map((function(e){return e.slice()})),index:0})))}if(null==t&&(t={data:[],index:0}),null===n&&(n={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=n),n.memoCache=t,void 0===(n=t.data[t.index]))for(n=t.data[t.index]=Array(e),r=0;r<e;r++)n[r]=I;return t.index++,n}function qs(e,t){return"function"===typeof t?t(e):t}function Bs(e){return Hs(Us(),ws,e)}function Hs(e,t,n){var r=e.queue;if(null===r)throw Error(o(311));r.lastRenderedReducer=n;var i=e.baseQueue,s=r.pending;if(null!==s){if(null!==i){var a=i.next;i.next=s.next,s.next=a}t.baseQueue=i=s,r.pending=null}if(s=e.baseState,null===i)e.memoizedState=s;else{var l=a=null,c=null,u=t=i.next,h=!1;do{var d=-536870913&u.lane;if(d!==u.lane?(sc&d)===d:(vs&d)===d){var f=u.revertLane;if(0===f)null!==c&&(c=c.next={lane:0,revertLane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),d===Fi&&(h=!0);else{if((vs&f)===f){u=u.next,f===Fi&&(h=!0);continue}d={lane:0,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=d,a=s):c=c.next=d,_s.lanes|=f,fc|=f}d=u.action,ks&&n(s,d),s=u.hasEagerState?u.eagerState:n(s,d)}else f={lane:d,revertLane:u.revertLane,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null},null===c?(l=c=f,a=s):c=c.next=f,_s.lanes|=d,fc|=d;u=u.next}while(null!==u&&u!==t);if(null===c?a=s:c.next=l,!Gn(s,e.memoizedState)&&(xa=!0,h&&null!==(n=ji)))throw n;e.memoizedState=s,e.baseState=a,e.baseQueue=c,r.lastRenderedState=s}return null===i&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Ws(e){var t=Us(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var a=i=i.next;do{s=e(s,a.action),a=a.next}while(a!==i);Gn(s,t.memoizedState)||(xa=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Ys(e,t,n){var r=_s,i=Us(),s=si;if(s){if(void 0===n)throw Error(o(407));n=n()}else n=t();var a=!Gn((ws||i).memoizedState,n);if(a&&(i.memoizedState=n,xa=!0),i=i.queue,yo(2048,8,Qs.bind(null,r,i,e),[e]),i.getSnapshot!==t||a||null!==bs&&1&bs.memoizedState.tag){if(r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Gs.bind(null,r,i,n,t),null),null===rc)throw Error(o(349));s||0!==(124&vs)||Ks(r,t,n)}return n}function Ks(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=_s.updateQueue)?(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Gs(e,t,n,r){t.value=n,t.getSnapshot=r,Js(t)&&Xs(e)}function Qs(e,t,n){return n((function(){Js(t)&&Xs(e)}))}function Js(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Gn(e,n)}catch(r){return!0}}function Xs(e){var t=Pr(e,2);null!==t&&Lc(t,e,2)}function Zs(e){var t=js();if("function"===typeof e){var n=e;if(e=n(),ks){de(!0);try{n()}finally{de(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:e},t}function eo(e,t,n,r){return e.baseState=n,Hs(e,ws,"function"===typeof r?r:qs)}function to(e,t,n,r,i){if($o(e))throw Error(o(485));if(null!==(e=t.action)){var s={payload:i,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(e){s.listeners.push(e)}};null!==D.T?n(!0):s.isTransition=!1,r(s),null===(n=t.pending)?(s.next=t.pending=s,no(t,s)):(s.next=n.next,t.pending=n.next=s)}}function no(e,t){var n=t.action,r=t.payload,i=e.state;if(t.isTransition){var s=D.T,o={};D.T=o;try{var a=n(i,r),l=D.S;null!==l&&l(o,a),ro(e,t,a)}catch(c){so(e,t,c)}finally{D.T=s}}else try{ro(e,t,s=n(i,r))}catch(u){so(e,t,u)}}function ro(e,t,n){null!==n&&"object"===typeof n&&"function"===typeof n.then?n.then((function(n){io(e,t,n)}),(function(n){return so(e,t,n)})):io(e,t,n)}function io(e,t,n){t.status="fulfilled",t.value=n,oo(t),e.state=n,null!==(t=e.pending)&&((n=t.next)===t?e.pending=null:(n=n.next,t.next=n,no(e,n)))}function so(e,t,n){var r=e.pending;if(e.pending=null,null!==r){r=r.next;do{t.status="rejected",t.reason=n,oo(t),t=t.next}while(t!==r)}e.action=null}function oo(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function ao(e,t){return t}function lo(e,t){if(si){var n=rc.formState;if(null!==n){e:{var r=_s;if(si){if(ii){t:{for(var i=ii,s=ai;8!==i.nodeType;){if(!s){i=null;break t}if(null===(i=yh(i.nextSibling))){i=null;break t}}i="F!"===(s=i.data)||"F"===s?i:null}if(i){ii=yh(i.nextSibling),r="F!"===i.data;break e}}ci(r)}r=!1}r&&(t=n[0])}}return(n=js()).memoizedState=n.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ao,lastRenderedState:t},n.queue=r,n=Uo.bind(null,_s,r),r.dispatch=n,r=Zs(!1),s=zo.bind(null,_s,!1,r.queue),i={state:t,dispatch:null,action:e,pending:null},(r=js()).queue=i,n=to.bind(null,_s,i,s,n),i.dispatch=n,r.memoizedState=e,[t,n,!1]}function co(e){return uo(Us(),ws,e)}function uo(e,t,n){if(t=Hs(e,t,ao)[0],e=Bs(qs)[0],"object"===typeof t&&null!==t&&"function"===typeof t.then)try{var r=Vs(t)}catch(o){if(o===Hi)throw Yi;throw o}else r=t;var i=(t=Us()).queue,s=i.dispatch;return n!==t.memoizedState&&(_s.flags|=2048,po(9,{destroy:void 0,resource:void 0},ho.bind(null,i,n),null)),[r,s,e]}function ho(e,t){e.action=t}function fo(e){var t=Us(),n=ws;if(null!==n)return uo(t,n,e);Us(),t=t.memoizedState;var r=(n=Us()).queue.dispatch;return n.memoizedState=e,[t,r,!1]}function po(e,t,n,r){return e={tag:e,create:n,deps:r,inst:t,next:null},null===(t=_s.updateQueue)&&(t={lastEffect:null,events:null,stores:null,memoCache:null},_s.updateQueue=t),null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function mo(){return Us().memoizedState}function go(e,t,n,r){var i=js();r=void 0===r?null:r,_s.flags|=e,i.memoizedState=po(1|t,{destroy:void 0,resource:void 0},n,r)}function yo(e,t,n,r){var i=Us();r=void 0===r?null:r;var s=i.memoizedState.inst;null!==ws&&null!==r&&Rs(r,ws.memoizedState.deps)?i.memoizedState=po(t,s,n,r):(_s.flags|=e,i.memoizedState=po(1|t,s,n,r))}function vo(e,t){go(8390656,8,e,t)}function _o(e,t){yo(2048,8,e,t)}function wo(e,t){return yo(4,2,e,t)}function bo(e,t){return yo(4,4,e,t)}function Eo(e,t){if("function"===typeof t){e=e();var n=t(e);return function(){"function"===typeof n?n():t(null)}}if(null!==t&&void 0!==t)return e=e(),t.current=e,function(){t.current=null}}function So(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,yo(4,4,Eo.bind(null,t,e),n)}function ko(){}function Co(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;return null!==t&&Rs(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function To(e,t){var n=Us();t=void 0===t?null:t;var r=n.memoizedState;if(null!==t&&Rs(t,r[1]))return r[0];if(r=e(),ks){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r}function xo(e,t,n){return void 0===n||0!==(1073741824&vs)?e.memoizedState=t:(e.memoizedState=n,e=Mc(),_s.lanes|=e,fc|=e,n)}function Io(e,t,n,r){return Gn(n,t)?n:null!==fs.current?(e=xo(e,n,r),Gn(e,t)||(xa=!0),e):0===(42&vs)?(xa=!0,e.memoizedState=n):(e=Mc(),_s.lanes|=e,fc|=e,t)}function No(e,t,n,r,i){var s=M.p;M.p=0!==s&&8>s?s:8;var o=D.T,a={};D.T=a,zo(e,!1,t,n);try{var l=i(),c=D.S;if(null!==c&&c(a,l),null!==l&&"object"===typeof l&&"function"===typeof l.then)Vo(e,t,function(e,t){var n=[],r={status:"pending",value:null,reason:null,then:function(e){n.push(e)}};return e.then((function(){r.status="fulfilled",r.value=t;for(var e=0;e<n.length;e++)(0,n[e])(t)}),(function(e){for(r.status="rejected",r.reason=e,e=0;e<n.length;e++)(0,n[e])(void 0)})),r}(l,r),Dc());else Vo(e,t,r,Dc())}catch(u){Vo(e,t,{then:function(){},status:"rejected",reason:u},Dc())}finally{M.p=s,D.T=o}}function Ro(){}function Po(e,t,n,r){if(5!==e.tag)throw Error(o(476));var i=Oo(e).queue;No(e,i,t,L,null===n?Ro:function(){return Ao(e),n(r)})}function Oo(e){var t=e.memoizedState;if(null!==t)return t;var n={};return(t={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:L},next:null}).next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qs,lastRenderedState:n},next:null},e.memoizedState=t,null!==(e=e.alternate)&&(e.memoizedState=t),t}function Ao(e){Vo(e,Oo(e).next.queue,{},Dc())}function Do(){return Ti(Kh)}function Mo(){return Us().memoizedState}function Lo(){return Us().memoizedState}function Fo(e){for(var t=e.return;null!==t;){switch(t.tag){case 24:case 3:var n=Dc(),r=ss(t,e=is(n),n);return null!==r&&(Lc(r,t,n),os(r,t,n)),t={cache:Ai()},void(e.payload=t)}t=t.return}}function jo(e,t,n){var r=Dc();n={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null},$o(e)?qo(t,n):null!==(n=Rr(e,t,n,r))&&(Lc(n,e,r),Bo(n,t,r))}function Uo(e,t,n){Vo(e,t,n,Dc())}function Vo(e,t,n,r){var i={lane:r,revertLane:0,action:n,hasEagerState:!1,eagerState:null,next:null};if($o(e))qo(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Gn(a,o))return Nr(e,t,i,0),null===rc&&Ir(),!1}catch(l){}if(null!==(n=Rr(e,t,i,r)))return Lc(n,e,r),Bo(n,t,r),!0}return!1}function zo(e,t,n,r){if(r={lane:2,revertLane:Nu(),action:r,hasEagerState:!1,eagerState:null,next:null},$o(e)){if(t)throw Error(o(479))}else null!==(t=Rr(e,n,r,2))&&Lc(t,e,2)}function $o(e){var t=e.alternate;return e===_s||null!==t&&t===_s}function qo(e,t){Ss=Es=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bo(e,t,n){if(0!==(4194048&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xe(e,n)}}var Ho={readContext:Ti,use:zs,useCallback:Ns,useContext:Ns,useEffect:Ns,useImperativeHandle:Ns,useLayoutEffect:Ns,useInsertionEffect:Ns,useMemo:Ns,useReducer:Ns,useRef:Ns,useState:Ns,useDebugValue:Ns,useDeferredValue:Ns,useTransition:Ns,useSyncExternalStore:Ns,useId:Ns,useHostTransitionStatus:Ns,useFormState:Ns,useActionState:Ns,useOptimistic:Ns,useMemoCache:Ns,useCacheRefresh:Ns},Wo={readContext:Ti,use:zs,useCallback:function(e,t){return js().memoizedState=[e,void 0===t?null:t],e},useContext:Ti,useEffect:vo,useImperativeHandle:function(e,t,n){n=null!==n&&void 0!==n?n.concat([e]):null,go(4194308,4,Eo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return go(4194308,4,e,t)},useInsertionEffect:function(e,t){go(4,2,e,t)},useMemo:function(e,t){var n=js();t=void 0===t?null:t;var r=e();if(ks){de(!0);try{e()}finally{de(!1)}}return n.memoizedState=[r,t],r},useReducer:function(e,t,n){var r=js();if(void 0!==n){var i=n(t);if(ks){de(!0);try{n(t)}finally{de(!1)}}}else i=t;return r.memoizedState=r.baseState=i,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:i},r.queue=e,e=e.dispatch=jo.bind(null,_s,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},js().memoizedState=e},useState:function(e){var t=(e=Zs(e)).queue,n=Uo.bind(null,_s,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:ko,useDeferredValue:function(e,t){return xo(js(),e,t)},useTransition:function(){var e=Zs(!1);return e=No.bind(null,_s,e.queue,!0,!1),js().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var r=_s,i=js();if(si){if(void 0===n)throw Error(o(407));n=n()}else{if(n=t(),null===rc)throw Error(o(349));0!==(124&sc)||Ks(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,vo(Qs.bind(null,r,s,e),[e]),r.flags|=2048,po(9,{destroy:void 0,resource:void 0},Gs.bind(null,r,s,n,t),null),n},useId:function(){var e=js(),t=rc.identifierPrefix;if(si){var n=Xr;t="\xab"+t+"R"+(n=(Jr&~(1<<32-fe(Jr)-1)).toString(32)+n),0<(n=Cs++)&&(t+="H"+n.toString(32)),t+="\xbb"}else t="\xab"+t+"r"+(n=Is++).toString(32)+"\xbb";return e.memoizedState=t},useHostTransitionStatus:Do,useFormState:lo,useActionState:lo,useOptimistic:function(e){var t=js();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=zo.bind(null,_s,!0,n),n.dispatch=t,[e,t]},useMemoCache:$s,useCacheRefresh:function(){return js().memoizedState=Fo.bind(null,_s)}},Yo={readContext:Ti,use:zs,useCallback:Co,useContext:Ti,useEffect:_o,useImperativeHandle:So,useInsertionEffect:wo,useLayoutEffect:bo,useMemo:To,useReducer:Bs,useRef:mo,useState:function(){return Bs(qs)},useDebugValue:ko,useDeferredValue:function(e,t){return Io(Us(),ws.memoizedState,e,t)},useTransition:function(){var e=Bs(qs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:Vs(e),t]},useSyncExternalStore:Ys,useId:Mo,useHostTransitionStatus:Do,useFormState:co,useActionState:co,useOptimistic:function(e,t){return eo(Us(),0,e,t)},useMemoCache:$s,useCacheRefresh:Lo},Ko={readContext:Ti,use:zs,useCallback:Co,useContext:Ti,useEffect:_o,useImperativeHandle:So,useInsertionEffect:wo,useLayoutEffect:bo,useMemo:To,useReducer:Ws,useRef:mo,useState:function(){return Ws(qs)},useDebugValue:ko,useDeferredValue:function(e,t){var n=Us();return null===ws?xo(n,e,t):Io(n,ws.memoizedState,e,t)},useTransition:function(){var e=Ws(qs)[0],t=Us().memoizedState;return["boolean"===typeof e?e:Vs(e),t]},useSyncExternalStore:Ys,useId:Mo,useHostTransitionStatus:Do,useFormState:fo,useActionState:fo,useOptimistic:function(e,t){var n=Us();return null!==ws?eo(n,0,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:$s,useCacheRefresh:Lo},Go=null,Qo=0;function Jo(e){var t=Qo;return Qo+=1,null===Go&&(Go=[]),Ji(Go,e,t)}function Xo(e,t){t=t.props.ref,e.ref=void 0!==t?t:null}function Zo(e,t){if(t.$$typeof===f)throw Error(o(525));throw e=Object.prototype.toString.call(t),Error(o(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ea(e){return(0,e._init)(e._payload)}function ta(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e){for(var t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(e,t){return(e=jr(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=67108866,n):r:(t.flags|=67108866,n):(t.flags|=1048576,n)}function a(t){return e&&null===t.alternate&&(t.flags|=67108866),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=$r(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===g?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===T&&ea(s)===t.type)?(Xo(t=i(t,n.props),n),t.return=e,t):(Xo(t=Vr(n.type,n.key,n.props,null,e.mode,r),n),t.return=e,t)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=qr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=zr(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t||"bigint"===typeof t)return(t=$r(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case p:return Xo(n=Vr(t.type,t.key,t.props,null,e.mode,n),t),n.return=e,n;case m:return(t=qr(t,e.mode,n)).return=e,t;case T:return d(e,t=(0,t._init)(t._payload),n)}if(A(t)||R(t))return(t=zr(t,e.mode,n,null)).return=e,t;if("function"===typeof t.then)return d(e,Jo(t),n);if(t.$$typeof===b)return d(e,xi(e,t),n);Zo(e,t)}return null}function f(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n||"bigint"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case p:return n.key===i?c(e,t,n,r):null;case m:return n.key===i?u(e,t,n,r):null;case T:return f(e,t,n=(i=n._init)(n._payload),r)}if(A(n)||R(n))return null!==i?null:h(e,t,n,r,null);if("function"===typeof n.then)return f(e,t,Jo(n),r);if(n.$$typeof===b)return f(e,t,xi(e,n),r);Zo(e,n)}return null}function y(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r||"bigint"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case p:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case m:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case T:return y(e,t,n,r=(0,r._init)(r._payload),i)}if(A(r)||R(r))return h(t,e=e.get(n)||null,r,i,null);if("function"===typeof r.then)return y(e,t,n,Jo(r),i);if(r.$$typeof===b)return y(e,t,n,xi(t,r),i);Zo(t,r)}return null}function v(l,c,u,h){if("object"===typeof u&&null!==u&&u.type===g&&null===u.key&&(u=u.props.children),"object"===typeof u&&null!==u){switch(u.$$typeof){case p:e:{for(var _=u.key;null!==c;){if(c.key===_){if((_=u.type)===g){if(7===c.tag){n(l,c.sibling),(h=i(c,u.props.children)).return=l,l=h;break e}}else if(c.elementType===_||"object"===typeof _&&null!==_&&_.$$typeof===T&&ea(_)===c.type){n(l,c.sibling),Xo(h=i(c,u.props),u),h.return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}u.type===g?((h=zr(u.props.children,l.mode,h,u.key)).return=l,l=h):(Xo(h=Vr(u.type,u.key,u.props,null,l.mode,h),u),h.return=l,l=h)}return a(l);case m:e:{for(_=u.key;null!==c;){if(c.key===_){if(4===c.tag&&c.stateNode.containerInfo===u.containerInfo&&c.stateNode.implementation===u.implementation){n(l,c.sibling),(h=i(c,u.children||[])).return=l,l=h;break e}n(l,c);break}t(l,c),c=c.sibling}(h=qr(u,l.mode,h)).return=l,l=h}return a(l);case T:return v(l,c,u=(_=u._init)(u._payload),h)}if(A(u))return function(i,o,a,l){for(var c=null,u=null,h=o,p=o=0,m=null;null!==h&&p<a.length;p++){h.index>p?(m=h,h=null):m=h.sibling;var g=f(i,h,a[p],l);if(null===g){null===h&&(h=m);break}e&&h&&null===g.alternate&&t(i,h),o=s(g,o,p),null===u?c=g:u.sibling=g,u=g,h=m}if(p===a.length)return n(i,h),si&&Zr(i,p),c;if(null===h){for(;p<a.length;p++)null!==(h=d(i,a[p],l))&&(o=s(h,o,p),null===u?c=h:u.sibling=h,u=h);return si&&Zr(i,p),c}for(h=r(h);p<a.length;p++)null!==(m=y(h,i,p,a[p],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?p:m.key),o=s(m,o,p),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),si&&Zr(i,p),c}(l,c,u,h);if(R(u)){if("function"!==typeof(_=R(u)))throw Error(o(150));return function(i,a,l,c){if(null==l)throw Error(o(151));for(var u=null,h=null,p=a,m=a=0,g=null,v=l.next();null!==p&&!v.done;m++,v=l.next()){p.index>m?(g=p,p=null):g=p.sibling;var _=f(i,p,v.value,c);if(null===_){null===p&&(p=g);break}e&&p&&null===_.alternate&&t(i,p),a=s(_,a,m),null===h?u=_:h.sibling=_,h=_,p=g}if(v.done)return n(i,p),si&&Zr(i,m),u;if(null===p){for(;!v.done;m++,v=l.next())null!==(v=d(i,v.value,c))&&(a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return si&&Zr(i,m),u}for(p=r(p);!v.done;m++,v=l.next())null!==(v=y(p,i,m,v.value,c))&&(e&&null!==v.alternate&&p.delete(null===v.key?m:v.key),a=s(v,a,m),null===h?u=v:h.sibling=v,h=v);return e&&p.forEach((function(e){return t(i,e)})),si&&Zr(i,m),u}(l,c,u=_.call(u),h)}if("function"===typeof u.then)return v(l,c,Jo(u),h);if(u.$$typeof===b)return v(l,c,xi(l,u),h);Zo(l,u)}return"string"===typeof u&&""!==u||"number"===typeof u||"bigint"===typeof u?(u=""+u,null!==c&&6===c.tag?(n(l,c.sibling),(h=i(c,u)).return=l,l=h):(n(l,c),(h=$r(u,l.mode,h)).return=l,l=h),a(l)):n(l,c)}return function(e,t,n,r){try{Qo=0;var i=v(e,t,n,r);return Go=null,i}catch(o){if(o===Hi||o===Yi)throw o;var s=Lr(29,o,null,e.mode);return s.lanes=r,s.return=e,s}}}var na=ta(!0),ra=ta(!1),ia=U(null),sa=null;function oa(e){var t=e.alternate;z(ua,1&ua.current),z(ia,e),null===sa&&(null===t||null!==fs.current||null!==t.memoizedState)&&(sa=e)}function aa(e){if(22===e.tag){if(z(ua,ua.current),z(ia,e),null===sa){var t=e.alternate;null!==t&&null!==t.memoizedState&&(sa=e)}}else la()}function la(){z(ua,ua.current),z(ia,ia.current)}function ca(e){V(ia),sa===e&&(sa=null),V(ua)}var ua=U(0);function ha(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||gh(n)))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function da(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:d({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var fa={enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=is(r);i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),os(t,e,r))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Dc(),i=is(r);i.tag=1,i.payload=t,void 0!==n&&null!==n&&(i.callback=n),null!==(t=ss(e,i,r))&&(Lc(t,e,r),os(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Dc(),r=is(n);r.tag=2,void 0!==t&&null!==t&&(r.callback=t),null!==(t=ss(e,r,n))&&(Lc(t,e,n),os(t,e,n))}};function pa(e,t,n,r,i,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Qn(n,r)||!Qn(i,s))}function ma(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&fa.enqueueReplaceState(t,t.state,null)}function ga(e,t){var n=t;if("ref"in t)for(var r in n={},t)"ref"!==r&&(n[r]=t[r]);if(e=e.defaultProps)for(var i in n===t&&(n=d({},n)),e)void 0===n[i]&&(n[i]=e[i]);return n}var ya="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function va(e){ya(e)}function _a(e){console.error(e)}function wa(e){ya(e)}function ba(e,t){try{(0,e.onUncaughtError)(t.value,{componentStack:t.stack})}catch(n){setTimeout((function(){throw n}))}}function Ea(e,t,n){try{(0,e.onCaughtError)(n.value,{componentStack:n.stack,errorBoundary:1===t.tag?t.stateNode:null})}catch(r){setTimeout((function(){throw r}))}}function Sa(e,t,n){return(n=is(n)).tag=3,n.payload={element:null},n.callback=function(){ba(e,t)},n}function ka(e){return(e=is(e)).tag=3,e}function Ca(e,t,n,r){var i=n.type.getDerivedStateFromError;if("function"===typeof i){var s=r.value;e.payload=function(){return i(s)},e.callback=function(){Ea(t,n,r)}}var o=n.stateNode;null!==o&&"function"===typeof o.componentDidCatch&&(e.callback=function(){Ea(t,n,r),"function"!==typeof i&&(null===kc?kc=new Set([this]):kc.add(this));var e=r.stack;this.componentDidCatch(r.value,{componentStack:null!==e?e:""})})}var Ta=Error(o(461)),xa=!1;function Ia(e,t,n,r){t.child=null===e?ra(t,null,n,r):na(t,e.child,n,r)}function Na(e,t,n,r,i){n=n.render;var s=t.ref;if("ref"in r){var o={};for(var a in r)"ref"!==a&&(o[a]=r[a])}else o=r;return Ci(t),r=Ps(e,t,n,o,s,i),a=Ms(),null===e||xa?(si&&a&&ti(t),t.flags|=1,Ia(e,t,r,i),t.child):(Ls(e,t,i),Ga(e,t,i))}function Ra(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Fr(s)||void 0!==s.defaultProps||null!==n.compare?((e=Vr(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Pa(e,t,s,r,i))}if(s=e.child,!Qa(e,i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Qn)(o,r)&&e.ref===t.ref)return Ga(e,t,i)}return t.flags|=1,(e=jr(s,r)).ref=t.ref,e.return=t,t.child=e}function Pa(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Qn(s,r)&&e.ref===t.ref){if(xa=!1,t.pendingProps=r=s,!Qa(e,i))return t.lanes=e.lanes,Ga(e,t,i);0!==(131072&e.flags)&&(xa=!0)}}return Ma(e,t,n,r,i)}function Oa(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode){if(0!==(128&t.flags)){if(r=null!==s?s.baseLanes|n:n,null!==e){for(i=t.child=e.child,s=0;null!==i;)s=s|i.lanes|i.childLanes,i=i.sibling;t.childLanes=s&~r}else t.childLanes=0,t.child=null;return Aa(e,t,r,n)}if(0===(536870912&n))return t.lanes=t.childLanes=536870912,Aa(e,t,null!==s?s.baseLanes|n:n,n);t.memoizedState={baseLanes:0,cachePool:null},null!==e&&qi(0,null!==s?s.cachePool:null),null!==s?ms(t,s):gs(),aa(t)}else null!==s?(qi(0,s.cachePool),ms(t,s),la(),t.memoizedState=null):(null!==e&&qi(0,null),gs(),la());return Ia(e,t,i,n),t.child}function Aa(e,t,n,r){var i=$i();return i=null===i?null:{parent:Oi._currentValue,pool:i},t.memoizedState={baseLanes:n,cachePool:i},null!==e&&qi(0,null),gs(),aa(t),null!==e&&Si(e,t,r,!0),null}function Da(e,t){var n=t.ref;if(null===n)null!==e&&null!==e.ref&&(t.flags|=4194816);else{if("function"!==typeof n&&"object"!==typeof n)throw Error(o(284));null!==e&&e.ref===n||(t.flags|=4194816)}}function Ma(e,t,n,r,i){return Ci(t),n=Ps(e,t,n,r,void 0,i),r=Ms(),null===e||xa?(si&&r&&ti(t),t.flags|=1,Ia(e,t,n,i),t.child):(Ls(e,t,i),Ga(e,t,i))}function La(e,t,n,r,i,s){return Ci(t),t.updateQueue=null,n=As(t,r,n,i),Os(e),r=Ms(),null===e||xa?(si&&r&&ti(t),t.flags|=1,Ia(e,t,n,s),t.child):(Ls(e,t,s),Ga(e,t,s))}function Fa(e,t,n,r,i){if(Ci(t),null===t.stateNode){var s=Dr,o=n.contextType;"object"===typeof o&&null!==o&&(s=Ti(o)),s=new n(r,s),t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,s.updater=fa,t.stateNode=s,s._reactInternals=t,(s=t.stateNode).props=r,s.state=t.memoizedState,s.refs={},ns(t),o=n.contextType,s.context="object"===typeof o&&null!==o?Ti(o):Dr,s.state=t.memoizedState,"function"===typeof(o=n.getDerivedStateFromProps)&&(da(t,n,o,r),s.state=t.memoizedState),"function"===typeof n.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(o=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),o!==s.state&&fa.enqueueReplaceState(s,s.state,null),us(t,r,s,i),cs(),s.state=t.memoizedState),"function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!0}else if(null===e){s=t.stateNode;var a=t.memoizedProps,l=ga(n,a);s.props=l;var c=s.context,u=n.contextType;o=Dr,"object"===typeof u&&null!==u&&(o=Ti(u));var h=n.getDerivedStateFromProps;u="function"===typeof h||"function"===typeof s.getSnapshotBeforeUpdate,a=t.pendingProps!==a,u||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(a||c!==o)&&ma(t,s,r,o),ts=!1;var d=t.memoizedState;s.state=d,us(t,r,s,i),cs(),c=t.memoizedState,a||d!==c||ts?("function"===typeof h&&(da(t,n,h,r),c=t.memoizedState),(l=ts||pa(t,n,l,r,d,c,o))?(u||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||("function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount()),"function"===typeof s.componentDidMount&&(t.flags|=4194308)):("function"===typeof s.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=o,r=l):("function"===typeof s.componentDidMount&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,rs(e,t),u=ga(n,o=t.memoizedProps),s.props=u,h=t.pendingProps,d=s.context,c=n.contextType,l=Dr,"object"===typeof c&&null!==c&&(l=Ti(c)),(c="function"===typeof(a=n.getDerivedStateFromProps)||"function"===typeof s.getSnapshotBeforeUpdate)||"function"!==typeof s.UNSAFE_componentWillReceiveProps&&"function"!==typeof s.componentWillReceiveProps||(o!==h||d!==l)&&ma(t,s,r,l),ts=!1,d=t.memoizedState,s.state=d,us(t,r,s,i),cs();var f=t.memoizedState;o!==h||d!==f||ts||null!==e&&null!==e.dependencies&&ki(e.dependencies)?("function"===typeof a&&(da(t,n,a,r),f=t.memoizedState),(u=ts||pa(t,n,u,r,d,f,l)||null!==e&&null!==e.dependencies&&ki(e.dependencies))?(c||"function"!==typeof s.UNSAFE_componentWillUpdate&&"function"!==typeof s.componentWillUpdate||("function"===typeof s.componentWillUpdate&&s.componentWillUpdate(r,f,l),"function"===typeof s.UNSAFE_componentWillUpdate&&s.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof s.componentDidUpdate&&(t.flags|=4),"function"===typeof s.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),s.props=r,s.state=f,s.context=l,r=u):("function"!==typeof s.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof s.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return s=r,Da(e,t),r=0!==(128&t.flags),s||r?(s=t.stateNode,n=r&&"function"!==typeof n.getDerivedStateFromError?null:s.render(),t.flags|=1,null!==e&&r?(t.child=na(t,e.child,null,i),t.child=na(t,null,n,i)):Ia(e,t,n,i),t.memoizedState=s.state,e=t.child):e=Ga(e,t,i),e}function ja(e,t,n,r){return fi(),t.flags|=256,Ia(e,t,n,r),t.child}var Ua={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Va(e){return{baseLanes:e,cachePool:Bi()}}function za(e,t,n){return e=null!==e?e.childLanes&~n:0,t&&(e|=gc),e}function $a(e,t,n){var r,i=t.pendingProps,s=!1,a=0!==(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!==(2&ua.current)),r&&(s=!0,t.flags&=-129),r=0!==(32&t.flags),t.flags&=-33,null===e){if(si){if(s?oa(t):la(),si){var l,c=ii;if(l=c){e:{for(l=c,c=ai;8!==l.nodeType;){if(!c){c=null;break e}if(null===(l=yh(l.nextSibling))){c=null;break e}}c=l}null!==c?(t.memoizedState={dehydrated:c,treeContext:null!==Qr?{id:Jr,overflow:Xr}:null,retryLane:536870912,hydrationErrors:null},(l=Lr(18,null,null,0)).stateNode=c,l.return=t,t.child=l,ri=t,ii=null,l=!0):l=!1}l||ci(t)}if(null!==(c=t.memoizedState)&&null!==(c=c.dehydrated))return gh(c)?t.lanes=32:t.lanes=536870912,null;ca(t)}return c=i.children,i=i.fallback,s?(la(),c=Ba({mode:"hidden",children:c},s=t.mode),i=zr(i,s,n,null),c.return=t,i.return=t,c.sibling=i,t.child=c,(s=t.child).memoizedState=Va(n),s.childLanes=za(e,r,n),t.memoizedState=Ua,i):(oa(t),qa(t,c))}if(null!==(l=e.memoizedState)&&null!==(c=l.dehydrated)){if(a)256&t.flags?(oa(t),t.flags&=-257,t=Ha(e,t,n)):null!==t.memoizedState?(la(),t.child=e.child,t.flags|=128,t=null):(la(),s=i.fallback,c=t.mode,i=Ba({mode:"visible",children:i.children},c),(s=zr(s,c,n,null)).flags|=2,i.return=t,s.return=t,i.sibling=s,t.child=i,na(t,e.child,null,n),(i=t.child).memoizedState=Va(n),i.childLanes=za(e,r,n),t.memoizedState=Ua,t=s);else if(oa(t),gh(c)){if(r=c.nextSibling&&c.nextSibling.dataset)var u=r.dgst;r=u,(i=Error(o(419))).stack="",i.digest=r,mi({value:i,source:null,stack:null}),t=Ha(e,t,n)}else if(xa||Si(e,t,n,!1),r=0!==(n&e.childLanes),xa||r){if(null!==(r=rc)&&(0!==(i=0!==((i=0!==(42&(i=n&-n))?1:Ie(i))&(r.suspendedLanes|n))?0:i)&&i!==l.retryLane))throw l.retryLane=i,Pr(e,i),Lc(r,e,i),Ta;"$?"===c.data||Yc(),t=Ha(e,t,n)}else"$?"===c.data?(t.flags|=192,t.child=e.child,t=null):(e=l.treeContext,ii=yh(c.nextSibling),ri=t,si=!0,oi=null,ai=!1,null!==e&&(Kr[Gr++]=Jr,Kr[Gr++]=Xr,Kr[Gr++]=Qr,Jr=e.id,Xr=e.overflow,Qr=t),(t=qa(t,i.children)).flags|=4096);return t}return s?(la(),s=i.fallback,c=t.mode,u=(l=e.child).sibling,(i=jr(l,{mode:"hidden",children:i.children})).subtreeFlags=65011712&l.subtreeFlags,null!==u?s=jr(u,s):(s=zr(s,c,n,null)).flags|=2,s.return=t,i.return=t,i.sibling=s,t.child=i,i=s,s=t.child,null===(c=e.child.memoizedState)?c=Va(n):(null!==(l=c.cachePool)?(u=Oi._currentValue,l=l.parent!==u?{parent:u,pool:u}:l):l=Bi(),c={baseLanes:c.baseLanes|n,cachePool:l}),s.memoizedState=c,s.childLanes=za(e,r,n),t.memoizedState=Ua,i):(oa(t),e=(n=e.child).sibling,(n=jr(n,{mode:"visible",children:i.children})).return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n)}function qa(e,t){return(t=Ba({mode:"visible",children:t},e.mode)).return=e,e.child=t}function Ba(e,t){return(e=Lr(22,e,null,t)).lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ha(e,t,n){return na(t,e.child,null,n),(e=qa(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Wa(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),bi(e.return,t,n)}function Ya(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Ka(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Ia(e,t,r.children,n),0!==(2&(r=ua.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Wa(e,n,t);else if(19===e.tag)Wa(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(z(ua,r),i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ha(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Ya(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ha(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Ya(t,!0,n,null,s);break;case"together":Ya(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ga(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),fc|=t.lanes,0===(n&t.childLanes)){if(null===e)return null;if(Si(e,t,n,!1),0===(n&t.childLanes))return null}if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=jr(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=jr(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Qa(e,t){return 0!==(e.lanes&t)||!(null===(e=e.dependencies)||!ki(e))}function Ja(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps)xa=!0;else{if(!Qa(e,n)&&0===(128&t.flags))return xa=!1,function(e,t,n){switch(t.tag){case 3:W(t,t.stateNode.containerInfo),_i(0,Oi,e.memoizedState.cache),fi();break;case 27:case 5:K(t);break;case 4:W(t,t.stateNode.containerInfo);break;case 10:_i(0,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(null!==r)return null!==r.dehydrated?(oa(t),t.flags|=128,null):0!==(n&t.child.childLanes)?$a(e,t,n):(oa(t),null!==(e=Ga(e,t,n))?e.sibling:null);oa(t);break;case 19:var i=0!==(128&e.flags);if((r=0!==(n&t.childLanes))||(Si(e,t,n,!1),r=0!==(n&t.childLanes)),i){if(r)return Ka(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),z(ua,ua.current),r)break;return null;case 22:case 23:return t.lanes=0,Oa(e,t,n);case 24:_i(0,Oi,e.memoizedState.cache)}return Ga(e,t,n)}(e,t,n);xa=0!==(131072&e.flags)}else xa=!1,si&&0!==(1048576&t.flags)&&ei(t,Yr,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,i=r._init;if(r=i(r._payload),t.type=r,"function"!==typeof r){if(void 0!==r&&null!==r){if((i=r.$$typeof)===E){t.tag=11,t=Na(null,t,r,e,n);break e}if(i===C){t.tag=14,t=Ra(null,t,r,e,n);break e}}throw t=O(r)||r,Error(o(306,t,""))}Fr(r)?(e=ga(r,e),t.tag=1,t=Fa(null,t,r,e,n)):(t.tag=0,t=Ma(null,t,r,e,n))}return t;case 0:return Ma(e,t,t.type,t.pendingProps,n);case 1:return Fa(e,t,r=t.type,i=ga(r,t.pendingProps),n);case 3:e:{if(W(t,t.stateNode.containerInfo),null===e)throw Error(o(387));r=t.pendingProps;var s=t.memoizedState;i=s.element,rs(e,t),us(t,r,null,n);var a=t.memoizedState;if(r=a.cache,_i(0,Oi,r),r!==s.cache&&Ei(t,[Oi],n,!0),cs(),r=a.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:a.cache},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=ja(e,t,r,n);break e}if(r!==i){mi(i=kr(Error(o(424)),t)),t=ja(e,t,r,n);break e}if(9===(e=t.stateNode.containerInfo).nodeType)e=e.body;else e="HTML"===e.nodeName?e.ownerDocument.body:e;for(ii=yh(e.firstChild),ri=t,si=!0,oi=null,ai=!0,n=ra(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(fi(),r===i){t=Ga(e,t,n);break e}Ia(e,t,r,n)}t=t.child}return t;case 26:return Da(e,t),null===e?(n=Ih(t.type,null,t.pendingProps,null))?t.memoizedState=n:si||(n=t.type,e=t.pendingProps,(r=rh(B.current).createElement(n))[Oe]=t,r[Ae]=e,eh(r,n,e),He(r),t.stateNode=r):t.memoizedState=Ih(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return K(t),null===e&&si&&(r=t.stateNode=wh(t.type,t.pendingProps,B.current),ri=t,ai=!0,i=ii,fh(t.type)?(vh=i,ii=yh(r.firstChild)):ii=i),Ia(e,t,t.pendingProps.children,n),Da(e,t),null===e&&(t.flags|=4194304),t.child;case 5:return null===e&&si&&((i=r=ii)&&(null!==(r=function(e,t,n,r){for(;1===e.nodeType;){var i=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&("INPUT"!==e.nodeName||"hidden"!==e.type))break}else if(r){if(!e[Ue])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if("stylesheet"===(s=e.getAttribute("rel"))&&e.hasAttribute("data-precedence"))break;if(s!==i.rel||e.getAttribute("href")!==(null==i.href||""===i.href?null:i.href)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin)||e.getAttribute("title")!==(null==i.title?null:i.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(((s=e.getAttribute("src"))!==(null==i.src?null:i.src)||e.getAttribute("type")!==(null==i.type?null:i.type)||e.getAttribute("crossorigin")!==(null==i.crossOrigin?null:i.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else{if("input"!==t||"hidden"!==e.type)return e;var s=null==i.name?null:""+i.name;if("hidden"===i.type&&e.getAttribute("name")===s)return e}if(null===(e=yh(e.nextSibling)))break}return null}(r,t.type,t.pendingProps,ai))?(t.stateNode=r,ri=t,ii=yh(r.firstChild),ai=!1,i=!0):i=!1),i||ci(t)),K(t),i=t.type,s=t.pendingProps,a=null!==e?e.memoizedProps:null,r=s.children,oh(i,s)?r=null:null!==a&&oh(i,a)&&(t.flags|=32),null!==t.memoizedState&&(i=Ps(e,t,Ds,null,null,n),Kh._currentValue=i),Da(e,t),Ia(e,t,r,n),t.child;case 6:return null===e&&si&&((e=n=ii)&&(null!==(n=function(e,t,n){if(""===t)return null;for(;3!==e.nodeType;){if((1!==e.nodeType||"INPUT"!==e.nodeName||"hidden"!==e.type)&&!n)return null;if(null===(e=yh(e.nextSibling)))return null}return e}(n,t.pendingProps,ai))?(t.stateNode=n,ri=t,ii=null,e=!0):e=!1),e||ci(t)),null;case 13:return $a(e,t,n);case 4:return W(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=na(t,null,r,n):Ia(e,t,r,n),t.child;case 11:return Na(e,t,t.type,t.pendingProps,n);case 7:return Ia(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ia(e,t,t.pendingProps.children,n),t.child;case 10:return r=t.pendingProps,_i(0,t.type,r.value),Ia(e,t,r.children,n),t.child;case 9:return i=t.type._context,r=t.pendingProps.children,Ci(t),r=r(i=Ti(i)),t.flags|=1,Ia(e,t,r,n),t.child;case 14:return Ra(e,t,t.type,t.pendingProps,n);case 15:return Pa(e,t,t.type,t.pendingProps,n);case 19:return Ka(e,t,n);case 31:return r=t.pendingProps,n=t.mode,r={mode:r.mode,children:r.children},null===e?((n=Ba(r,n)).ref=t.ref,t.child=n,n.return=t,t=n):((n=jr(e.child,r)).ref=t.ref,t.child=n,n.return=t,t=n),t;case 22:return Oa(e,t,n);case 24:return Ci(t),r=Ti(Oi),null===e?(null===(i=$i())&&(i=rc,s=Ai(),i.pooledCache=s,s.refCount++,null!==s&&(i.pooledCacheLanes|=n),i=s),t.memoizedState={parent:r,cache:i},ns(t),_i(0,Oi,i)):(0!==(e.lanes&n)&&(rs(e,t),us(t,null,null,n),cs()),i=e.memoizedState,s=t.memoizedState,i.parent!==r?(i={parent:r,cache:r},t.memoizedState=i,0===t.lanes&&(t.memoizedState=t.updateQueue.baseState=i),_i(0,Oi,r)):(r=s.cache,_i(0,Oi,r),r!==i.cache&&Ei(t,[Oi],n,!0))),Ia(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(o(156,t.tag))}function Xa(e){e.flags|=4}function Za(e,t){if("stylesheet"!==t.type||0!==(4&t.state.loading))e.flags&=-16777217;else if(e.flags|=16777216,!zh(t)){if(null!==(t=ia.current)&&((4194048&sc)===sc?null!==sa:(62914560&sc)!==sc&&0===(536870912&sc)||t!==sa))throw Xi=Ki,Wi;e.flags|=8192}}function el(e,t){null!==t&&(e.flags|=4),16384&e.flags&&(t=22!==e.tag?Se():536870912,e.lanes|=t,yc|=t)}function tl(e,t){if(!si)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=65011712&i.subtreeFlags,r|=65011712&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function rl(e,t,n){var r=t.pendingProps;switch(ni(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:case 1:return nl(t),null;case 3:return n=t.stateNode,r=null,null!==e&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),wi(Oi),Y(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(di(t)?Xa(t):null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,pi())),nl(t),null;case 26:return n=t.memoizedState,null===e?(Xa(t),null!==n?(nl(t),Za(t,n)):(nl(t),t.flags&=-16777217)):n?n!==e.memoizedState?(Xa(t),nl(t),Za(t,n)):(nl(t),t.flags&=-16777217):(e.memoizedProps!==r&&Xa(t),nl(t),t.flags&=-16777217),null;case 27:G(t),n=B.current;var i=t.type;if(null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}e=$.current,di(t)?ui(t):(e=wh(i,r,n),t.stateNode=e,Xa(t))}return nl(t),null;case 5:if(G(t),n=t.type,null!==e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if(!r){if(null===t.stateNode)throw Error(o(166));return nl(t),null}if(e=$.current,di(t))ui(t);else{switch(i=rh(B.current),e){case 1:e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case 2:e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;default:switch(n){case"svg":e=i.createElementNS("http://www.w3.org/2000/svg",n);break;case"math":e=i.createElementNS("http://www.w3.org/1998/Math/MathML",n);break;case"script":(e=i.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e="string"===typeof r.is?i.createElement("select",{is:r.is}):i.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e="string"===typeof r.is?i.createElement(n,{is:r.is}):i.createElement(n)}}e[Oe]=t,e[Ae]=r;e:for(i=t.child;null!==i;){if(5===i.tag||6===i.tag)e.appendChild(i.stateNode);else if(4!==i.tag&&27!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;null===i.sibling;){if(null===i.return||i.return===t)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}t.stateNode=e;e:switch(eh(e,n,r),n){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Xa(t)}}return nl(t),t.flags&=-16777217,null;case 6:if(e&&null!=t.stateNode)e.memoizedProps!==r&&Xa(t);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));if(e=B.current,di(t)){if(e=t.stateNode,n=t.memoizedProps,r=null,null!==(i=ri))switch(i.tag){case 27:case 5:r=i.memoizedProps}e[Oe]=t,(e=!!(e.nodeValue===n||null!==r&&!0===r.suppressHydrationWarning||Qu(e.nodeValue,n)))||ci(t)}else(e=rh(e).createTextNode(r))[Oe]=t,t.stateNode=e}return nl(t),null;case 13:if(r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(i=di(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(o(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(o(317));i[Oe]=t}else fi(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),i=!1}else i=pi(),null!==e&&null!==e.memoizedState&&(e.memoizedState.hydrationErrors=i),i=!0;if(!i)return 256&t.flags?(ca(t),t):(ca(t),null)}if(ca(t),0!==(128&t.flags))return t.lanes=n,t;if(n=null!==r,e=null!==e&&null!==e.memoizedState,n){i=null,null!==(r=t.child).alternate&&null!==r.alternate.memoizedState&&null!==r.alternate.memoizedState.cachePool&&(i=r.alternate.memoizedState.cachePool.pool);var s=null;null!==r.memoizedState&&null!==r.memoizedState.cachePool&&(s=r.memoizedState.cachePool.pool),s!==i&&(r.flags|=2048)}return n!==e&&n&&(t.child.flags|=8192),el(t,t.updateQueue),nl(t),null;case 4:return Y(),null===e&&Vu(t.stateNode.containerInfo),nl(t),null;case 10:return wi(t.type),nl(t),null;case 19:if(V(ua),null===(i=t.memoizedState))return nl(t),null;if(r=0!==(128&t.flags),null===(s=i.rendering))if(r)tl(i,!1);else{if(0!==dc||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=ha(e))){for(t.flags|=128,tl(i,!1),e=s.updateQueue,t.updateQueue=e,el(t,e),t.subtreeFlags=0,e=n,n=t.child;null!==n;)Ur(n,e),n=n.sibling;return z(ua,1&ua.current|2),t.child}e=e.sibling}null!==i.tail&&te()>Ec&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ha(s))){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,el(t,e),tl(i,!0),null===i.tail&&"hidden"===i.tailMode&&!s.alternate&&!si)return nl(t),null}else 2*te()-i.renderingStartTime>Ec&&536870912!==n&&(t.flags|=128,r=!0,tl(i,!1),t.lanes=4194304);i.isBackwards?(s.sibling=t.child,t.child=s):(null!==(e=i.last)?e.sibling=s:t.child=s,i.last=s)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=te(),t.sibling=null,e=ua.current,z(ua,r?1&e|2:1&e),t):(nl(t),null);case 22:case 23:return ca(t),ys(),r=null!==t.memoizedState,null!==e?null!==e.memoizedState!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?0!==(536870912&n)&&0===(128&t.flags)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null!==(n=t.updateQueue)&&el(t,n.retryQueue),n=null,null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),r=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(r=t.memoizedState.cachePool.pool),r!==n&&(t.flags|=2048),null!==e&&V(zi),null;case 24:return n=null,null!==e&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),wi(Oi),nl(t),null;case 25:case 30:return null}throw Error(o(156,t.tag))}function il(e,t){switch(ni(t),t.tag){case 1:return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return wi(Oi),Y(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 26:case 27:case 5:return G(t),null;case 13:if(ca(t),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(o(340));fi()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return V(ua),null;case 4:return Y(),null;case 10:return wi(t.type),null;case 22:case 23:return ca(t),ys(),null!==e&&V(zi),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 24:return wi(Oi),null;default:return null}}function sl(e,t){switch(ni(t),t.tag){case 3:wi(Oi),Y();break;case 26:case 27:case 5:G(t);break;case 4:Y();break;case 13:ca(t);break;case 19:V(ua);break;case 10:wi(t.type);break;case 22:case 23:ca(t),ys(),null!==e&&V(zi);break;case 24:wi(Oi)}}function ol(e,t){try{var n=t.updateQueue,r=null!==n?n.lastEffect:null;if(null!==r){var i=r.next;n=i;do{if((n.tag&e)===e){r=void 0;var s=n.create,o=n.inst;r=s(),o.destroy=r}n=n.next}while(n!==i)}}catch(a){uu(t,t.return,a)}}function al(e,t,n){try{var r=t.updateQueue,i=null!==r?r.lastEffect:null;if(null!==i){var s=i.next;r=s;do{if((r.tag&e)===e){var o=r.inst,a=o.destroy;if(void 0!==a){o.destroy=void 0,i=t;var l=n,c=a;try{c()}catch(u){uu(i,l,u)}}}r=r.next}while(r!==s)}}catch(u){uu(t,t.return,u)}}function ll(e){var t=e.updateQueue;if(null!==t){var n=e.stateNode;try{ds(t,n)}catch(r){uu(e,e.return,r)}}}function cl(e,t,n){n.props=ga(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(r){uu(e,t,r)}}function ul(e,t){try{var n=e.ref;if(null!==n){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;default:r=e.stateNode}"function"===typeof n?e.refCleanup=n(r):n.current=r}}catch(i){uu(e,t,i)}}function hl(e,t){var n=e.ref,r=e.refCleanup;if(null!==n)if("function"===typeof r)try{r()}catch(i){uu(e,t,i)}finally{e.refCleanup=null,null!=(e=e.alternate)&&(e.refCleanup=null)}else if("function"===typeof n)try{n(null)}catch(s){uu(e,t,s)}else n.current=null}function dl(e){var t=e.type,n=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&r.focus();break e;case"img":n.src?r.src=n.src:n.srcSet&&(r.srcset=n.srcSet)}}catch(i){uu(e,e.return,i)}}function fl(e,t,n){try{var r=e.stateNode;!function(e,t,n,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var i=null,s=null,a=null,l=null,c=null,u=null,h=null;for(p in n){var d=n[p];if(n.hasOwnProperty(p)&&null!=d)switch(p){case"checked":case"value":break;case"defaultValue":c=d;default:r.hasOwnProperty(p)||Xu(e,t,p,null,r,d)}}for(var f in r){var p=r[f];if(d=n[f],r.hasOwnProperty(f)&&(null!=p||null!=d))switch(f){case"type":s=p;break;case"name":i=p;break;case"checked":u=p;break;case"defaultChecked":h=p;break;case"value":a=p;break;case"defaultValue":l=p;break;case"children":case"dangerouslySetInnerHTML":if(null!=p)throw Error(o(137,t));break;default:p!==d&&Xu(e,t,f,p,r,d)}}return void gt(e,a,l,c,u,h,s,i);case"select":for(s in p=a=l=f=null,n)if(c=n[s],n.hasOwnProperty(s)&&null!=c)switch(s){case"value":break;case"multiple":p=c;default:r.hasOwnProperty(s)||Xu(e,t,s,null,r,c)}for(i in r)if(s=r[i],c=n[i],r.hasOwnProperty(i)&&(null!=s||null!=c))switch(i){case"value":f=s;break;case"defaultValue":l=s;break;case"multiple":a=s;default:s!==c&&Xu(e,t,i,s,r,c)}return t=l,n=a,r=p,void(null!=f?_t(e,!!n,f,!1):!!r!==!!n&&(null!=t?_t(e,!!n,t,!0):_t(e,!!n,n?[]:"",!1)));case"textarea":for(l in p=f=null,n)if(i=n[l],n.hasOwnProperty(l)&&null!=i&&!r.hasOwnProperty(l))switch(l){case"value":case"children":break;default:Xu(e,t,l,null,r,i)}for(a in r)if(i=r[a],s=n[a],r.hasOwnProperty(a)&&(null!=i||null!=s))switch(a){case"value":f=i;break;case"defaultValue":p=i;break;case"children":break;case"dangerouslySetInnerHTML":if(null!=i)throw Error(o(91));break;default:i!==s&&Xu(e,t,a,i,r,s)}return void wt(e,f,p);case"option":for(var m in n)if(f=n[m],n.hasOwnProperty(m)&&null!=f&&!r.hasOwnProperty(m))if("selected"===m)e.selected=!1;else Xu(e,t,m,null,r,f);for(c in r)if(f=r[c],p=n[c],r.hasOwnProperty(c)&&f!==p&&(null!=f||null!=p))if("selected"===c)e.selected=f&&"function"!==typeof f&&"symbol"!==typeof f;else Xu(e,t,c,f,r,p);return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var g in n)f=n[g],n.hasOwnProperty(g)&&null!=f&&!r.hasOwnProperty(g)&&Xu(e,t,g,null,r,f);for(u in r)if(f=r[u],p=n[u],r.hasOwnProperty(u)&&f!==p&&(null!=f||null!=p))switch(u){case"children":case"dangerouslySetInnerHTML":if(null!=f)throw Error(o(137,t));break;default:Xu(e,t,u,f,r,p)}return;default:if(Tt(t)){for(var y in n)f=n[y],n.hasOwnProperty(y)&&void 0!==f&&!r.hasOwnProperty(y)&&Zu(e,t,y,void 0,r,f);for(h in r)f=r[h],p=n[h],!r.hasOwnProperty(h)||f===p||void 0===f&&void 0===p||Zu(e,t,h,f,r,p);return}}for(var v in n)f=n[v],n.hasOwnProperty(v)&&null!=f&&!r.hasOwnProperty(v)&&Xu(e,t,v,null,r,f);for(d in r)f=r[d],p=n[d],!r.hasOwnProperty(d)||f===p||null==f&&null==p||Xu(e,t,d,f,r,p)}(r,e.type,n,t),r[Ae]=t}catch(i){uu(e,e.return,i)}}function pl(e){return 5===e.tag||3===e.tag||26===e.tag||27===e.tag&&fh(e.type)||4===e.tag}function ml(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||pl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(27===e.tag&&fh(e.type))continue e;if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function gl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?(9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).insertBefore(e,t):((t=9===n.nodeType?n.body:"HTML"===n.nodeName?n.ownerDocument.body:n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ju));else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode,t=null),null!==(e=e.child)))for(gl(e,t,n),e=e.sibling;null!==e;)gl(e,t,n),e=e.sibling}function yl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&(27===r&&fh(e.type)&&(n=e.stateNode),null!==(e=e.child)))for(yl(e,t,n),e=e.sibling;null!==e;)yl(e,t,n),e=e.sibling}function vl(e){var t=e.stateNode,n=e.memoizedProps;try{for(var r=e.type,i=t.attributes;i.length;)t.removeAttributeNode(i[0]);eh(t,r,n),t[Oe]=e,t[Ae]=n}catch(s){uu(e,e.return,s)}}var _l=!1,wl=!1,bl=!1,El="function"===typeof WeakSet?WeakSet:Set,Sl=null;function kl(e,t,n){var r=n.flags;switch(n.tag){case 0:case 11:case 15:Fl(e,n),4&r&&ol(5,n);break;case 1:if(Fl(e,n),4&r)if(e=n.stateNode,null===t)try{e.componentDidMount()}catch(o){uu(n,n.return,o)}else{var i=ga(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(i,t,e.__reactInternalSnapshotBeforeUpdate)}catch(a){uu(n,n.return,a)}}64&r&&ll(n),512&r&&ul(n,n.return);break;case 3:if(Fl(e,n),64&r&&null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 27:case 5:case 1:t=n.child.stateNode}try{ds(e,t)}catch(o){uu(n,n.return,o)}}break;case 27:null===t&&4&r&&vl(n);case 26:case 5:Fl(e,n),null===t&&4&r&&dl(n),512&r&&ul(n,n.return);break;case 12:Fl(e,n);break;case 13:Fl(e,n),4&r&&Rl(e,n),64&r&&(null!==(e=n.memoizedState)&&(null!==(e=e.dehydrated)&&function(e,t){var n=e.ownerDocument;if("$?"!==e.data||"complete"===n.readyState)t();else{var r=function(){t(),n.removeEventListener("DOMContentLoaded",r)};n.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}(e,n=pu.bind(null,n))));break;case 22:if(!(r=null!==n.memoizedState||_l)){t=null!==t&&null!==t.memoizedState||wl,i=_l;var s=wl;_l=r,(wl=t)&&!s?Ul(e,n,0!==(8772&n.subtreeFlags)):Fl(e,n),_l=i,wl=s}break;case 30:break;default:Fl(e,n)}}function Cl(e){var t=e.alternate;null!==t&&(e.alternate=null,Cl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&Ve(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Tl=null,xl=!1;function Il(e,t,n){for(n=n.child;null!==n;)Nl(e,t,n),n=n.sibling}function Nl(e,t,n){if(he&&"function"===typeof he.onCommitFiberUnmount)try{he.onCommitFiberUnmount(ue,n)}catch(s){}switch(n.tag){case 26:wl||hl(n,t),Il(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode).parentNode.removeChild(n);break;case 27:wl||hl(n,t);var r=Tl,i=xl;fh(n.type)&&(Tl=n.stateNode,xl=!1),Il(e,t,n),bh(n.stateNode),Tl=r,xl=i;break;case 5:wl||hl(n,t);case 6:if(r=Tl,i=xl,Tl=null,Il(e,t,n),xl=i,null!==(Tl=r))if(xl)try{(9===Tl.nodeType?Tl.body:"HTML"===Tl.nodeName?Tl.ownerDocument.body:Tl).removeChild(n.stateNode)}catch(o){uu(n,t,o)}else try{Tl.removeChild(n.stateNode)}catch(o){uu(n,t,o)}break;case 18:null!==Tl&&(xl?(ph(9===(e=Tl).nodeType?e.body:"HTML"===e.nodeName?e.ownerDocument.body:e,n.stateNode),xd(e)):ph(Tl,n.stateNode));break;case 4:r=Tl,i=xl,Tl=n.stateNode.containerInfo,xl=!0,Il(e,t,n),Tl=r,xl=i;break;case 0:case 11:case 14:case 15:wl||al(2,n,t),wl||al(4,n,t),Il(e,t,n);break;case 1:wl||(hl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount&&cl(n,t,r)),Il(e,t,n);break;case 21:Il(e,t,n);break;case 22:wl=(r=wl)||null!==n.memoizedState,Il(e,t,n),wl=r;break;default:Il(e,t,n)}}function Rl(e,t){if(null===t.memoizedState&&(null!==(e=t.alternate)&&(null!==(e=e.memoizedState)&&null!==(e=e.dehydrated))))try{xd(e)}catch(n){uu(t,t.return,n)}}function Pl(e,t){var n=function(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return null===t&&(t=e.stateNode=new El),t;case 22:return null===(t=(e=e.stateNode)._retryCache)&&(t=e._retryCache=new El),t;default:throw Error(o(435,e.tag))}}(e);t.forEach((function(t){var r=mu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}function Ol(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r],s=e,a=t,l=a;e:for(;null!==l;){switch(l.tag){case 27:if(fh(l.type)){Tl=l.stateNode,xl=!1;break e}break;case 5:Tl=l.stateNode,xl=!1;break e;case 3:case 4:Tl=l.stateNode.containerInfo,xl=!0;break e}l=l.return}if(null===Tl)throw Error(o(160));Nl(s,a,i),Tl=null,xl=!1,null!==(s=i.alternate)&&(s.return=null),i.return=null}if(13878&t.subtreeFlags)for(t=t.child;null!==t;)Dl(t,e),t=t.sibling}var Al=null;function Dl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ol(t,e),Ml(e),4&r&&(al(3,e,e.return),ol(3,e),al(5,e,e.return));break;case 1:Ol(t,e),Ml(e),512&r&&(wl||null===n||hl(n,n.return)),64&r&&_l&&(null!==(e=e.updateQueue)&&(null!==(r=e.callbacks)&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=null===n?r:n.concat(r))));break;case 26:var i=Al;if(Ol(t,e),Ml(e),512&r&&(wl||null===n||hl(n,n.return)),4&r){var s=null!==n?n.memoizedState:null;if(r=e.memoizedState,null===n)if(null===r)if(null===e.stateNode){e:{r=e.type,n=e.memoizedProps,i=i.ownerDocument||i;t:switch(r){case"title":(!(s=i.getElementsByTagName("title")[0])||s[Ue]||s[Oe]||"http://www.w3.org/2000/svg"===s.namespaceURI||s.hasAttribute("itemprop"))&&(s=i.createElement(r),i.head.insertBefore(s,i.querySelector("head > title"))),eh(s,r,n),s[Oe]=e,He(s),r=s;break e;case"link":var a=Uh("link","href",i).get(r+(n.href||""));if(a)for(var l=0;l<a.length;l++)if((s=a[l]).getAttribute("href")===(null==n.href||""===n.href?null:n.href)&&s.getAttribute("rel")===(null==n.rel?null:n.rel)&&s.getAttribute("title")===(null==n.title?null:n.title)&&s.getAttribute("crossorigin")===(null==n.crossOrigin?null:n.crossOrigin)){a.splice(l,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;case"meta":if(a=Uh("meta","content",i).get(r+(n.content||"")))for(l=0;l<a.length;l++)if((s=a[l]).getAttribute("content")===(null==n.content?null:""+n.content)&&s.getAttribute("name")===(null==n.name?null:n.name)&&s.getAttribute("property")===(null==n.property?null:n.property)&&s.getAttribute("http-equiv")===(null==n.httpEquiv?null:n.httpEquiv)&&s.getAttribute("charset")===(null==n.charSet?null:n.charSet)){a.splice(l,1);break t}eh(s=i.createElement(r),r,n),i.head.appendChild(s);break;default:throw Error(o(468,r))}s[Oe]=e,He(s),r=s}e.stateNode=r}else Vh(i,e.type,e.stateNode);else e.stateNode=Dh(i,r,e.memoizedProps);else s!==r?(null===s?null!==n.stateNode&&(n=n.stateNode).parentNode.removeChild(n):s.count--,null===r?Vh(i,e.type,e.stateNode):Dh(i,r,e.memoizedProps)):null===r&&null!==e.stateNode&&fl(e,e.memoizedProps,n.memoizedProps)}break;case 27:Ol(t,e),Ml(e),512&r&&(wl||null===n||hl(n,n.return)),null!==n&&4&r&&fl(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Ol(t,e),Ml(e),512&r&&(wl||null===n||hl(n,n.return)),32&e.flags){i=e.stateNode;try{Et(i,"")}catch(p){uu(e,e.return,p)}}4&r&&null!=e.stateNode&&fl(e,i=e.memoizedProps,null!==n?n.memoizedProps:i),1024&r&&(bl=!0);break;case 6:if(Ol(t,e),Ml(e),4&r){if(null===e.stateNode)throw Error(o(162));r=e.memoizedProps,n=e.stateNode;try{n.nodeValue=r}catch(p){uu(e,e.return,p)}}break;case 3:if(jh=null,i=Al,Al=kh(t.containerInfo),Ol(t,e),Al=i,Ml(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{xd(t.containerInfo)}catch(p){uu(e,e.return,p)}bl&&(bl=!1,Ll(e));break;case 4:r=Al,Al=kh(e.stateNode.containerInfo),Ol(t,e),Ml(e),Al=r;break;case 12:default:Ol(t,e),Ml(e);break;case 13:Ol(t,e),Ml(e),8192&e.child.flags&&null!==e.memoizedState!==(null!==n&&null!==n.memoizedState)&&(bc=te()),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));break;case 22:i=null!==e.memoizedState;var c=null!==n&&null!==n.memoizedState,u=_l,h=wl;if(_l=u||i,wl=h||c,Ol(t,e),wl=h,_l=u,Ml(e),8192&r)e:for(t=e.stateNode,t._visibility=i?-2&t._visibility:1|t._visibility,i&&(null===n||c||_l||wl||jl(e)),n=null,t=e;;){if(5===t.tag||26===t.tag){if(null===n){c=n=t;try{if(s=c.stateNode,i)"function"===typeof(a=s.style).setProperty?a.setProperty("display","none","important"):a.display="none";else{l=c.stateNode;var d=c.memoizedProps.style,f=void 0!==d&&null!==d&&d.hasOwnProperty("display")?d.display:null;l.style.display=null==f||"boolean"===typeof f?"":(""+f).trim()}}catch(p){uu(c,c.return,p)}}}else if(6===t.tag){if(null===n){c=t;try{c.stateNode.nodeValue=i?"":c.memoizedProps}catch(p){uu(c,c.return,p)}}}else if((22!==t.tag&&23!==t.tag||null===t.memoizedState||t===e)&&null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;null===t.sibling;){if(null===t.return||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}4&r&&(null!==(r=e.updateQueue)&&(null!==(n=r.retryQueue)&&(r.retryQueue=null,Pl(e,n))));break;case 19:Ol(t,e),Ml(e),4&r&&(null!==(r=e.updateQueue)&&(e.updateQueue=null,Pl(e,r)));case 30:case 21:}}function Ml(e){var t=e.flags;if(2&t){try{for(var n,r=e.return;null!==r;){if(pl(r)){n=r;break}r=r.return}if(null==n)throw Error(o(160));switch(n.tag){case 27:var i=n.stateNode;yl(e,ml(e),i);break;case 5:var s=n.stateNode;32&n.flags&&(Et(s,""),n.flags&=-33),yl(e,ml(e),s);break;case 3:case 4:var a=n.stateNode.containerInfo;gl(e,ml(e),a);break;default:throw Error(o(161))}}catch(l){uu(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Ll(e){if(1024&e.subtreeFlags)for(e=e.child;null!==e;){var t=e;Ll(t),5===t.tag&&1024&t.flags&&t.stateNode.reset(),e=e.sibling}}function Fl(e,t){if(8772&t.subtreeFlags)for(t=t.child;null!==t;)kl(e,t.alternate,t),t=t.sibling}function jl(e){for(e=e.child;null!==e;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:al(4,t,t.return),jl(t);break;case 1:hl(t,t.return);var n=t.stateNode;"function"===typeof n.componentWillUnmount&&cl(t,t.return,n),jl(t);break;case 27:bh(t.stateNode);case 26:case 5:hl(t,t.return),jl(t);break;case 22:null===t.memoizedState&&jl(t);break;default:jl(t)}e=e.sibling}}function Ul(e,t,n){for(n=n&&0!==(8772&t.subtreeFlags),t=t.child;null!==t;){var r=t.alternate,i=e,s=t,o=s.flags;switch(s.tag){case 0:case 11:case 15:Ul(i,s,n),ol(4,s);break;case 1:if(Ul(i,s,n),"function"===typeof(i=(r=s).stateNode).componentDidMount)try{i.componentDidMount()}catch(c){uu(r,r.return,c)}if(null!==(i=(r=s).updateQueue)){var a=r.stateNode;try{var l=i.shared.hiddenCallbacks;if(null!==l)for(i.shared.hiddenCallbacks=null,i=0;i<l.length;i++)hs(l[i],a)}catch(c){uu(r,r.return,c)}}n&&64&o&&ll(s),ul(s,s.return);break;case 27:vl(s);case 26:case 5:Ul(i,s,n),n&&null===r&&4&o&&dl(s),ul(s,s.return);break;case 12:Ul(i,s,n);break;case 13:Ul(i,s,n),n&&4&o&&Rl(i,s);break;case 22:null===s.memoizedState&&Ul(i,s,n),ul(s,s.return);break;case 30:break;default:Ul(i,s,n)}t=t.sibling}}function Vl(e,t){var n=null;null!==e&&null!==e.memoizedState&&null!==e.memoizedState.cachePool&&(n=e.memoizedState.cachePool.pool),e=null,null!==t.memoizedState&&null!==t.memoizedState.cachePool&&(e=t.memoizedState.cachePool.pool),e!==n&&(null!=e&&e.refCount++,null!=n&&Di(n))}function zl(e,t){e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e))}function $l(e,t,n,r){if(10256&t.subtreeFlags)for(t=t.child;null!==t;)ql(e,t,n,r),t=t.sibling}function ql(e,t,n,r){var i=t.flags;switch(t.tag){case 0:case 11:case 15:$l(e,t,n,r),2048&i&&ol(9,t);break;case 1:case 13:default:$l(e,t,n,r);break;case 3:$l(e,t,n,r),2048&i&&(e=null,null!==t.alternate&&(e=t.alternate.memoizedState.cache),(t=t.memoizedState.cache)!==e&&(t.refCount++,null!=e&&Di(e)));break;case 12:if(2048&i){$l(e,t,n,r),e=t.stateNode;try{var s=t.memoizedProps,o=s.id,a=s.onPostCommit;"function"===typeof a&&a(o,null===t.alternate?"mount":"update",e.passiveEffectDuration,-0)}catch(l){uu(t,t.return,l)}}else $l(e,t,n,r);break;case 23:break;case 22:s=t.stateNode,o=t.alternate,null!==t.memoizedState?2&s._visibility?$l(e,t,n,r):Hl(e,t):2&s._visibility?$l(e,t,n,r):(s._visibility|=2,Bl(e,t,n,r,0!==(10256&t.subtreeFlags))),2048&i&&Vl(o,t);break;case 24:$l(e,t,n,r),2048&i&&zl(t.alternate,t)}}function Bl(e,t,n,r,i){for(i=i&&0!==(10256&t.subtreeFlags),t=t.child;null!==t;){var s=e,o=t,a=n,l=r,c=o.flags;switch(o.tag){case 0:case 11:case 15:Bl(s,o,a,l,i),ol(8,o);break;case 23:break;case 22:var u=o.stateNode;null!==o.memoizedState?2&u._visibility?Bl(s,o,a,l,i):Hl(s,o):(u._visibility|=2,Bl(s,o,a,l,i)),i&&2048&c&&Vl(o.alternate,o);break;case 24:Bl(s,o,a,l,i),i&&2048&c&&zl(o.alternate,o);break;default:Bl(s,o,a,l,i)}t=t.sibling}}function Hl(e,t){if(10256&t.subtreeFlags)for(t=t.child;null!==t;){var n=e,r=t,i=r.flags;switch(r.tag){case 22:Hl(n,r),2048&i&&Vl(r.alternate,r);break;case 24:Hl(n,r),2048&i&&zl(r.alternate,r);break;default:Hl(n,r)}t=t.sibling}}var Wl=8192;function Yl(e){if(e.subtreeFlags&Wl)for(e=e.child;null!==e;)Kl(e),e=e.sibling}function Kl(e){switch(e.tag){case 26:Yl(e),e.flags&Wl&&null!==e.memoizedState&&function(e,t,n){if(null===$h)throw Error(o(475));var r=$h;if("stylesheet"===t.type&&("string"!==typeof n.media||!1!==matchMedia(n.media).matches)&&0===(4&t.state.loading)){if(null===t.instance){var i=Nh(n.href),s=e.querySelector(Rh(i));if(s)return null!==(e=s._p)&&"object"===typeof e&&"function"===typeof e.then&&(r.count++,r=Bh.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=s,void He(s);s=e.ownerDocument||e,n=Ph(n),(i=Eh.get(i))&&Lh(n,i),He(s=s.createElement("link"));var a=s;a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),eh(s,"link",n),t.instance=s}null===r.stylesheets&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&0===(3&t.state.loading)&&(r.count++,t=Bh.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}(Al,e.memoizedState,e.memoizedProps);break;case 5:default:Yl(e);break;case 3:case 4:var t=Al;Al=kh(e.stateNode.containerInfo),Yl(e),Al=t;break;case 22:null===e.memoizedState&&(null!==(t=e.alternate)&&null!==t.memoizedState?(t=Wl,Wl=16777216,Yl(e),Wl=t):Yl(e))}}function Gl(e){var t=e.alternate;if(null!==t&&null!==(e=t.child)){t.child=null;do{t=e.sibling,e.sibling=null,e=t}while(null!==e)}}function Ql(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Gl(e)}if(10256&e.subtreeFlags)for(e=e.child;null!==e;)Jl(e),e=e.sibling}function Jl(e){switch(e.tag){case 0:case 11:case 15:Ql(e),2048&e.flags&&al(9,e,e.return);break;case 3:case 12:default:Ql(e);break;case 22:var t=e.stateNode;null!==e.memoizedState&&2&t._visibility&&(null===e.return||13!==e.return.tag)?(t._visibility&=-3,Xl(e)):Ql(e)}}function Xl(e){var t=e.deletions;if(0!==(16&e.flags)){if(null!==t)for(var n=0;n<t.length;n++){var r=t[n];Sl=r,Zl(r,e)}Gl(e)}for(e=e.child;null!==e;){switch((t=e).tag){case 0:case 11:case 15:al(8,t,t.return),Xl(t);break;case 22:2&(n=t.stateNode)._visibility&&(n._visibility&=-3,Xl(t));break;default:Xl(t)}e=e.sibling}}function Zl(e,t){for(;null!==Sl;){var n=Sl;switch(n.tag){case 0:case 11:case 15:al(8,n,t);break;case 23:case 22:if(null!==n.memoizedState&&null!==n.memoizedState.cachePool){var r=n.memoizedState.cachePool.pool;null!=r&&r.refCount++}break;case 24:Di(n.memoizedState.cache)}if(null!==(r=n.child))r.return=n,Sl=r;else e:for(n=e;null!==Sl;){var i=(r=Sl).sibling,s=r.return;if(Cl(r),r===n){Sl=null;break e}if(null!==i){i.return=s,Sl=i;break e}Sl=s}}}var ec={getCacheForType:function(e){var t=Ti(Oi),n=t.data.get(e);return void 0===n&&(n=e(),t.data.set(e,n)),n}},tc="function"===typeof WeakMap?WeakMap:Map,nc=0,rc=null,ic=null,sc=0,oc=0,ac=null,lc=!1,cc=!1,uc=!1,hc=0,dc=0,fc=0,pc=0,mc=0,gc=0,yc=0,vc=null,_c=null,wc=!1,bc=0,Ec=1/0,Sc=null,kc=null,Cc=0,Tc=null,xc=null,Ic=0,Nc=0,Rc=null,Pc=null,Oc=0,Ac=null;function Dc(){if(0!==(2&nc)&&0!==sc)return sc&-sc;if(null!==D.T){return 0!==Fi?Fi:Nu()}return Re()}function Mc(){0===gc&&(gc=0===(536870912&sc)||si?Ee():536870912);var e=ia.current;return null!==e&&(e.flags|=32),gc}function Lc(e,t,n){(e!==rc||2!==oc&&9!==oc)&&null===e.cancelPendingCommit||(qc(e,0),Vc(e,sc,gc,!1)),Ce(e,n),0!==(2&nc)&&e===rc||(e===rc&&(0===(2&nc)&&(pc|=n),4===dc&&Vc(e,sc,gc,!1)),Eu(e))}function Fc(e,t,n){if(0!==(6&nc))throw Error(o(327));for(var r=!n&&0===(124&t)&&0===(t&e.expiredLanes)||we(e,t),i=r?function(e,t){var n=nc;nc|=2;var r=Hc(),i=Wc();rc!==e||sc!==t?(Sc=null,Ec=te()+500,qc(e,t)):cc=we(e,t);e:for(;;)try{if(0!==oc&&null!==ic){t=ic;var s=ac;t:switch(oc){case 1:oc=0,ac=null,Zc(e,t,s,1);break;case 2:case 9:if(Gi(s)){oc=0,ac=null,Xc(t);break}t=function(){2!==oc&&9!==oc||rc!==e||(oc=7),Eu(e)},s.then(t,t);break e;case 3:oc=7;break e;case 4:oc=5;break e;case 7:Gi(s)?(oc=0,ac=null,Xc(t)):(oc=0,ac=null,Zc(e,t,s,7));break;case 5:var a=null;switch(ic.tag){case 26:a=ic.memoizedState;case 5:case 27:var l=ic;if(!a||zh(a)){oc=0,ac=null;var c=l.sibling;if(null!==c)ic=c;else{var u=l.return;null!==u?(ic=u,eu(u)):ic=null}break t}}oc=0,ac=null,Zc(e,t,s,5);break;case 6:oc=0,ac=null,Zc(e,t,s,6);break;case 8:$c(),dc=6;break e;default:throw Error(o(462))}}Qc();break}catch(h){Bc(e,h)}return vi=yi=null,D.H=r,D.A=i,nc=n,null!==ic?0:(rc=null,sc=0,Ir(),dc)}(e,t):Kc(e,t,!0),s=r;;){if(0===i){cc&&!r&&Vc(e,t,0,!1);break}if(n=e.current.alternate,!s||Uc(n)){if(2===i){if(s=t,e.errorRecoveryDisabledLanes&s)var a=0;else a=0!==(a=-536870913&e.pendingLanes)?a:536870912&a?536870912:0;if(0!==a){t=a;e:{var l=e;i=vc;var c=l.current.memoizedState.isDehydrated;if(c&&(qc(l,a).flags|=256),2!==(a=Kc(l,a,!1))){if(uc&&!c){l.errorRecoveryDisabledLanes|=s,pc|=s,i=4;break e}s=_c,_c=i,null!==s&&(null===_c?_c=s:_c.push.apply(_c,s))}i=a}if(s=!1,2!==i)continue}}if(1===i){qc(e,0),Vc(e,t,0,!0);break}e:{switch(r=e,s=i){case 0:case 1:throw Error(o(345));case 4:if((4194048&t)!==t)break;case 6:Vc(r,t,gc,!lc);break e;case 2:_c=null;break;case 3:case 5:break;default:throw Error(o(329))}if((62914560&t)===t&&10<(i=bc+300-te())){if(Vc(r,t,gc,!lc),0!==_e(r,0,!0))break e;r.timeoutHandle=lh(jc.bind(null,r,n,_c,Sc,wc,t,gc,pc,yc,lc,s,2,-0,0),i)}else jc(r,n,_c,Sc,wc,t,gc,pc,yc,lc,s,0,-0,0)}break}i=Kc(e,t,!1),s=!1}Eu(e)}function jc(e,t,n,r,i,s,a,l,c,u,h,d,f,p){if(e.timeoutHandle=-1,(8192&(d=t.subtreeFlags)||16785408===(16785408&d))&&($h={stylesheets:null,count:0,unsuspend:qh},Kl(t),null!==(d=function(){if(null===$h)throw Error(o(475));var e=$h;return e.stylesheets&&0===e.count&&Wh(e,e.stylesheets),0<e.count?function(t){var n=setTimeout((function(){if(e.stylesheets&&Wh(e,e.stylesheets),e.unsuspend){var t=e.unsuspend;e.unsuspend=null,t()}}),6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(n)}}:null}())))return e.cancelPendingCommit=d(nu.bind(null,e,t,s,n,r,i,a,l,c,h,1,f,p)),void Vc(e,s,a,!u);nu(e,t,s,n,r,i,a,l,c)}function Uc(e){for(var t=e;;){var n=t.tag;if((0===n||11===n||15===n)&&16384&t.flags&&(null!==(n=t.updateQueue)&&null!==(n=n.stores)))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Gn(s(),i))return!1}catch(o){return!1}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Vc(e,t,n,r){t&=~mc,t&=~pc,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var i=t;0<i;){var s=31-fe(i),o=1<<s;r[s]=-1,i&=~o}0!==n&&Te(e,n,t)}function zc(){return 0!==(6&nc)||(Su(0,!1),!1)}function $c(){if(null!==ic){if(0===oc)var e=ic.return;else vi=yi=null,Fs(e=ic),Go=null,Qo=0,e=ic;for(;null!==e;)sl(e.alternate,e),e=e.return;ic=null}}function qc(e,t){var n=e.timeoutHandle;-1!==n&&(e.timeoutHandle=-1,ch(n)),null!==(n=e.cancelPendingCommit)&&(e.cancelPendingCommit=null,n()),$c(),rc=e,ic=n=jr(e.current,null),sc=t,oc=0,ac=null,lc=!1,cc=we(e,t),uc=!1,yc=gc=mc=pc=fc=dc=0,_c=vc=null,wc=!1,0!==(8&t)&&(t|=32&t);var r=e.entangledLanes;if(0!==r)for(e=e.entanglements,r&=t;0<r;){var i=31-fe(r),s=1<<i;t|=e[i],r&=~s}return hc=t,Ir(),n}function Bc(e,t){_s=null,D.H=Ho,t===Hi||t===Yi?(t=Zi(),oc=3):t===Wi?(t=Zi(),oc=4):oc=t===Ta?8:null!==t&&"object"===typeof t&&"function"===typeof t.then?6:1,ac=t,null===ic&&(dc=1,ba(e,kr(t,e.current)))}function Hc(){var e=D.H;return D.H=Ho,null===e?Ho:e}function Wc(){var e=D.A;return D.A=ec,e}function Yc(){dc=4,lc||(4194048&sc)!==sc&&null!==ia.current||(cc=!0),0===(134217727&fc)&&0===(134217727&pc)||null===rc||Vc(rc,sc,gc,!1)}function Kc(e,t,n){var r=nc;nc|=2;var i=Hc(),s=Wc();rc===e&&sc===t||(Sc=null,qc(e,t)),t=!1;var o=dc;e:for(;;)try{if(0!==oc&&null!==ic){var a=ic,l=ac;switch(oc){case 8:$c(),o=6;break e;case 3:case 2:case 9:case 6:null===ia.current&&(t=!0);var c=oc;if(oc=0,ac=null,Zc(e,a,l,c),n&&cc){o=0;break e}break;default:c=oc,oc=0,ac=null,Zc(e,a,l,c)}}Gc(),o=dc;break}catch(u){Bc(e,u)}return t&&e.shellSuspendCounter++,vi=yi=null,nc=r,D.H=i,D.A=s,null===ic&&(rc=null,sc=0,Ir()),o}function Gc(){for(;null!==ic;)Jc(ic)}function Qc(){for(;null!==ic&&!Z();)Jc(ic)}function Jc(e){var t=Ja(e.alternate,e,hc);e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Xc(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=La(n,t,t.pendingProps,t.type,void 0,sc);break;case 11:t=La(n,t,t.pendingProps,t.type.render,t.ref,sc);break;case 5:Fs(t);default:sl(n,t),t=Ja(n,t=ic=Ur(t,hc),hc)}e.memoizedProps=e.pendingProps,null===t?eu(e):ic=t}function Zc(e,t,n,r){vi=yi=null,Fs(t),Go=null,Qo=0;var i=t.return;try{if(function(e,t,n,r,i){if(n.flags|=32768,null!==r&&"object"===typeof r&&"function"===typeof r.then){if(null!==(t=n.alternate)&&Si(t,n,i,!0),null!==(n=ia.current)){switch(n.tag){case 13:return null===sa?Yc():null===n.alternate&&0===dc&&(dc=3),n.flags&=-257,n.flags|=65536,n.lanes=i,r===Ki?n.flags|=16384:(null===(t=n.updateQueue)?n.updateQueue=new Set([r]):t.add(r),hu(e,r,i)),!1;case 22:return n.flags|=65536,r===Ki?n.flags|=16384:(null===(t=n.updateQueue)?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},n.updateQueue=t):null===(n=t.retryQueue)?t.retryQueue=new Set([r]):n.add(r),hu(e,r,i)),!1}throw Error(o(435,n.tag))}return hu(e,r,i),Yc(),!1}if(si)return null!==(t=ia.current)?(0===(65536&t.flags)&&(t.flags|=256),t.flags|=65536,t.lanes=i,r!==li&&mi(kr(e=Error(o(422),{cause:r}),n))):(r!==li&&mi(kr(t=Error(o(423),{cause:r}),n)),(e=e.current.alternate).flags|=65536,i&=-i,e.lanes|=i,r=kr(r,n),as(e,i=Sa(e.stateNode,r,i)),4!==dc&&(dc=2)),!1;var s=Error(o(520),{cause:r});if(s=kr(s,n),null===vc?vc=[s]:vc.push(s),4!==dc&&(dc=2),null===t)return!0;r=kr(r,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=i&-i,n.lanes|=e,as(n,e=Sa(n.stateNode,r,e)),!1;case 1:if(t=n.type,s=n.stateNode,0===(128&n.flags)&&("function"===typeof t.getDerivedStateFromError||null!==s&&"function"===typeof s.componentDidCatch&&(null===kc||!kc.has(s))))return n.flags|=65536,i&=-i,n.lanes|=i,Ca(i=ka(i),e,n,r),as(n,i),!1}n=n.return}while(null!==n);return!1}(e,i,t,n,sc))return dc=1,ba(e,kr(n,e.current)),void(ic=null)}catch(s){if(null!==i)throw ic=i,s;return dc=1,ba(e,kr(n,e.current)),void(ic=null)}32768&t.flags?(si||1===r?e=!0:cc||0!==(536870912&sc)?e=!1:(lc=e=!0,(2===r||9===r||3===r||6===r)&&(null!==(r=ia.current)&&13===r.tag&&(r.flags|=16384))),tu(t,e)):eu(t)}function eu(e){var t=e;do{if(0!==(32768&t.flags))return void tu(t,lc);e=t.return;var n=rl(t.alternate,t,hc);if(null!==n)return void(ic=n);if(null!==(t=t.sibling))return void(ic=t);ic=t=e}while(null!==t);0===dc&&(dc=5)}function tu(e,t){do{var n=il(e.alternate,e);if(null!==n)return n.flags&=32767,void(ic=n);if(null!==(n=e.return)&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&null!==(e=e.sibling))return void(ic=e);ic=e=n}while(null!==e);dc=6,ic=null}function nu(e,t,n,r,i,s,a,l,c){e.cancelPendingCommit=null;do{au()}while(0!==Cc);if(0!==(6&nc))throw Error(o(327));if(null!==t){if(t===e.current)throw Error(o(177));if(s=t.lanes|t.childLanes,function(e,t,n,r,i,s){var o=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var a=e.entanglements,l=e.expirationTimes,c=e.hiddenUpdates;for(n=o&~n;0<n;){var u=31-fe(n),h=1<<u;a[u]=0,l[u]=-1;var d=c[u];if(null!==d)for(c[u]=null,u=0;u<d.length;u++){var f=d[u];null!==f&&(f.lane&=-536870913)}n&=~h}0!==r&&Te(e,r,0),0!==s&&0===i&&0!==e.tag&&(e.suspendedLanes|=s&~(o&~t))}(e,n,s|=xr,a,l,c),e===rc&&(ic=rc=null,sc=0),xc=t,Tc=e,Ic=n,Nc=s,Rc=i,Pc=r,0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?(e.callbackNode=null,e.callbackPriority=0,J(se,(function(){return lu(),null}))):(e.callbackNode=null,e.callbackPriority=0),r=0!==(13878&t.flags),0!==(13878&t.subtreeFlags)||r){r=D.T,D.T=null,i=M.p,M.p=2,a=nc,nc|=4;try{!function(e,t){if(e=e.containerInfo,th=nd,tr(e=er(e))){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch(g){n=null;break e}var a=0,l=-1,c=-1,u=0,h=0,d=e,f=null;t:for(;;){for(var p;d!==n||0!==i&&3!==d.nodeType||(l=a+i),d!==s||0!==r&&3!==d.nodeType||(c=a+r),3===d.nodeType&&(a+=d.nodeValue.length),null!==(p=d.firstChild);)f=d,d=p;for(;;){if(d===e)break t;if(f===n&&++u===i&&(l=a),f===s&&++h===r&&(c=a),null!==(p=d.nextSibling))break;f=(d=f).parentNode}d=p}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(nh={focusedElem:e,selectionRange:n},nd=!1,Sl=t;null!==Sl;)if(e=(t=Sl).child,0!==(1024&t.subtreeFlags)&&null!==e)e.return=t,Sl=e;else for(;null!==Sl;){switch(s=(t=Sl).alternate,e=t.flags,t.tag){case 0:case 11:case 15:case 5:case 26:case 27:case 6:case 4:case 17:break;case 1:if(0!==(1024&e)&&null!==s){e=void 0,n=t,i=s.memoizedProps,s=s.memoizedState,r=n.stateNode;try{var m=ga(n.type,i,(n.elementType,n.type));e=r.getSnapshotBeforeUpdate(m,s),r.__reactInternalSnapshotBeforeUpdate=e}catch(y){uu(n,n.return,y)}}break;case 3:if(0!==(1024&e))if(9===(n=(e=t.stateNode.containerInfo).nodeType))mh(e);else if(1===n)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":mh(e);break;default:e.textContent=""}break;default:if(0!==(1024&e))throw Error(o(163))}if(null!==(e=t.sibling)){e.return=t.return,Sl=e;break}Sl=t.return}}(e,t)}finally{nc=a,M.p=i,D.T=r}}Cc=1,ru(),iu(),su()}}function ru(){if(1===Cc){Cc=0;var e=Tc,t=xc,n=0!==(13878&t.flags);if(0!==(13878&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{Dl(t,e);var s=nh,o=er(e.containerInfo),a=s.focusedElem,l=s.selectionRange;if(o!==a&&a&&a.ownerDocument&&Zn(a.ownerDocument.documentElement,a)){if(null!==l&&tr(a)){var c=l.start,u=l.end;if(void 0===u&&(u=c),"selectionStart"in a)a.selectionStart=c,a.selectionEnd=Math.min(u,a.value.length);else{var h=a.ownerDocument||document,d=h&&h.defaultView||window;if(d.getSelection){var f=d.getSelection(),p=a.textContent.length,m=Math.min(l.start,p),g=void 0===l.end?m:Math.min(l.end,p);!f.extend&&m>g&&(o=g,g=m,m=o);var y=Xn(a,m),v=Xn(a,g);if(y&&v&&(1!==f.rangeCount||f.anchorNode!==y.node||f.anchorOffset!==y.offset||f.focusNode!==v.node||f.focusOffset!==v.offset)){var _=h.createRange();_.setStart(y.node,y.offset),f.removeAllRanges(),m>g?(f.addRange(_),f.extend(v.node,v.offset)):(_.setEnd(v.node,v.offset),f.addRange(_))}}}}for(h=[],f=a;f=f.parentNode;)1===f.nodeType&&h.push({element:f,left:f.scrollLeft,top:f.scrollTop});for("function"===typeof a.focus&&a.focus(),a=0;a<h.length;a++){var w=h[a];w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}nd=!!th,nh=th=null}finally{nc=i,M.p=r,D.T=n}}e.current=t,Cc=2}}function iu(){if(2===Cc){Cc=0;var e=Tc,t=xc,n=0!==(8772&t.flags);if(0!==(8772&t.subtreeFlags)||n){n=D.T,D.T=null;var r=M.p;M.p=2;var i=nc;nc|=4;try{kl(e,t.alternate,t)}finally{nc=i,M.p=r,D.T=n}}Cc=3}}function su(){if(4===Cc||3===Cc){Cc=0,ee();var e=Tc,t=xc,n=Ic,r=Pc;0!==(10256&t.subtreeFlags)||0!==(10256&t.flags)?Cc=5:(Cc=0,xc=Tc=null,ou(e,e.pendingLanes));var i=e.pendingLanes;if(0===i&&(kc=null),Ne(n),t=t.stateNode,he&&"function"===typeof he.onCommitFiberRoot)try{he.onCommitFiberRoot(ue,t,void 0,128===(128&t.current.flags))}catch(l){}if(null!==r){t=D.T,i=M.p,M.p=2,D.T=null;try{for(var s=e.onRecoverableError,o=0;o<r.length;o++){var a=r[o];s(a.value,{componentStack:a.stack})}}finally{D.T=t,M.p=i}}0!==(3&Ic)&&au(),Eu(e),i=e.pendingLanes,0!==(4194090&n)&&0!==(42&i)?e===Ac?Oc++:(Oc=0,Ac=e):Oc=0,Su(0,!1)}}function ou(e,t){0===(e.pooledCacheLanes&=t)&&(null!=(t=e.pooledCache)&&(e.pooledCache=null,Di(t)))}function au(e){return ru(),iu(),su(),lu()}function lu(){if(5!==Cc)return!1;var e=Tc,t=Nc;Nc=0;var n=Ne(Ic),r=D.T,i=M.p;try{M.p=32>n?32:n,D.T=null,n=Rc,Rc=null;var s=Tc,a=Ic;if(Cc=0,xc=Tc=null,Ic=0,0!==(6&nc))throw Error(o(331));var l=nc;if(nc|=4,Jl(s.current),ql(s,s.current,a,n),nc=l,Su(0,!1),he&&"function"===typeof he.onPostCommitFiberRoot)try{he.onPostCommitFiberRoot(ue,s)}catch(c){}return!0}finally{M.p=i,D.T=r,ou(e,t)}}function cu(e,t,n){t=kr(n,t),null!==(e=ss(e,t=Sa(e.stateNode,t,2),2))&&(Ce(e,2),Eu(e))}function uu(e,t,n){if(3===e.tag)cu(e,e,n);else for(;null!==t;){if(3===t.tag){cu(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===kc||!kc.has(r))){e=kr(n,e),null!==(r=ss(t,n=ka(2),2))&&(Ca(n,r,t,e),Ce(r,2),Eu(r));break}}t=t.return}}function hu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new tc;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(uc=!0,i.add(n),e=du.bind(null,e,t,n),t.then(e,e))}function du(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,rc===e&&(sc&n)===n&&(4===dc||3===dc&&(62914560&sc)===sc&&300>te()-bc?0===(2&nc)&&qc(e,0):mc|=n,yc===sc&&(yc=0)),Eu(e)}function fu(e,t){0===t&&(t=Se()),null!==(e=Pr(e,t))&&(Ce(e,t),Eu(e))}function pu(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),fu(e,n)}function mu(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(o(314))}null!==r&&r.delete(t),fu(e,n)}var gu=null,yu=null,vu=!1,_u=!1,wu=!1,bu=0;function Eu(e){e!==yu&&null===e.next&&(null===yu?gu=yu=e:yu=yu.next=e),_u=!0,vu||(vu=!0,hh((function(){0!==(6&nc)?J(re,ku):Cu()})))}function Su(e,t){if(!wu&&_u){wu=!0;do{for(var n=!1,r=gu;null!==r;){if(!t)if(0!==e){var i=r.pendingLanes;if(0===i)var s=0;else{var o=r.suspendedLanes,a=r.pingedLanes;s=(1<<31-fe(42|e)+1)-1,s=201326741&(s&=i&~(o&~a))?201326741&s|1:s?2|s:0}0!==s&&(n=!0,Iu(r,s))}else s=sc,0===(3&(s=_e(r,r===rc?s:0,null!==r.cancelPendingCommit||-1!==r.timeoutHandle)))||we(r,s)||(n=!0,Iu(r,s));r=r.next}}while(n);wu=!1}}function ku(){Cu()}function Cu(){_u=vu=!1;var e=0;0!==bu&&(function(){var e=window.event;if(e&&"popstate"===e.type)return e!==ah&&(ah=e,!0);return ah=null,!1}()&&(e=bu),bu=0);for(var t=te(),n=null,r=gu;null!==r;){var i=r.next,s=Tu(r,t);0===s?(r.next=null,null===n?gu=i:n.next=i,null===i&&(yu=n)):(n=r,(0!==e||0!==(3&s))&&(_u=!0)),r=i}Su(e,!1)}function Tu(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=-62914561&e.pendingLanes;0<s;){var o=31-fe(s),a=1<<o,l=i[o];-1===l?0!==(a&n)&&0===(a&r)||(i[o]=be(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}if(n=sc,n=_e(e,e===(t=rc)?n:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle),r=e.callbackNode,0===n||e===t&&(2===oc||9===oc)||null!==e.cancelPendingCommit)return null!==r&&null!==r&&X(r),e.callbackNode=null,e.callbackPriority=0;if(0===(3&n)||we(e,n)){if((t=n&-n)===e.callbackPriority)return t;switch(null!==r&&X(r),Ne(n)){case 2:case 8:n=ie;break;case 32:default:n=se;break;case 268435456:n=ae}return r=xu.bind(null,e),n=J(n,r),e.callbackPriority=t,e.callbackNode=n,t}return null!==r&&null!==r&&X(r),e.callbackPriority=2,e.callbackNode=null,2}function xu(e,t){if(0!==Cc&&5!==Cc)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(au()&&e.callbackNode!==n)return null;var r=sc;return 0===(r=_e(e,e===rc?r:0,null!==e.cancelPendingCommit||-1!==e.timeoutHandle))?null:(Fc(e,r,t),Tu(e,te()),null!=e.callbackNode&&e.callbackNode===n?xu.bind(null,e):null)}function Iu(e,t){if(au())return null;Fc(e,t,!0)}function Nu(){return 0===bu&&(bu=Ee()),bu}function Ru(e){return null==e||"symbol"===typeof e||"boolean"===typeof e?null:"function"===typeof e?e:Nt(""+e)}function Pu(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}for(var Ou=0;Ou<br.length;Ou++){var Au=br[Ou];Er(Au.toLowerCase(),"on"+(Au[0].toUpperCase()+Au.slice(1)))}Er(fr,"onAnimationEnd"),Er(pr,"onAnimationIteration"),Er(mr,"onAnimationStart"),Er("dblclick","onDoubleClick"),Er("focusin","onFocus"),Er("focusout","onBlur"),Er(gr,"onTransitionRun"),Er(yr,"onTransitionStart"),Er(vr,"onTransitionCancel"),Er(_r,"onTransitionEnd"),Ge("onMouseEnter",["mouseout","mouseover"]),Ge("onMouseLeave",["mouseout","mouseover"]),Ge("onPointerEnter",["pointerout","pointerover"]),Ge("onPointerLeave",["pointerout","pointerover"]),Ke("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ke("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ke("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ke("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ke("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Du="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mu=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Du));function Lu(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){ya(u)}i.currentTarget=null,s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;s=a,i.currentTarget=c;try{s(i)}catch(u){ya(u)}i.currentTarget=null,s=l}}}}function Fu(e,t){var n=t[Me];void 0===n&&(n=t[Me]=new Set);var r=e+"__bubble";n.has(r)||(zu(t,e,2,!1),n.add(r))}function ju(e,t,n){var r=0;t&&(r|=4),zu(n,e,r,t)}var Uu="_reactListening"+Math.random().toString(36).slice(2);function Vu(e){if(!e[Uu]){e[Uu]=!0,We.forEach((function(t){"selectionchange"!==t&&(Mu.has(t)||ju(t,!1,e),ju(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Uu]||(t[Uu]=!0,ju("selectionchange",!1,t))}}function zu(e,t,n,r){switch(cd(t)){case 2:var i=rd;break;case 8:i=id;break;default:i=sd}n=i.bind(null,t,n,e),i=void 0,!Ut||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function $u(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i)break;if(4===o)for(o=r.return;null!==o;){var c=o.tag;if((3===c||4===c)&&o.stateNode.containerInfo===i)return;o=o.return}for(;null!==a;){if(null===(o=ze(a)))return;if(5===(c=o.tag)||6===c||26===c||27===c){r=s=o;continue e}a=a.parentNode}}r=r.return}Lt((function(){var r=s,i=Pt(n),o=[];e:{var a=wr.get(e);if(void 0!==a){var c=Zt,u=e;switch(e){case"keypress":if(0===Ht(n))break e;case"keydown":case"keyup":c=mn;break;case"focusin":u="focus",c=on;break;case"focusout":u="blur",c=on;break;case"beforeblur":case"afterblur":c=on;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":c=rn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":c=sn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":c=yn;break;case fr:case pr:case mr:c=an;break;case _r:c=vn;break;case"scroll":case"scrollend":c=tn;break;case"wheel":c=_n;break;case"copy":case"cut":case"paste":c=ln;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":c=gn;break;case"toggle":case"beforetoggle":c=wn}var h=0!==(4&t),d=!h&&("scroll"===e||"scrollend"===e),f=h?null!==a?a+"Capture":null:a;h=[];for(var p,m=r;null!==m;){var g=m;if(p=g.stateNode,5!==(g=g.tag)&&26!==g&&27!==g||null===p||null===f||null!=(g=Ft(m,f))&&h.push(qu(m,g,p)),d)break;m=m.return}0<h.length&&(a=new c(a,u,null,n,i),o.push({event:a,listeners:h}))}}if(0===(7&t)){if(c="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Rt||!(u=n.relatedTarget||n.fromElement)||!ze(u)&&!u[De])&&(c||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,c?(c=r,null!==(u=(u=n.relatedTarget||n.toElement)?ze(u):null)&&(d=l(u),h=u.tag,u!==d||5!==h&&27!==h&&6!==h)&&(u=null)):(c=null,u=r),c!==u)){if(h=rn,g="onMouseLeave",f="onMouseEnter",m="mouse","pointerout"!==e&&"pointerover"!==e||(h=gn,g="onPointerLeave",f="onPointerEnter",m="pointer"),d=null==c?a:qe(c),p=null==u?a:qe(u),(a=new h(g,m+"leave",c,n,i)).target=d,a.relatedTarget=p,g=null,ze(i)===r&&((h=new h(f,m+"enter",u,n,i)).target=p,h.relatedTarget=d,g=h),d=g,c&&u)e:{for(f=u,m=0,p=h=c;p;p=Hu(p))m++;for(p=0,g=f;g;g=Hu(g))p++;for(;0<m-p;)h=Hu(h),m--;for(;0<p-m;)f=Hu(f),p--;for(;m--;){if(h===f||null!==f&&h===f.alternate)break e;h=Hu(h),f=Hu(f)}h=null}else h=null;null!==c&&Wu(o,a,c,h,!1),null!==u&&null!==d&&Wu(o,d,u,h,!0)}if("select"===(c=(a=r?qe(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===c&&"file"===a.type)var y=jn;else if(On(a))if(Un)y=Kn;else{y=Wn;var v=Hn}else!(c=a.nodeName)||"input"!==c.toLowerCase()||"checkbox"!==a.type&&"radio"!==a.type?r&&Tt(r.elementType)&&(y=jn):y=Yn;switch(y&&(y=y(e,r))?An(o,y,n,i):(v&&v(e,a,r),"focusout"===e&&r&&"number"===a.type&&null!=r.memoizedProps.value&&vt(a,"number",a.value)),v=r?qe(r):window,e){case"focusin":(On(v)||"true"===v.contentEditable)&&(rr=v,ir=r,sr=null);break;case"focusout":sr=ir=rr=null;break;case"mousedown":or=!0;break;case"contextmenu":case"mouseup":case"dragend":or=!1,ar(o,n,i);break;case"selectionchange":if(nr)break;case"keydown":case"keyup":ar(o,n,i)}var _;if(En)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else Rn?In(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(Cn&&"ko"!==n.locale&&(Rn||"onCompositionStart"!==w?"onCompositionEnd"===w&&Rn&&(_=Bt()):($t="value"in(zt=i)?zt.value:zt.textContent,Rn=!0)),0<(v=Bu(r,w)).length&&(w=new cn(w,e,null,n,i),o.push({event:w,listeners:v}),_?w.data=_:null!==(_=Nn(n))&&(w.data=_))),(_=kn?function(e,t){switch(e){case"compositionend":return Nn(t);case"keypress":return 32!==t.which?null:(xn=!0,Tn);case"textInput":return(e=t.data)===Tn&&xn?null:e;default:return null}}(e,n):function(e,t){if(Rn)return"compositionend"===e||!En&&In(e,t)?(e=Bt(),qt=$t=zt=null,Rn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Cn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(w=Bu(r,"onBeforeInput")).length&&(v=new cn("onBeforeInput","beforeinput",null,n,i),o.push({event:v,listeners:w}),v.data=_)),function(e,t,n,r,i){if("submit"===t&&n&&n.stateNode===i){var s=Ru((i[Ae]||null).action),o=r.submitter;o&&null!==(t=(t=o[Ae]||null)?Ru(t.formAction):o.getAttribute("formAction"))&&(s=t,o=null);var a=new Zt("action","action",null,r,i);e.push({event:a,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(0!==bu){var e=o?Pu(i,o):new FormData(i);Po(n,{pending:!0,data:e,method:i.method,action:s},null,e)}}else"function"===typeof s&&(a.preventDefault(),e=o?Pu(i,o):new FormData(i),Po(n,{pending:!0,data:e,method:i.method,action:s},s,e))},currentTarget:i}]})}}(o,e,r,n,i)}Lu(o,t)}))}function qu(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Bu(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;if(5!==(i=i.tag)&&26!==i&&27!==i||null===s||(null!=(i=Ft(e,n))&&r.unshift(qu(e,i,s)),null!=(i=Ft(e,t))&&r.push(qu(e,i,s))),3===e.tag)return r;e=e.return}return[]}function Hu(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag&&27!==e.tag);return e||null}function Wu(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(a=a.tag,null!==l&&l===r)break;5!==a&&26!==a&&27!==a||null===c||(l=c,i?null!=(c=Ft(n,s))&&o.unshift(qu(n,c,l)):i||null!=(c=Ft(n,s))&&o.push(qu(n,c,l))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var Yu=/\r\n?/g,Ku=/\u0000|\uFFFD/g;function Gu(e){return("string"===typeof e?e:""+e).replace(Yu,"\n").replace(Ku,"")}function Qu(e,t){return t=Gu(t),Gu(e)===t}function Ju(){}function Xu(e,t,n,r,i,s){switch(n){case"children":"string"===typeof r?"body"===t||"textarea"===t&&""===r||Et(e,r):("number"===typeof r||"bigint"===typeof r)&&"body"!==t&&Et(e,""+r);break;case"className":nt(e,"class",r);break;case"tabIndex":nt(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":nt(e,n,r);break;case"style":Ct(e,r,s);break;case"data":if("object"!==t){nt(e,"data",r);break}case"src":case"href":if(""===r&&("a"!==t||"href"!==n)){e.removeAttribute(n);break}if(null==r||"function"===typeof r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"action":case"formAction":if("function"===typeof r){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}if("function"===typeof s&&("formAction"===n?("input"!==t&&Xu(e,t,"name",i.name,i,null),Xu(e,t,"formEncType",i.formEncType,i,null),Xu(e,t,"formMethod",i.formMethod,i,null),Xu(e,t,"formTarget",i.formTarget,i,null)):(Xu(e,t,"encType",i.encType,i,null),Xu(e,t,"method",i.method,i,null),Xu(e,t,"target",i.target,i,null))),null==r||"symbol"===typeof r||"boolean"===typeof r){e.removeAttribute(n);break}r=Nt(""+r),e.setAttribute(n,r);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"multiple":e.multiple=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"muted":e.muted=r&&"function"!==typeof r&&"symbol"!==typeof r;break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":case"autoFocus":break;case"xlinkHref":if(null==r||"function"===typeof r||"boolean"===typeof r||"symbol"===typeof r){e.removeAttribute("xlink:href");break}n=Nt(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""+r):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":!0===r?e.setAttribute(n,""):!1!==r&&null!=r&&"function"!==typeof r&&"symbol"!==typeof r?e.setAttribute(n,r):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":null!=r&&"function"!==typeof r&&"symbol"!==typeof r&&!isNaN(r)&&1<=r?e.setAttribute(n,r):e.removeAttribute(n);break;case"rowSpan":case"start":null==r||"function"===typeof r||"symbol"===typeof r||isNaN(r)?e.removeAttribute(n):e.setAttribute(n,r);break;case"popover":Fu("beforetoggle",e),Fu("toggle",e),tt(e,"popover",r);break;case"xlinkActuate":rt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":rt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":rt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":rt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":rt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":rt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":rt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":rt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":rt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":tt(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<n.length)||"o"!==n[0]&&"O"!==n[0]||"n"!==n[1]&&"N"!==n[1])&&tt(e,n=xt.get(n)||n,r)}}function Zu(e,t,n,r,i,s){switch(n){case"style":Ct(e,r,s);break;case"dangerouslySetInnerHTML":if(null!=r){if("object"!==typeof r||!("__html"in r))throw Error(o(61));if(null!=(n=r.__html)){if(null!=i.children)throw Error(o(60));e.innerHTML=n}}break;case"children":"string"===typeof r?Et(e,r):("number"===typeof r||"bigint"===typeof r)&&Et(e,""+r);break;case"onScroll":null!=r&&Fu("scroll",e);break;case"onScrollEnd":null!=r&&Fu("scrollend",e);break;case"onClick":null!=r&&(e.onclick=Ju);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":case"innerText":case"textContent":break;default:Ye.hasOwnProperty(n)||("o"!==n[0]||"n"!==n[1]||(i=n.endsWith("Capture"),t=n.slice(2,i?n.length-7:void 0),"function"===typeof(s=null!=(s=e[Ae]||null)?s[n]:null)&&e.removeEventListener(t,s,i),"function"!==typeof r)?n in e?e[n]=r:!0===r?e.setAttribute(n,""):tt(e,n,r):("function"!==typeof s&&null!==s&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,r,i)))}}function eh(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fu("error",e),Fu("load",e);var r,i=!1,s=!1;for(r in n)if(n.hasOwnProperty(r)){var a=n[r];if(null!=a)switch(r){case"src":i=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,r,a,n,null)}}return s&&Xu(e,t,"srcSet",n.srcSet,n,null),void(i&&Xu(e,t,"src",n.src,n,null));case"input":Fu("invalid",e);var l=r=a=s=null,c=null,u=null;for(i in n)if(n.hasOwnProperty(i)){var h=n[i];if(null!=h)switch(i){case"name":s=h;break;case"type":a=h;break;case"checked":c=h;break;case"defaultChecked":u=h;break;case"value":r=h;break;case"defaultValue":l=h;break;case"children":case"dangerouslySetInnerHTML":if(null!=h)throw Error(o(137,t));break;default:Xu(e,t,i,h,n,null)}}return yt(e,r,l,c,u,a,s,!1),void ht(e);case"select":for(s in Fu("invalid",e),i=a=r=null,n)if(n.hasOwnProperty(s)&&null!=(l=n[s]))switch(s){case"value":r=l;break;case"defaultValue":a=l;break;case"multiple":i=l;default:Xu(e,t,s,l,n,null)}return t=r,n=a,e.multiple=!!i,void(null!=t?_t(e,!!i,t,!1):null!=n&&_t(e,!!i,n,!0));case"textarea":for(a in Fu("invalid",e),r=s=i=null,n)if(n.hasOwnProperty(a)&&null!=(l=n[a]))switch(a){case"value":i=l;break;case"defaultValue":s=l;break;case"children":r=l;break;case"dangerouslySetInnerHTML":if(null!=l)throw Error(o(91));break;default:Xu(e,t,a,l,n,null)}return bt(e,i,s,r),void ht(e);case"option":for(c in n)if(n.hasOwnProperty(c)&&null!=(i=n[c]))if("selected"===c)e.selected=i&&"function"!==typeof i&&"symbol"!==typeof i;else Xu(e,t,c,i,n,null);return;case"dialog":Fu("beforetoggle",e),Fu("toggle",e),Fu("cancel",e),Fu("close",e);break;case"iframe":case"object":Fu("load",e);break;case"video":case"audio":for(i=0;i<Du.length;i++)Fu(Du[i],e);break;case"image":Fu("error",e),Fu("load",e);break;case"details":Fu("toggle",e);break;case"embed":case"source":case"link":Fu("error",e),Fu("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(u in n)if(n.hasOwnProperty(u)&&null!=(i=n[u]))switch(u){case"children":case"dangerouslySetInnerHTML":throw Error(o(137,t));default:Xu(e,t,u,i,n,null)}return;default:if(Tt(t)){for(h in n)n.hasOwnProperty(h)&&(void 0!==(i=n[h])&&Zu(e,t,h,i,n,void 0));return}}for(l in n)n.hasOwnProperty(l)&&(null!=(i=n[l])&&Xu(e,t,l,i,n,null))}var th=null,nh=null;function rh(e){return 9===e.nodeType?e:e.ownerDocument}function ih(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sh(e,t){if(0===e)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return 1===e&&"foreignObject"===t?0:e}function oh(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"bigint"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ah=null;var lh="function"===typeof setTimeout?setTimeout:void 0,ch="function"===typeof clearTimeout?clearTimeout:void 0,uh="function"===typeof Promise?Promise:void 0,hh="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof uh?function(e){return uh.resolve(null).then(e).catch(dh)}:lh;function dh(e){setTimeout((function(){throw e}))}function fh(e){return"head"===e}function ph(e,t){var n=t,r=0,i=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0<r&&8>r){n=r;var o=e.ownerDocument;if(1&n&&bh(o.documentElement),2&n&&bh(o.body),4&n)for(bh(n=o.head),o=n.firstChild;o;){var a=o.nextSibling,l=o.nodeName;o[Ue]||"SCRIPT"===l||"STYLE"===l||"LINK"===l&&"stylesheet"===o.rel.toLowerCase()||n.removeChild(o),o=a}}if(0===i)return e.removeChild(s),void xd(t);i--}else"$"===n||"$?"===n||"$!"===n?i++:r=n.charCodeAt(0)-48;else r=0;n=s}while(n);xd(t)}function mh(e){var t=e.firstChild;for(t&&10===t.nodeType&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":mh(n),Ve(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if("stylesheet"===n.rel.toLowerCase())continue}e.removeChild(n)}}function gh(e){return"$!"===e.data||"$?"===e.data&&"complete"===e.ownerDocument.readyState}function yh(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t||"F!"===t||"F"===t)break;if("/$"===t)return null}}return e}var vh=null;function _h(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}function wh(e,t,n){switch(t=rh(n),e){case"html":if(!(e=t.documentElement))throw Error(o(452));return e;case"head":if(!(e=t.head))throw Error(o(453));return e;case"body":if(!(e=t.body))throw Error(o(454));return e;default:throw Error(o(451))}}function bh(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Ve(e)}var Eh=new Map,Sh=new Set;function kh(e){return"function"===typeof e.getRootNode?e.getRootNode():9===e.nodeType?e:e.ownerDocument}var Ch=M.d;M.d={f:function(){var e=Ch.f(),t=zc();return e||t},r:function(e){var t=$e(e);null!==t&&5===t.tag&&"form"===t.type?Ao(t):Ch.r(e)},D:function(e){Ch.D(e),xh("dns-prefetch",e,null)},C:function(e,t){Ch.C(e,t),xh("preconnect",e,t)},L:function(e,t,n){Ch.L(e,t,n);var r=Th;if(r&&e&&t){var i='link[rel="preload"][as="'+mt(t)+'"]';"image"===t&&n&&n.imageSrcSet?(i+='[imagesrcset="'+mt(n.imageSrcSet)+'"]',"string"===typeof n.imageSizes&&(i+='[imagesizes="'+mt(n.imageSizes)+'"]')):i+='[href="'+mt(e)+'"]';var s=i;switch(t){case"style":s=Nh(e);break;case"script":s=Oh(e)}Eh.has(s)||(e=d({rel:"preload",href:"image"===t&&n&&n.imageSrcSet?void 0:e,as:t},n),Eh.set(s,e),null!==r.querySelector(i)||"style"===t&&r.querySelector(Rh(s))||"script"===t&&r.querySelector(Ah(s))||(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}},m:function(e,t){Ch.m(e,t);var n=Th;if(n&&e){var r=t&&"string"===typeof t.as?t.as:"script",i='link[rel="modulepreload"][as="'+mt(r)+'"][href="'+mt(e)+'"]',s=i;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=Oh(e)}if(!Eh.has(s)&&(e=d({rel:"modulepreload",href:e},t),Eh.set(s,e),null===n.querySelector(i))){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ah(s)))return}eh(r=n.createElement("link"),"link",e),He(r),n.head.appendChild(r)}}},X:function(e,t){Ch.X(e,t);var n=Th;if(n&&e){var r=Be(n).hoistableScripts,i=Oh(e),s=r.get(i);s||((s=n.querySelector(Ah(i)))||(e=d({src:e,async:!0},t),(t=Eh.get(i))&&Fh(e,t),He(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}},S:function(e,t,n){Ch.S(e,t,n);var r=Th;if(r&&e){var i=Be(r).hoistableStyles,s=Nh(e);t=t||"default";var o=i.get(s);if(!o){var a={loading:0,preload:null};if(o=r.querySelector(Rh(s)))a.loading=5;else{e=d({rel:"stylesheet",href:e,"data-precedence":t},n),(n=Eh.get(s))&&Lh(e,n);var l=o=r.createElement("link");He(l),eh(l,"link",e),l._p=new Promise((function(e,t){l.onload=e,l.onerror=t})),l.addEventListener("load",(function(){a.loading|=1})),l.addEventListener("error",(function(){a.loading|=2})),a.loading|=4,Mh(o,t,r)}o={type:"stylesheet",instance:o,count:1,state:a},i.set(s,o)}}},M:function(e,t){Ch.M(e,t);var n=Th;if(n&&e){var r=Be(n).hoistableScripts,i=Oh(e),s=r.get(i);s||((s=n.querySelector(Ah(i)))||(e=d({src:e,async:!0,type:"module"},t),(t=Eh.get(i))&&Fh(e,t),He(s=n.createElement("script")),eh(s,"link",e),n.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},r.set(i,s))}}};var Th="undefined"===typeof document?null:document;function xh(e,t,n){var r=Th;if(r&&"string"===typeof t&&t){var i=mt(t);i='link[rel="'+e+'"][href="'+i+'"]',"string"===typeof n&&(i+='[crossorigin="'+n+'"]'),Sh.has(i)||(Sh.add(i),e={rel:e,crossOrigin:n,href:t},null===r.querySelector(i)&&(eh(t=r.createElement("link"),"link",e),He(t),r.head.appendChild(t)))}}function Ih(e,t,n,r){var i,s,a,l,c=(c=B.current)?kh(c):null;if(!c)throw Error(o(446));switch(e){case"meta":case"title":return null;case"style":return"string"===typeof n.precedence&&"string"===typeof n.href?(t=Nh(n.href),(r=(n=Be(c).hoistableStyles).get(t))||(r={type:"style",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if("stylesheet"===n.rel&&"string"===typeof n.href&&"string"===typeof n.precedence){e=Nh(n.href);var u=Be(c).hoistableStyles,h=u.get(e);if(h||(c=c.ownerDocument||c,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,h),(u=c.querySelector(Rh(e)))&&!u._p&&(h.instance=u,h.state.loading=5),Eh.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},Eh.set(e,n),u||(i=c,s=e,a=n,l=h.state,i.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=i.createElement("link"),l.preload=s,s.addEventListener("load",(function(){return l.loading|=1})),s.addEventListener("error",(function(){return l.loading|=2})),eh(s,"link",a),He(s),i.head.appendChild(s))))),t&&null===r)throw Error(o(528,""));return h}if(t&&null!==r)throw Error(o(529,""));return null;case"script":return t=n.async,"string"===typeof(n=n.src)&&t&&"function"!==typeof t&&"symbol"!==typeof t?(t=Oh(n),(r=(n=Be(c).hoistableScripts).get(t))||(r={type:"script",instance:null,count:0,state:null},n.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(o(444,e))}}function Nh(e){return'href="'+mt(e)+'"'}function Rh(e){return'link[rel="stylesheet"]['+e+"]"}function Ph(e){return d({},e,{"data-precedence":e.precedence,precedence:null})}function Oh(e){return'[src="'+mt(e)+'"]'}function Ah(e){return"script[async]"+e}function Dh(e,t,n){if(t.count++,null===t.instance)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+mt(n.href)+'"]');if(r)return t.instance=r,He(r),r;var i=d({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return He(r=(e.ownerDocument||e).createElement("style")),eh(r,"style",i),Mh(r,n.precedence,e),t.instance=r;case"stylesheet":i=Nh(n.href);var s=e.querySelector(Rh(i));if(s)return t.state.loading|=4,t.instance=s,He(s),s;r=Ph(n),(i=Eh.get(i))&&Lh(r,i),He(s=(e.ownerDocument||e).createElement("link"));var a=s;return a._p=new Promise((function(e,t){a.onload=e,a.onerror=t})),eh(s,"link",r),t.state.loading|=4,Mh(s,n.precedence,e),t.instance=s;case"script":return s=Oh(n.src),(i=e.querySelector(Ah(s)))?(t.instance=i,He(i),i):(r=n,(i=Eh.get(s))&&Fh(r=d({},n),i),He(i=(e=e.ownerDocument||e).createElement("script")),eh(i,"link",r),e.head.appendChild(i),t.instance=i);case"void":return null;default:throw Error(o(443,t.type))}else"stylesheet"===t.type&&0===(4&t.state.loading)&&(r=t.instance,t.state.loading|=4,Mh(r,n.precedence,e));return t.instance}function Mh(e,t,n){for(var r=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),i=r.length?r[r.length-1]:null,s=i,o=0;o<r.length;o++){var a=r[o];if(a.dataset.precedence===t)s=a;else if(s!==i)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=9===n.nodeType?n.head:n).insertBefore(e,t.firstChild)}function Lh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.title&&(e.title=t.title)}function Fh(e,t){null==e.crossOrigin&&(e.crossOrigin=t.crossOrigin),null==e.referrerPolicy&&(e.referrerPolicy=t.referrerPolicy),null==e.integrity&&(e.integrity=t.integrity)}var jh=null;function Uh(e,t,n){if(null===jh){var r=new Map,i=jh=new Map;i.set(n,r)}else(r=(i=jh).get(n))||(r=new Map,i.set(n,r));if(r.has(e))return r;for(r.set(e,null),n=n.getElementsByTagName(e),i=0;i<n.length;i++){var s=n[i];if(!(s[Ue]||s[Oe]||"link"===e&&"stylesheet"===s.getAttribute("rel"))&&"http://www.w3.org/2000/svg"!==s.namespaceURI){var o=s.getAttribute(t)||"";o=e+o;var a=r.get(o);a?a.push(s):r.set(o,[s])}}return r}function Vh(e,t,n){(e=e.ownerDocument||e).head.insertBefore(n,"title"===t?e.querySelector("head > title"):null)}function zh(e){return"stylesheet"!==e.type||0!==(3&e.state.loading)}var $h=null;function qh(){}function Bh(){if(this.count--,0===this.count)if(this.stylesheets)Wh(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}var Hh=null;function Wh(e,t){e.stylesheets=null,null!==e.unsuspend&&(e.count++,Hh=new Map,t.forEach(Yh,e),Hh=null,Bh.call(e))}function Yh(e,t){if(!(4&t.state.loading)){var n=Hh.get(e);if(n)var r=n.get(null);else{n=new Map,Hh.set(e,n);for(var i=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<i.length;s++){var o=i[s];"LINK"!==o.nodeName&&"not all"===o.getAttribute("media")||(n.set(o.dataset.precedence,o),r=o)}r&&n.set(null,r)}o=(i=t.instance).getAttribute("data-precedence"),(s=n.get(o)||r)===r&&n.set(null,i),n.set(o,i),this.count++,r=Bh.bind(this),i.addEventListener("load",r),i.addEventListener("error",r),s?s.parentNode.insertBefore(i,s.nextSibling):(e=9===e.nodeType?e.head:e).insertBefore(i,e.firstChild),t.state.loading|=4}}var Kh={$$typeof:b,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function Gh(e,t,n,r,i,s,o,a){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ke(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ke(0),this.hiddenUpdates=ke(null),this.identifierPrefix=r,this.onUncaughtError=i,this.onCaughtError=s,this.onRecoverableError=o,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=a,this.incompleteTransitions=new Map}function Qh(e,t,n,r,i,s,o,a,l,c,u,h){return e=new Gh(e,t,n,o,a,l,c,h),t=1,!0===s&&(t|=24),s=Lr(3,null,null,t),e.current=s,s.stateNode=e,(t=Ai()).refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:r,isDehydrated:n,cache:t},ns(s),e}function Jh(e){return e?e=Dr:Dr}function Xh(e,t,n,r,i,s){i=Jh(i),null===r.context?r.context=i:r.pendingContext=i,(r=is(t)).payload={element:n},null!==(s=void 0===s?null:s)&&(r.callback=s),null!==(n=ss(e,r,t))&&(Lc(n,0,t),os(n,e,t))}function Zh(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function ed(e,t){Zh(e,t),(e=e.alternate)&&Zh(e,t)}function td(e){if(13===e.tag){var t=Pr(e,67108864);null!==t&&Lc(t,0,67108864),ed(e,67108864)}}var nd=!0;function rd(e,t,n,r){var i=D.T;D.T=null;var s=M.p;try{M.p=2,sd(e,t,n,r)}finally{M.p=s,D.T=i}}function id(e,t,n,r){var i=D.T;D.T=null;var s=M.p;try{M.p=8,sd(e,t,n,r)}finally{M.p=s,D.T=i}}function sd(e,t,n,r){if(nd){var i=od(r);if(null===i)$u(e,t,r,ad,n),vd(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return hd=_d(hd,e,t,n,r,i),!0;case"dragenter":return dd=_d(dd,e,t,n,r,i),!0;case"mouseover":return fd=_d(fd,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return pd.set(s,_d(pd.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,md.set(s,_d(md.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(vd(e,r),4&t&&-1<yd.indexOf(e)){for(;null!==i;){var s=$e(i);if(null!==s)switch(s.tag){case 3:if((s=s.stateNode).current.memoizedState.isDehydrated){var o=ve(s.pendingLanes);if(0!==o){var a=s;for(a.pendingLanes|=2,a.entangledLanes|=2;o;){var l=1<<31-fe(o);a.entanglements[1]|=l,o&=~l}Eu(s),0===(6&nc)&&(Ec=te()+500,Su(0,!1))}}break;case 13:null!==(a=Pr(s,2))&&Lc(a,0,2),zc(),ed(s,2)}if(null===(s=od(r))&&$u(e,t,r,ad,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else $u(e,t,r,null,n)}}function od(e){return ld(e=Pt(e))}var ad=null;function ld(e){if(ad=null,null!==(e=ze(e))){var t=l(e);if(null===t)e=null;else{var n=t.tag;if(13===n){if(null!==(e=c(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ad=e,null}function cd(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ne()){case re:return 2;case ie:return 8;case se:case oe:return 32;case ae:return 268435456;default:return 32}default:return 32}}var ud=!1,hd=null,dd=null,fd=null,pd=new Map,md=new Map,gd=[],yd="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vd(e,t){switch(e){case"focusin":case"focusout":hd=null;break;case"dragenter":case"dragleave":dd=null;break;case"mouseover":case"mouseout":fd=null;break;case"pointerover":case"pointerout":pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":md.delete(t.pointerId)}}function _d(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=$e(t))&&td(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function wd(e){var t=ze(e.target);if(null!==t){var n=l(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=c(n)))return e.blockedOn=t,void function(e,t){var n=M.p;try{return M.p=e,t()}finally{M.p=n}}(e.priority,(function(){if(13===n.tag){var e=Dc();e=Ie(e);var t=Pr(n,e);null!==t&&Lc(t,0,e),ed(n,e)}}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function bd(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=od(e.nativeEvent);if(null!==n)return null!==(t=$e(n))&&td(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Rt=r,n.target.dispatchEvent(r),Rt=null,t.shift()}return!0}function Ed(e,t,n){bd(e)&&n.delete(t)}function Sd(){ud=!1,null!==hd&&bd(hd)&&(hd=null),null!==dd&&bd(dd)&&(dd=null),null!==fd&&bd(fd)&&(fd=null),pd.forEach(Ed),md.forEach(Ed)}function kd(e,t){e.blockedOn===t&&(e.blockedOn=null,ud||(ud=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Sd)))}var Cd=null;function Td(e){Cd!==e&&(Cd=e,r.unstable_scheduleCallback(r.unstable_NormalPriority,(function(){Cd===e&&(Cd=null);for(var t=0;t<e.length;t+=3){var n=e[t],r=e[t+1],i=e[t+2];if("function"!==typeof r){if(null===ld(r||n))continue;break}var s=$e(n);null!==s&&(e.splice(t,3),t-=3,Po(s,{pending:!0,data:i,method:n.method,action:r},r,i))}})))}function xd(e){function t(t){return kd(t,e)}null!==hd&&kd(hd,e),null!==dd&&kd(dd,e),null!==fd&&kd(fd,e),pd.forEach(t),md.forEach(t);for(var n=0;n<gd.length;n++){var r=gd[n];r.blockedOn===e&&(r.blockedOn=null)}for(;0<gd.length&&null===(n=gd[0]).blockedOn;)wd(n),null===n.blockedOn&&gd.shift();if(null!=(n=(e.ownerDocument||e).$$reactFormReplay))for(r=0;r<n.length;r+=3){var i=n[r],s=n[r+1],o=i[Ae]||null;if("function"===typeof s)o||Td(n);else if(o){var a=null;if(s&&s.hasAttribute("formAction")){if(i=s,o=s[Ae]||null)a=o.formAction;else if(null!==ld(i))continue}else a=o.action;"function"===typeof a?n[r+1]=a:(n.splice(r,3),r-=3),Td(n)}}}function Id(e){this._internalRoot=e}function Nd(e){this._internalRoot=e}Nd.prototype.render=Id.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(o(409));Xh(t.current,Dc(),e,t,null,null)},Nd.prototype.unmount=Id.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;Xh(e.current,2,null,e,null,null),zc(),t[De]=null}},Nd.prototype.unstable_scheduleHydration=function(e){if(e){var t=Re();e={blockedOn:null,target:e,priority:t};for(var n=0;n<gd.length&&0!==t&&t<gd[n].priority;n++);gd.splice(n,0,e),0===n&&wd(e)}};var Rd=i.version;if("19.1.0"!==Rd)throw Error(o(527,Rd,"19.1.0"));M.findDOMNode=function(e){var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw e=Object.keys(e).join(","),Error(o(268,e))}return e=function(e){var t=e.alternate;if(!t){if(null===(t=l(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return u(i),e;if(s===r)return u(i),t;s=s.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,c=i.child;c;){if(c===n){a=!0,n=i,r=s;break}if(c===r){a=!0,r=i,n=s;break}c=c.sibling}if(!a){for(c=s.child;c;){if(c===n){a=!0,n=s,r=i;break}if(c===r){a=!0,r=s,n=i;break}c=c.sibling}if(!a)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(t),e=null===(e=null!==e?h(e):null)?null:e.stateNode};var Pd={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var Od=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Od.isDisabled&&Od.supportsFiber)try{ue=Od.inject(Pd),he=Od}catch(Dd){}}t.createRoot=function(e,t){if(!a(e))throw Error(o(299));var n=!1,r="",i=va,s=_a,l=wa;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onUncaughtError&&(i=t.onUncaughtError),void 0!==t.onCaughtError&&(s=t.onCaughtError),void 0!==t.onRecoverableError&&(l=t.onRecoverableError),void 0!==t.unstable_transitionCallbacks&&t.unstable_transitionCallbacks),t=Qh(e,1,!1,null,0,n,r,i,s,l,0,null),e[De]=t.current,Vu(e),new Id(t)},t.hydrateRoot=function(e,t,n){if(!a(e))throw Error(o(299));var r=!1,i="",s=va,l=_a,c=wa,u=null;return null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(r=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onUncaughtError&&(s=n.onUncaughtError),void 0!==n.onCaughtError&&(l=n.onCaughtError),void 0!==n.onRecoverableError&&(c=n.onRecoverableError),void 0!==n.unstable_transitionCallbacks&&n.unstable_transitionCallbacks,void 0!==n.formState&&(u=n.formState)),(t=Qh(e,1,!0,t,0,r,i,s,l,c,0,u)).context=Jh(null),n=t.current,(i=is(r=Ie(r=Dc()))).callback=null,ss(n,i,r),n=r,t.current.lanes=n,Ce(t,n),Eu(t),e[De]=t.current,Vu(e),new Nd(t)},t.version="19.1.0"},43:(e,t,n)=>{"use strict";e.exports=n(288)},139:(e,t)=>{var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];n&&(e=o(e,s(n)))}return e}function s(e){if("string"===typeof e||"number"===typeof e)return e;if("object"!==typeof e)return"";if(Array.isArray(e))return i.apply(null,e);if(e.toString!==Object.prototype.toString&&!e.toString.toString().includes("[native code]"))return e.toString();var t="";for(var n in e)r.call(e,n)&&e[n]&&(t=o(t,n));return t}function o(e,t){return t?e?e+" "+t:e+t:e}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},173:(e,t,n)=>{e.exports=n(497)()},175:(e,t)=>{"use strict";const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,a=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},178:function(e,t,n){(e=n.nmd(e)).exports=function(){"use strict";var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function c(e){return void 0===e}function u(e){return"number"===typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Kn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function y(e){var t=null,r=!1,i=e._d&&!isNaN(e._d.getTime());return i&&(t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour)),null!=Object.isFrozen&&Object.isFrozen(e)?i:(e._isValid=i,e._isValid)}function v(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var _=r.momentProperties=[],w=!1;function b(e,t){var n,r,i,s=_.length;if(c(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),c(t._i)||(e._i=t._i),c(t._f)||(e._f=t._f),c(t._l)||(e._l=t._l),c(t._strict)||(e._strict=t._strict),c(t._tzm)||(e._tzm=t._tzm),c(t._isUTC)||(e._isUTC=t._isUTC),c(t._offset)||(e._offset=t._offset),c(t._pf)||(e._pf=g(t)),c(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)c(i=t[r=_[n]])||(e[r]=i);return e}function E(e){b(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===w&&(w=!0,r.updateOffset(this),w=!1)}function S(e){return e instanceof E||null!=e&&null!=e._isAMomentObject}function k(e){!1===r.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function C(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,s,o,l=[],c=arguments.length;for(s=0;s<c;s++){if(i="","object"===typeof arguments[s]){for(o in i+="\n["+s+"] ",arguments[0])a(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];l.push(i)}k(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var T,x={};function I(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),x[e]||(k(t),x[e]=!0)}function N(e){return"undefined"!==typeof Function&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function R(e){var t,n;for(n in e)a(e,n)&&(N(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function P(e,t){var n,r=f({},e);for(n in t)a(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function O(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,T=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var A={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function D(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return N(r)?r.call(t,n):r}function M(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var L=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,j={},U={};function V(e,t,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return M(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $(e){var t,n,r=e.match(L);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,s="";for(i=0;i<n;i++)s+=N(r[i])?r[i].call(t,e):r[i];return s}}function q(e,t){return e.isValid()?(t=B(t,e.localeData()),j[t]=j[t]||$(t),j[t](e)):e.localeData().invalidDate()}function B(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var H={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(L).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var Y="Invalid date";function K(){return this._invalidDate}var G="%d",Q=/\d{1,2}/;function J(e){return this._ordinal.replace("%d",e)}var X={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return N(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return N(n)?n(t):n.replace(/%s/i,t)}var te={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function ne(e){return"string"===typeof e?te[e]||te[e.toLowerCase()]:void 0}function re(e){var t,n,r={};for(n in e)a(e,n)&&(t=ne(n))&&(r[t]=e[n]);return r}var ie={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function se(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:ie[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}var oe,ae=/\d/,le=/\d\d/,ce=/\d{3}/,ue=/\d{4}/,he=/[+-]?\d{6}/,de=/\d\d?/,fe=/\d\d\d\d?/,pe=/\d\d\d\d\d\d?/,me=/\d{1,3}/,ge=/\d{1,4}/,ye=/[+-]?\d{1,6}/,ve=/\d+/,_e=/[+-]?\d+/,we=/Z|[+-]\d\d:?\d\d/gi,be=/Z|[+-]\d\d(?::?\d\d)?/gi,Ee=/[+-]?\d+(\.\d{1,3})?/,Se=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ke=/^[1-9]\d?/,Ce=/^([1-9]\d|\d)/;function Te(e,t,n){oe[e]=N(t)?t:function(e,r){return e&&n?n:t}}function xe(e,t){return a(oe,e)?oe[e](t._strict,t._locale):new RegExp(Ie(e))}function Ie(e){return Ne(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Ne(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Re(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function Pe(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=Re(t)),n}oe={};var Oe={};function Ae(e,t){var n,r,i=t;for("string"===typeof e&&(e=[e]),u(t)&&(i=function(e,n){n[t]=Pe(e)}),r=e.length,n=0;n<r;n++)Oe[e[n]]=i}function De(e,t){Ae(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function Me(e,t,n){null!=t&&a(Oe,e)&&Oe[e](t,n._a,n,e)}function Le(e){return e%4===0&&e%100!==0||e%400===0}var Fe=0,je=1,Ue=2,Ve=3,ze=4,$e=5,qe=6,Be=7,He=8;function We(e){return Le(e)?366:365}V("Y",0,0,(function(){var e=this.year();return e<=9999?M(e,4):"+"+e})),V(0,["YY",2],0,(function(){return this.year()%100})),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),Te("Y",_e),Te("YY",de,le),Te("YYYY",ge,ue),Te("YYYYY",ye,he),Te("YYYYYY",ye,he),Ae(["YYYYY","YYYYYY"],Fe),Ae("YYYY",(function(e,t){t[Fe]=2===e.length?r.parseTwoDigitYear(e):Pe(e)})),Ae("YY",(function(e,t){t[Fe]=r.parseTwoDigitYear(e)})),Ae("Y",(function(e,t){t[Fe]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return Pe(e)+(Pe(e)>68?1900:2e3)};var Ye,Ke=Qe("FullYear",!0);function Ge(){return Le(this.year())}function Qe(e,t){return function(n){return null!=n?(Xe(this,e,n),r.updateOffset(this,t),this):Je(this,e)}}function Je(e,t){if(!e.isValid())return NaN;var n=e._d,r=e._isUTC;switch(t){case"Milliseconds":return r?n.getUTCMilliseconds():n.getMilliseconds();case"Seconds":return r?n.getUTCSeconds():n.getSeconds();case"Minutes":return r?n.getUTCMinutes():n.getMinutes();case"Hours":return r?n.getUTCHours():n.getHours();case"Date":return r?n.getUTCDate():n.getDate();case"Day":return r?n.getUTCDay():n.getDay();case"Month":return r?n.getUTCMonth():n.getMonth();case"FullYear":return r?n.getUTCFullYear():n.getFullYear();default:return NaN}}function Xe(e,t,n){var r,i,s,o,a;if(e.isValid()&&!isNaN(n)){switch(r=e._d,i=e._isUTC,t){case"Milliseconds":return void(i?r.setUTCMilliseconds(n):r.setMilliseconds(n));case"Seconds":return void(i?r.setUTCSeconds(n):r.setSeconds(n));case"Minutes":return void(i?r.setUTCMinutes(n):r.setMinutes(n));case"Hours":return void(i?r.setUTCHours(n):r.setHours(n));case"Date":return void(i?r.setUTCDate(n):r.setDate(n));case"FullYear":break;default:return}s=n,o=e.month(),a=29!==(a=e.date())||1!==o||Le(s)?a:28,i?r.setUTCFullYear(s,o,a):r.setFullYear(s,o,a)}}function Ze(e){return N(this[e=ne(e)])?this[e]():this}function et(e,t){if("object"===typeof e){var n,r=se(e=re(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(N(this[e=ne(e)]))return this[e](t);return this}function tt(e,t){return(e%t+t)%t}function nt(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=tt(t,12);return e+=(t-n)/12,1===n?Le(e)?29:28:31-n%7%2}Ye=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",(function(){return this.month()+1})),V("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),V("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),Te("M",de,ke),Te("MM",de,le),Te("MMM",(function(e,t){return t.monthsShortRegex(e)})),Te("MMMM",(function(e,t){return t.monthsRegex(e)})),Ae(["M","MM"],(function(e,t){t[je]=Pe(e)-1})),Ae(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[je]=i:g(n).invalidMonth=e}));var rt="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),it="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),st=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,ot=Se,at=Se;function lt(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||st).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ct(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[st.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function ut(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,o))?i:null:-1!==(i=Ye.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=Ye.call(this._shortMonthsParse,o))||-1!==(i=Ye.call(this._longMonthsParse,o))?i:null:-1!==(i=Ye.call(this._longMonthsParse,o))||-1!==(i=Ye.call(this._shortMonthsParse,o))?i:null}function ht(e,t,n){var r,i,s;if(this._monthsParseExact)return ut.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function dt(e,t){if(!e.isValid())return e;if("string"===typeof t)if(/^\d+$/.test(t))t=Pe(t);else if(!u(t=e.localeData().monthsParse(t)))return e;var n=t,r=e.date();return r=r<29?r:Math.min(r,nt(e.year(),n)),e._isUTC?e._d.setUTCMonth(n,r):e._d.setMonth(n,r),e}function ft(e){return null!=e?(dt(this,e),r.updateOffset(this,!0),this):Je(this,"Month")}function pt(){return nt(this.year(),this.month())}function mt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||yt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=ot),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function gt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||yt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=at),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function yt(){function e(e,t){return t.length-e.length}var t,n,r,i,s=[],o=[],a=[];for(t=0;t<12;t++)n=p([2e3,t]),r=Ne(this.monthsShort(n,"")),i=Ne(this.months(n,"")),s.push(r),o.push(i),a.push(i),a.push(r);s.sort(e),o.sort(e),a.sort(e),this._monthsRegex=new RegExp("^("+a.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+s.join("|")+")","i")}function vt(e,t,n,r,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,s,o),a}function _t(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function wt(e,t,n){var r=7+t-n;return-(7+_t(e,0,r).getUTCDay()-t)%7+r-1}function bt(e,t,n,r,i){var s,o,a=1+7*(t-1)+(7+n-r)%7+wt(e,r,i);return a<=0?o=We(s=e-1)+a:a>We(e)?(s=e+1,o=a-We(e)):(s=e,o=a),{year:s,dayOfYear:o}}function Et(e,t,n){var r,i,s=wt(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?r=o+St(i=e.year()-1,t,n):o>St(e.year(),t,n)?(r=o-St(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function St(e,t,n){var r=wt(e,t,n),i=wt(e+1,t,n);return(We(e)-r+i)/7}function kt(e){return Et(e,this._week.dow,this._week.doy).week}V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),Te("w",de,ke),Te("ww",de,le),Te("W",de,ke),Te("WW",de,le),De(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=Pe(e)}));var Ct={dow:0,doy:6};function Tt(){return this._week.dow}function xt(){return this._week.doy}function It(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Nt(e){var t=Et(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Rt(e,t){return"string"!==typeof e?e:isNaN(e)?"number"===typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Pt(e,t){return"string"===typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Ot(e,t){return e.slice(t,7).concat(e.slice(0,t))}V("d",0,"do","day"),V("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),V("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),V("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),Te("d",de),Te("e",de),Te("E",de),Te("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Te("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Te("dddd",(function(e,t){return t.weekdaysRegex(e)})),De(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),De(["d","e","E"],(function(e,t,n,r){t[r]=Pe(e)}));var At="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Dt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Mt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lt=Se,Ft=Se,jt=Se;function Ut(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?Ot(n,this._week.dow):e?n[e.day()]:n}function Vt(e){return!0===e?Ot(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?Ot(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $t(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=Ye.call(this._weekdaysParse,o))||-1!==(i=Ye.call(this._shortWeekdaysParse,o))||-1!==(i=Ye.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=Ye.call(this._shortWeekdaysParse,o))||-1!==(i=Ye.call(this._weekdaysParse,o))||-1!==(i=Ye.call(this._minWeekdaysParse,o))?i:null:-1!==(i=Ye.call(this._minWeekdaysParse,o))||-1!==(i=Ye.call(this._weekdaysParse,o))||-1!==(i=Ye.call(this._shortWeekdaysParse,o))?i:null}function qt(e,t,n){var r,i,s;if(this._weekdaysParseExact)return $t.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function Bt(e){if(!this.isValid())return null!=e?this:NaN;var t=Je(this,"Day");return null!=e?(e=Rt(e,this.localeData()),this.add(e-t,"d")):t}function Ht(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Pt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Yt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Lt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Gt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=jt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,s,o=[],a=[],l=[],c=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Ne(this.weekdaysMin(n,"")),i=Ne(this.weekdaysShort(n,"")),s=Ne(this.weekdays(n,"")),o.push(r),a.push(i),l.push(s),c.push(r),c.push(i),c.push(s);o.sort(e),a.sort(e),l.sort(e),c.sort(e),this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Jt(){return this.hours()%12||12}function Xt(){return this.hours()||24}function Zt(e,t){V(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Jt),V("k",["kk",2],0,Xt),V("hmm",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)})),V("hmmss",0,0,(function(){return""+Jt.apply(this)+M(this.minutes(),2)+M(this.seconds(),2)})),V("Hmm",0,0,(function(){return""+this.hours()+M(this.minutes(),2)})),V("Hmmss",0,0,(function(){return""+this.hours()+M(this.minutes(),2)+M(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),Te("a",en),Te("A",en),Te("H",de,Ce),Te("h",de,ke),Te("k",de,ke),Te("HH",de,le),Te("hh",de,le),Te("kk",de,le),Te("hmm",fe),Te("hmmss",pe),Te("Hmm",fe),Te("Hmmss",pe),Ae(["H","HH"],Ve),Ae(["k","kk"],(function(e,t,n){var r=Pe(e);t[Ve]=24===r?0:r})),Ae(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ae(["h","hh"],(function(e,t,n){t[Ve]=Pe(e),g(n).bigHour=!0})),Ae("hmm",(function(e,t,n){var r=e.length-2;t[Ve]=Pe(e.substr(0,r)),t[ze]=Pe(e.substr(r)),g(n).bigHour=!0})),Ae("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ve]=Pe(e.substr(0,r)),t[ze]=Pe(e.substr(r,2)),t[$e]=Pe(e.substr(i)),g(n).bigHour=!0})),Ae("Hmm",(function(e,t,n){var r=e.length-2;t[Ve]=Pe(e.substr(0,r)),t[ze]=Pe(e.substr(r))})),Ae("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[Ve]=Pe(e.substr(0,r)),t[ze]=Pe(e.substr(r,2)),t[$e]=Pe(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=Qe("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,an={calendar:A,longDateFormat:H,invalidDate:Y,ordinal:G,dayOfMonthOrdinalParse:Q,relativeTime:X,months:rt,monthsShort:it,week:Ct,weekdays:At,weekdaysMin:Mt,weekdaysShort:Dt,meridiemParse:nn},ln={},cn={};function un(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e?e.toLowerCase().replace("_","-"):e}function dn(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=hn(e[s]).split("-")).length,n=(n=hn(e[s+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&un(i,n)>=t-1)break;t--}s++}return on}function fn(e){return!(!e||!e.match("^[^/\\\\]*$"))}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=on._abbr,Object(function(){var e=new Error("Cannot find module 'undefined'");throw e.code="MODULE_NOT_FOUND",e}()),mn(n)}catch(r){ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=c(t)?vn(e):gn(e,t))?on=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function gn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=ln[e])I("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return cn[t.parentLocale]||(cn[t.parentLocale]=[]),cn[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new O(P(r,t)),cn[e]&&cn[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function yn(e,t){if(null!=t){var n,r,i=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(P(ln[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=P(i,t),null==r&&(t.abbr=e),(n=new O(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!s(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function _n(){return T(ln)}function wn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[je]<0||n[je]>11?je:n[Ue]<1||n[Ue]>nt(n[Fe],n[je])?Ue:n[Ve]<0||n[Ve]>24||24===n[Ve]&&(0!==n[ze]||0!==n[$e]||0!==n[qe])?Ve:n[ze]<0||n[ze]>59?ze:n[$e]<0||n[$e]>59?$e:n[qe]<0||n[qe]>999?qe:-1,g(e)._overflowDayOfYear&&(t<Fe||t>Ue)&&(t=Ue),g(e)._overflowWeeks&&-1===t&&(t=Be),g(e)._overflowWeekday&&-1===t&&(t=He),g(e).overflow=t),e}var bn=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/Z|[+-]\d\d(?::?\d\d)?/,kn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Cn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Tn=/^\/?Date\((-?\d+)/i,xn=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,In={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Nn(e){var t,n,r,i,s,o,a=e._i,l=bn.exec(a)||En.exec(a),c=kn.length,u=Cn.length;if(l){for(g(e).iso=!0,t=0,n=c;t<n;t++)if(kn[t][1].exec(l[1])){i=kn[t][0],r=!1!==kn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=u;t<n;t++)if(Cn[t][1].exec(l[3])){s=(l[2]||" ")+Cn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!Sn.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),zn(e)}else e._isValid=!1}function Rn(e,t,n,r,i,s){var o=[Pn(e),it.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Pn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function On(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function An(e,t,n){return!e||Dt.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function Dn(e,t,n){if(e)return In[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Mn(e){var t,n=xn.exec(On(e._i));if(n){if(t=Rn(n[4],n[3],n[2],n[5],n[6],n[7]),!An(n[1],t,e))return;e._a=t,e._tzm=Dn(n[8],n[9],n[10]),e._d=_t.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Ln(e){var t=Tn.exec(e._i);null===t?(Nn(e),!1===e._isValid&&(delete e._isValid,Mn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return null!=e?e:null!=t?t:n}function jn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,s,o=[];if(!e._d){for(r=jn(e),e._w&&null==e._a[Ue]&&null==e._a[je]&&Vn(e),null!=e._dayOfYear&&(s=Fn(e._a[Fe],r[Fe]),(e._dayOfYear>We(s)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=_t(s,0,e._dayOfYear),e._a[je]=n.getUTCMonth(),e._a[Ue]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[Ve]&&0===e._a[ze]&&0===e._a[$e]&&0===e._a[qe]&&(e._nextDay=!0,e._a[Ve]=0),e._d=(e._useUTC?_t:vt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[Ve]=24),e._w&&"undefined"!==typeof e._w.d&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Vn(e){var t,n,r,i,s,o,a,l,c;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,o=4,n=Fn(t.GG,e._a[Fe],Et(Gn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,c=Et(Gn(),s,o),n=Fn(t.gg,e._a[Fe],c.year),r=Fn(t.w,c.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>St(n,s,o)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=bt(n,r,i,s,o),e._a[Fe]=a.year,e._dayOfYear=a.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,s,o,a,l,c=""+e._i,u=c.length,h=0;for(l=(i=B(e._f,e._locale).match(L)||[]).length,t=0;t<l;t++)s=i[t],(n=(c.match(xe(s,e))||[])[0])&&((o=c.substr(0,c.indexOf(n))).length>0&&g(e).unusedInput.push(o),c=c.slice(c.indexOf(n)+n.length),h+=n.length),U[s]?(n?g(e).empty=!1:g(e).unusedTokens.push(s),Me(s,n,e)):e._strict&&!n&&g(e).unusedTokens.push(s);g(e).charsLeftOver=u-h,c.length>0&&g(e).unusedInput.push(c),e._a[Ve]<=12&&!0===g(e).bigHour&&e._a[Ve]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[Ve]=$n(e._locale,e._a[Ve],e._meridiem),null!==(a=g(e).era)&&(e._a[Fe]=e._locale.erasConvertYear(a,e._a[Fe])),Un(e),wn(e)}else Mn(e);else Nn(e)}function $n(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):null!=e.isPM?((r=e.isPM(n))&&t<12&&(t+=12),r||12!==t||(t=0),t):t}function qn(e){var t,n,r,i,s,o,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)s=0,o=!1,t=b({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(o=!0),s+=g(t).charsLeftOver,s+=10*g(t).unusedTokens.length,g(t).score=s,a?s<r&&(r=s,n=t):(null==r||s<r||o)&&(r=s,n=t,o&&(a=!0));f(e,n||t)}function Bn(e){if(!e._d){var t=re(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Hn(e){var t=new E(wn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||vn(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"===typeof t&&(e._i=t=e._locale.preparse(t)),S(t)?new E(wn(t)):(h(t)?e._d=t:s(n)?qn(e):n?zn(e):Yn(e),y(e)||(e._d=null),e))}function Yn(e){var t=e._i;c(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"===typeof t?Ln(e):s(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?Bn(e):u(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Kn(e,t,n,r,i){var a={};return!0!==t&&!1!==t||(r=t,t=void 0),!0!==n&&!1!==n||(r=n,n=void 0),(o(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Hn(a)}function Gn(e,t,n,r){return Kn(e,t,n,r,!1)}r.createFromInputFallback=C("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=C("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Gn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),Jn=C("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Gn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Xn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Gn();for(n=t[0],r=1;r<t.length;++r)t[r].isValid()&&!t[r][e](n)||(n=t[r]);return n}function Zn(){return Xn("isBefore",[].slice.call(arguments,0))}function er(){return Xn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(a(e,t)&&(-1===Ye.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==Pe(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function sr(){return Ir(NaN)}function or(e){var t=re(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function ar(e){return e instanceof or}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function cr(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&Pe(e[r])!==Pe(t[r]))&&o++;return o+s}function ur(e,t){V(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+M(~~(e/60),2)+t+M(~~e%60,2)}))}ur("Z",":"),ur("ZZ",""),Te("Z",be),Te("ZZ",be),Ae(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=dr(be,e)}));var hr=/([\+\-]|\d\d)/gi;function dr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+Pe(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(S(e)||h(e)?e.valueOf():Gn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Gn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"===typeof e){if(null===(e=dr(be,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Ar(this,Ir(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pr(this)}function gr(e,t){return null!=e?("string"!==typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function vr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function _r(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var e=dr(we,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function wr(e){return!!this.isValid()&&(e=e?Gn(e).utcOffset():0,(this.utcOffset()-e)%60===0)}function br(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Er(){if(!c(this._isDSTShifted))return this._isDSTShifted;var e,t={};return b(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Gn(t._a),this._isDSTShifted=this.isValid()&&cr(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Sr(){return!!this.isValid()&&!this._isUTC}function kr(){return!!this.isValid()&&this._isUTC}function Cr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var Tr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,xr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ir(e,t){var n,r,i,s=e,o=null;return ar(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:u(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(o=Tr.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:Pe(o[Ue])*n,h:Pe(o[Ve])*n,m:Pe(o[ze])*n,s:Pe(o[$e])*n,ms:Pe(lr(1e3*o[qe]))*n}):(o=xr.exec(e))?(n="-"===o[1]?-1:1,s={y:Nr(o[2],n),M:Nr(o[3],n),w:Nr(o[4],n),d:Nr(o[5],n),h:Nr(o[6],n),m:Nr(o[7],n),s:Nr(o[8],n)}):null==s?s={}:"object"===typeof s&&("from"in s||"to"in s)&&(i=Pr(Gn(s.from),Gn(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new or(s),ar(e)&&a(e,"_locale")&&(r._locale=e._locale),ar(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Nr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Rr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Pr(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Rr(e,t):((n=Rr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Or(e,t){return function(n,r){var i;return null===r||isNaN(+r)||(I(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Ar(this,Ir(n,r),e),this}}function Ar(e,t,n,i){var s=t._milliseconds,o=lr(t._days),a=lr(t._months);e.isValid()&&(i=null==i||i,a&&dt(e,Je(e,"Month")+a*n),o&&Xe(e,"Date",Je(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),i&&r.updateOffset(e,o||a))}Ir.fn=or.prototype,Ir.invalid=sr;var Dr=Or(1,"add"),Mr=Or(-1,"subtract");function Lr(e){return"string"===typeof e||e instanceof String}function Fr(e){return S(e)||h(e)||Lr(e)||u(e)||Ur(e)||jr(e)||null===e||void 0===e}function jr(e){var t,n,r=o(e)&&!l(e),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],c=s.length;for(t=0;t<c;t+=1)n=s[t],i=i||a(e,n);return r&&i}function Ur(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!u(t)&&Lr(e)})).length),t&&n}function Vr(e){var t,n,r=o(e)&&!l(e),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=s[t],i=i||a(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $r(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Vr(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Gn(),i=fr(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",o=t&&(N(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Gn(n)))}function qr(){return new E(this)}function Br(e,t){var n=S(e)?e:Gn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Hr(e,t){var n=S(e)?e:Gn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=S(e)?e:Gn(e),s=S(t)?t:Gn(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))}function Yr(e,t){var n,r=S(e)?e:Gn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=ne(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Kr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Gr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=ne(t)){case"year":s=Jr(this,r)/12;break;case"month":s=Jr(this,r);break;case"quarter":s=Jr(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:Re(s)}function Jr(e,t){if(e.date()<t.date())return-Jr(t,e);var n=12*(t.year()-e.year())+(t.month()-e.month()),r=e.clone().add(n,"months");return-(n+(t-r<0?(t-r)/(r-e.clone().add(n-1,"months")):(t-r)/(e.clone().add(n+1,"months")-r)))||0}function Xr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?q(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):N(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",q(n,"Z")):q(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",s="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=s+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=q(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(S(e)&&e.isValid()||Gn(e).isValid())?Ir({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Gn(),e)}function ii(e,t){return this.isValid()&&(S(e)&&e.isValid()||Gn(e).isValid())?Ir({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Gn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=C("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ci=1e3,ui=60*ci,hi=60*ui,di=3506328*hi;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-di:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-di:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ui),hi);break;case"minute":t=this._d.valueOf(),t-=fi(t,ui);break;case"second":t=this._d.valueOf(),t-=fi(t,ci)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=ne(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hi-fi(t+(this._isUTC?0:this.utcOffset()*ui),hi)-1;break;case"minute":t=this._d.valueOf(),t+=ui-fi(t,ui)-1;break;case"second":t=this._d.valueOf(),t+=ci-fi(t,ci)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function _i(){return Math.floor(this.valueOf()/1e3)}function wi(){return new Date(this.valueOf())}function bi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Ei(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Si(){return this.isValid()?this.toISOString():null}function ki(){return y(this)}function Ci(){return f({},g(this))}function Ti(){return g(this).overflow}function xi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ii(e,t){var n,i,s,o=this._eras||vn("en")._eras;for(n=0,i=o.length;n<i;++n)switch("string"===typeof o[n].since&&(s=r(o[n].since).startOf("day"),o[n].since=s.valueOf()),typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=r(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf()}return o}function Ni(e,t,n){var r,i,s,o,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(s=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(s===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([s,o,a].indexOf(e)>=0)return l[r]}function Ri(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Pi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].name;if(r[e].until<=n&&n<=r[e].since)return r[e].name}return""}function Oi(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].narrow;if(r[e].until<=n&&n<=r[e].since)return r[e].narrow}return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e){if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until)return r[e].abbr;if(r[e].until<=n&&n<=r[e].since)return r[e].abbr}return""}function Di(){var e,t,n,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-r(s[e].since).year())*n+s[e].offset;return this.year()}function Mi(e){return a(this,"_erasNameRegex")||$i.call(this),e?this._erasNameRegex:this._erasRegex}function Li(e){return a(this,"_erasAbbrRegex")||$i.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return a(this,"_erasNarrowRegex")||$i.call(this),e?this._erasNarrowRegex:this._erasRegex}function ji(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Vi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||ve}function $i(){var e,t,n,r,i,s=[],o=[],a=[],l=[],c=this.eras();for(e=0,t=c.length;e<t;++e)n=Ne(c[e].name),r=Ne(c[e].abbr),i=Ne(c[e].narrow),o.push(n),s.push(r),a.push(i),l.push(n),l.push(r),l.push(i);this._erasRegex=new RegExp("^("+l.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+o.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+a.join("|")+")","i")}function qi(e,t){V(0,[e,e.length],0,t)}function Bi(e){return Qi.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function Hi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return St(this.year(),1,4)}function Yi(){return St(this.isoWeekYear(),1,4)}function Ki(){var e=this.localeData()._week;return St(this.year(),e.dow,e.doy)}function Gi(){var e=this.localeData()._week;return St(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var s;return null==e?Et(this,r,i).year:(t>(s=St(e,r,i))&&(t=s),Ji.call(this,e,t,n,r,i))}function Ji(e,t,n,r,i){var s=bt(e,t,n,r,i),o=_t(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Xi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}V("N",0,0,"eraAbbr"),V("NN",0,0,"eraAbbr"),V("NNN",0,0,"eraAbbr"),V("NNNN",0,0,"eraName"),V("NNNNN",0,0,"eraNarrow"),V("y",["y",1],"yo","eraYear"),V("y",["yy",2],0,"eraYear"),V("y",["yyy",3],0,"eraYear"),V("y",["yyyy",4],0,"eraYear"),Te("N",ji),Te("NN",ji),Te("NNN",ji),Te("NNNN",Ui),Te("NNNNN",Vi),Ae(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Te("y",ve),Te("yy",ve),Te("yyy",ve),Te("yyyy",ve),Te("yo",zi),Ae(["y","yy","yyy","yyyy"],Fe),Ae(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[Fe]=n._locale.eraYearOrdinalParse(e,i):t[Fe]=parseInt(e,10)})),V(0,["gg",2],0,(function(){return this.weekYear()%100})),V(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),qi("gggg","weekYear"),qi("ggggg","weekYear"),qi("GGGG","isoWeekYear"),qi("GGGGG","isoWeekYear"),Te("G",_e),Te("g",_e),Te("GG",de,le),Te("gg",de,le),Te("GGGG",ge,ue),Te("gggg",ge,ue),Te("GGGGG",ye,he),Te("ggggg",ye,he),De(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=Pe(e)})),De(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),V("Q",0,"Qo","quarter"),Te("Q",ae),Ae("Q",(function(e,t){t[je]=3*(Pe(e)-1)})),V("D",["DD",2],"Do","date"),Te("D",de,ke),Te("DD",de,le),Te("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ae(["D","DD"],Ue),Ae("Do",(function(e,t){t[Ue]=Pe(e.match(de)[0])}));var Zi=Qe("Date",!0);function es(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}V("DDD",["DDDD",3],"DDDo","dayOfYear"),Te("DDD",me),Te("DDDD",ce),Ae(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=Pe(e)})),V("m",["mm",2],0,"minute"),Te("m",de,Ce),Te("mm",de,le),Ae(["m","mm"],ze);var ts=Qe("Minutes",!1);V("s",["ss",2],0,"second"),Te("s",de,Ce),Te("ss",de,le),Ae(["s","ss"],$e);var ns,rs,is=Qe("Seconds",!1);for(V("S",0,0,(function(){return~~(this.millisecond()/100)})),V(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),V(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),V(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),V(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),V(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),V(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),Te("S",me,ae),Te("SS",me,le),Te("SSS",me,ce),ns="SSSS";ns.length<=9;ns+="S")Te(ns,ve);function ss(e,t){t[qe]=Pe(1e3*("0."+e))}for(ns="S";ns.length<=9;ns+="S")Ae(ns,ss);function os(){return this._isUTC?"UTC":""}function as(){return this._isUTC?"Coordinated Universal Time":""}rs=Qe("Milliseconds",!1),V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var ls=E.prototype;function cs(e){return Gn(1e3*e)}function us(){return Gn.apply(null,arguments).parseZone()}function hs(e){return e}ls.add=Dr,ls.calendar=$r,ls.clone=qr,ls.diff=Qr,ls.endOf=yi,ls.format=ti,ls.from=ni,ls.fromNow=ri,ls.to=ii,ls.toNow=si,ls.get=Ze,ls.invalidAt=Ti,ls.isAfter=Br,ls.isBefore=Hr,ls.isBetween=Wr,ls.isSame=Yr,ls.isSameOrAfter=Kr,ls.isSameOrBefore=Gr,ls.isValid=ki,ls.lang=ai,ls.locale=oi,ls.localeData=li,ls.max=Jn,ls.min=Qn,ls.parsingFlags=Ci,ls.set=et,ls.startOf=gi,ls.subtract=Mr,ls.toArray=bi,ls.toObject=Ei,ls.toDate=wi,ls.toISOString=Zr,ls.inspect=ei,"undefined"!==typeof Symbol&&null!=Symbol.for&&(ls[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ls.toJSON=Si,ls.toString=Xr,ls.unix=_i,ls.valueOf=vi,ls.creationData=xi,ls.eraName=Pi,ls.eraNarrow=Oi,ls.eraAbbr=Ai,ls.eraYear=Di,ls.year=Ke,ls.isLeapYear=Ge,ls.weekYear=Bi,ls.isoWeekYear=Hi,ls.quarter=ls.quarters=Xi,ls.month=ft,ls.daysInMonth=pt,ls.week=ls.weeks=It,ls.isoWeek=ls.isoWeeks=Nt,ls.weeksInYear=Ki,ls.weeksInWeekYear=Gi,ls.isoWeeksInYear=Wi,ls.isoWeeksInISOWeekYear=Yi,ls.date=Zi,ls.day=ls.days=Bt,ls.weekday=Ht,ls.isoWeekday=Wt,ls.dayOfYear=es,ls.hour=ls.hours=rn,ls.minute=ls.minutes=ts,ls.second=ls.seconds=is,ls.millisecond=ls.milliseconds=rs,ls.utcOffset=mr,ls.utc=yr,ls.local=vr,ls.parseZone=_r,ls.hasAlignedHourOffset=wr,ls.isDST=br,ls.isLocal=Sr,ls.isUtcOffset=kr,ls.isUtc=Cr,ls.isUTC=Cr,ls.zoneAbbr=os,ls.zoneName=as,ls.dates=C("dates accessor is deprecated. Use date instead.",Zi),ls.months=C("months accessor is deprecated. Use month instead",ft),ls.years=C("years accessor is deprecated. Use year instead",Ke),ls.zone=C("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ls.isDSTShifted=C("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Er);var ds=O.prototype;function fs(e,t,n,r){var i=vn(),s=p().set(r,t);return i[n](s,e)}function ps(e,t,n){if(u(e)&&(t=e,e=void 0),e=e||"",null!=t)return fs(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fs(e,r,n,"month");return i}function ms(e,t,n,r){"boolean"===typeof e?(u(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,u(t)&&(n=t,t=void 0),t=t||"");var i,s=vn(),o=e?s._week.dow:0,a=[];if(null!=n)return fs(t,(n+o)%7,r,"day");for(i=0;i<7;i++)a[i]=fs(t,(i+o)%7,r,"day");return a}function gs(e,t){return ps(e,t,"months")}function ys(e,t){return ps(e,t,"monthsShort")}function vs(e,t,n){return ms(e,t,n,"weekdays")}function _s(e,t,n){return ms(e,t,n,"weekdaysShort")}function ws(e,t,n){return ms(e,t,n,"weekdaysMin")}ds.calendar=D,ds.longDateFormat=W,ds.invalidDate=K,ds.ordinal=J,ds.preparse=hs,ds.postformat=hs,ds.relativeTime=Z,ds.pastFuture=ee,ds.set=R,ds.eras=Ii,ds.erasParse=Ni,ds.erasConvertYear=Ri,ds.erasAbbrRegex=Li,ds.erasNameRegex=Mi,ds.erasNarrowRegex=Fi,ds.months=lt,ds.monthsShort=ct,ds.monthsParse=ht,ds.monthsRegex=gt,ds.monthsShortRegex=mt,ds.week=kt,ds.firstDayOfYear=xt,ds.firstDayOfWeek=Tt,ds.weekdays=Ut,ds.weekdaysMin=zt,ds.weekdaysShort=Vt,ds.weekdaysParse=qt,ds.weekdaysRegex=Yt,ds.weekdaysShortRegex=Kt,ds.weekdaysMinRegex=Gt,ds.isPM=tn,ds.meridiem=sn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===Pe(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=C("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=C("moment.langData is deprecated. Use moment.localeData instead.",vn);var bs=Math.abs;function Es(){var e=this._data;return this._milliseconds=bs(this._milliseconds),this._days=bs(this._days),this._months=bs(this._months),e.milliseconds=bs(e.milliseconds),e.seconds=bs(e.seconds),e.minutes=bs(e.minutes),e.hours=bs(e.hours),e.months=bs(e.months),e.years=bs(e.years),this}function Ss(e,t,n,r){var i=Ir(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function ks(e,t){return Ss(this,e,t,1)}function Cs(e,t){return Ss(this,e,t,-1)}function Ts(e){return e<0?Math.floor(e):Math.ceil(e)}function xs(){var e,t,n,r,i,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*Ts(Ns(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=Re(s/1e3),l.seconds=e%60,t=Re(e/60),l.minutes=t%60,n=Re(t/60),l.hours=n%24,o+=Re(n/24),a+=i=Re(Is(o)),o-=Ts(Ns(i)),r=Re(a/12),a%=12,l.days=o,l.months=a,l.years=r,this}function Is(e){return 4800*e/146097}function Ns(e){return 146097*e/4800}function Rs(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=ne(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Is(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ns(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ps(e){return function(){return this.as(e)}}var Os=Ps("ms"),As=Ps("s"),Ds=Ps("m"),Ms=Ps("h"),Ls=Ps("d"),Fs=Ps("w"),js=Ps("M"),Us=Ps("Q"),Vs=Ps("y"),zs=Os;function $s(){return Ir(this)}function qs(e){return e=ne(e),this.isValid()?this[e+"s"]():NaN}function Bs(e){return function(){return this.isValid()?this._data[e]:NaN}}var Hs=Bs("milliseconds"),Ws=Bs("seconds"),Ys=Bs("minutes"),Ks=Bs("hours"),Gs=Bs("days"),Qs=Bs("months"),Js=Bs("years");function Xs(){return Re(this.days()/7)}var Zs=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Ir(e).abs(),s=Zs(i.as("s")),o=Zs(i.as("m")),a=Zs(i.as("h")),l=Zs(i.as("d")),c=Zs(i.as("M")),u=Zs(i.as("w")),h=Zs(i.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||u<=1&&["w"]||u<n.w&&["ww",u]),(d=d||c<=1&&["M"]||c<n.M&&["MM",c]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=r,to.apply(null,d)}function ro(e){return void 0===e?Zs:"function"===typeof e&&(Zs=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function so(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,s=eo;return"object"===typeof e&&(t=e,e=!1),"boolean"===typeof e&&(i=e),"object"===typeof t&&(s=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=no(this,!i,s,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function ao(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,s,o,a,l=oo(this._milliseconds)/1e3,c=oo(this._days),u=oo(this._months),h=this.asSeconds();return h?(e=Re(l/60),t=Re(e/60),l%=60,e%=60,n=Re(u/12),u%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",s=ao(this._months)!==ao(h)?"-":"",o=ao(this._days)!==ao(h)?"-":"",a=ao(this._milliseconds)!==ao(h)?"-":"",i+"P"+(n?s+n+"Y":"")+(u?s+u+"M":"")+(c?o+c+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var co=or.prototype;return co.isValid=ir,co.abs=Es,co.add=ks,co.subtract=Cs,co.as=Rs,co.asMilliseconds=Os,co.asSeconds=As,co.asMinutes=Ds,co.asHours=Ms,co.asDays=Ls,co.asWeeks=Fs,co.asMonths=js,co.asQuarters=Us,co.asYears=Vs,co.valueOf=zs,co._bubble=xs,co.clone=$s,co.get=qs,co.milliseconds=Hs,co.seconds=Ws,co.minutes=Ys,co.hours=Ks,co.days=Gs,co.weeks=Xs,co.months=Qs,co.years=Js,co.humanize=so,co.toISOString=lo,co.toString=lo,co.toJSON=lo,co.locale=oi,co.localeData=li,co.toIsoString=C("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),co.lang=ai,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Te("x",_e),Te("X",Ee),Ae("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ae("x",(function(e,t,n){n._d=new Date(Pe(e))})),r.version="2.30.1",i(Gn),r.fn=ls,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=cs,r.months=gs,r.isDate=h,r.locale=mn,r.invalid=v,r.duration=Ir,r.isMoment=S,r.weekdays=vs,r.parseZone=us,r.localeData=vn,r.isDuration=ar,r.monthsShort=ys,r.weekdaysMin=ws,r.defineLocale=gn,r.updateLocale=yn,r.locales=_n,r.weekdaysShort=_s,r.normalizeUnits=ne,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=ls,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()},218:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},288:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.consumer"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function y(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}function v(){}function _(e,t,n){this.props=e,this.context=t,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=y.prototype;var w=_.prototype=new v;w.constructor=_,m(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,E={H:null,A:null,T:null,S:null,V:null},S=Object.prototype.hasOwnProperty;function k(e,t,r,i,s,o){return r=o.ref,{$$typeof:n,type:e,key:t,ref:void 0!==r?r:null,props:o}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function x(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(){}function N(e,t,i,s,o){var a=typeof e;"undefined"!==a&&"boolean"!==a||(e=null);var l,c,u=!1;if(null===e)u=!0;else switch(a){case"bigint":case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case n:case r:u=!0;break;case d:return N((u=e._init)(e._payload),t,i,s,o)}}if(u)return o=o(e),u=""===s?"."+x(e,0):s,b(o)?(i="",null!=u&&(i=u.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(C(o)&&(l=o,c=i+(null==o.key||e&&e.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+u,o=k(l.type,c,void 0,0,0,l.props)),t.push(o)),1;u=0;var h,p=""===s?".":s+":";if(b(e))for(var m=0;m<e.length;m++)u+=N(s=e[m],t,i,a=p+x(s,m),o);else if("function"===typeof(m=null===(h=e)||"object"!==typeof h?null:"function"===typeof(h=f&&h[f]||h["@@iterator"])?h:null))for(e=m.call(e),m=0;!(s=e.next()).done;)u+=N(s=s.value,t,i,a=p+x(s,m++),o);else if("object"===a){if("function"===typeof e.then)return N(function(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch("string"===typeof e.status?e.then(I,I):(e.status="pending",e.then((function(t){"pending"===e.status&&(e.status="fulfilled",e.value=t)}),(function(t){"pending"===e.status&&(e.status="rejected",e.reason=t)}))),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}(e),t,i,s,o);throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return u}function R(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var O="function"===typeof reportError?reportError:function(e){if("object"===typeof window&&"function"===typeof window.ErrorEvent){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:"object"===typeof e&&null!==e&&"string"===typeof e.message?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if("object"===typeof process&&"function"===typeof process.emit)return void process.emit("uncaughtException",e);console.error(e)};function A(){}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=_,t.StrictMode=s,t.Suspense=u,t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,t.__COMPILER_RUNTIME={__proto__:null,c:function(e){return E.H.useMemoCache(e)}},t.cache=function(e){return function(){return e.apply(null,arguments)}},t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("The argument must be a React element, but you passed "+e+".");var r=m({},e.props),i=e.key;if(null!=t)for(s in void 0!==t.ref&&void 0,void 0!==t.key&&(i=""+t.key),t)!S.call(t,s)||"key"===s||"__self"===s||"__source"===s||"ref"===s&&void 0===t.ref||(r[s]=t[s]);var s=arguments.length-2;if(1===s)r.children=n;else if(1<s){for(var o=Array(s),a=0;a<s;a++)o[a]=arguments[a+2];r.children=o}return k(e.type,i,void 0,0,0,r)},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider=e,e.Consumer={$$typeof:a,_context:e},e},t.createElement=function(e,t,n){var r,i={},s=null;if(null!=t)for(r in void 0!==t.key&&(s=""+t.key),t)S.call(t,r)&&"key"!==r&&"__self"!==r&&"__source"!==r&&(i[r]=t[r]);var o=arguments.length-2;if(1===o)i.children=n;else if(1<o){for(var a=Array(o),l=0;l<o;l++)a[l]=arguments[l+2];i.children=a}if(e&&e.defaultProps)for(r in o=e.defaultProps)void 0===i[r]&&(i[r]=o[r]);return k(e,s,void 0,0,0,i)},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=E.T,n={};E.T=n;try{var r=e(),i=E.S;null!==i&&i(n,r),"object"===typeof r&&null!==r&&"function"===typeof r.then&&r.then(A,O)}catch(s){O(s)}finally{E.T=t}},t.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},t.use=function(e){return E.H.use(e)},t.useActionState=function(e,t,n){return E.H.useActionState(e,t,n)},t.useCallback=function(e,t){return E.H.useCallback(e,t)},t.useContext=function(e){return E.H.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e,t){return E.H.useDeferredValue(e,t)},t.useEffect=function(e,t,n){var r=E.H;if("function"===typeof n)throw Error("useEffect CRUD overload is not enabled in this build of React.");return r.useEffect(e,t)},t.useId=function(){return E.H.useId()},t.useImperativeHandle=function(e,t,n){return E.H.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return E.H.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return E.H.useLayoutEffect(e,t)},t.useMemo=function(e,t){return E.H.useMemo(e,t)},t.useOptimistic=function(e,t){return E.H.useOptimistic(e,t)},t.useReducer=function(e,t,n){return E.H.useReducer(e,t,n)},t.useRef=function(e){return E.H.useRef(e)},t.useState=function(e){return E.H.useState(e)},t.useSyncExternalStore=function(e,t,n){return E.H.useSyncExternalStore(e,t,n)},t.useTransition=function(){return E.H.useTransition()},t.version="19.1.0"},391:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(4)},440:e=>{"use strict";var t=function(){};e.exports=t},497:(e,t,n)=>{"use strict";var r=n(218);function i(){}function s(){}s.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,s,o){if(o!==r){var a=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw a.name="Invariant Violation",a}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:s,resetWarningCache:i};return n.PropTypes=n,n}},579:(e,t,n)=>{"use strict";e.exports=n(799)},672:(e,t,n)=>{"use strict";var r=n(43);function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var o={d:{f:s,r:function(){throw Error(i(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},a=Symbol.for("react.portal");var l=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(e,t){return"font"===e?"":"string"===typeof t?"use-credentials"===t?t:"":void 0}t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=o,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType)throw Error(i(299));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:a,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.flushSync=function(e){var t=l.T,n=o.p;try{if(l.T=null,o.p=2,e)return e()}finally{l.T=t,o.p=n,o.d.f()}},t.preconnect=function(e,t){"string"===typeof e&&(t?t="string"===typeof(t=t.crossOrigin)?"use-credentials"===t?t:"":void 0:t=null,o.d.C(e,t))},t.prefetchDNS=function(e){"string"===typeof e&&o.d.D(e)},t.preinit=function(e,t){if("string"===typeof e&&t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin),i="string"===typeof t.integrity?t.integrity:void 0,s="string"===typeof t.fetchPriority?t.fetchPriority:void 0;"style"===n?o.d.S(e,"string"===typeof t.precedence?t.precedence:void 0,{crossOrigin:r,integrity:i,fetchPriority:s}):"script"===n&&o.d.X(e,{crossOrigin:r,integrity:i,fetchPriority:s,nonce:"string"===typeof t.nonce?t.nonce:void 0})}},t.preinitModule=function(e,t){if("string"===typeof e)if("object"===typeof t&&null!==t){if(null==t.as||"script"===t.as){var n=c(t.as,t.crossOrigin);o.d.M(e,{crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0})}}else null==t&&o.d.M(e)},t.preload=function(e,t){if("string"===typeof e&&"object"===typeof t&&null!==t&&"string"===typeof t.as){var n=t.as,r=c(n,t.crossOrigin);o.d.L(e,n,{crossOrigin:r,integrity:"string"===typeof t.integrity?t.integrity:void 0,nonce:"string"===typeof t.nonce?t.nonce:void 0,type:"string"===typeof t.type?t.type:void 0,fetchPriority:"string"===typeof t.fetchPriority?t.fetchPriority:void 0,referrerPolicy:"string"===typeof t.referrerPolicy?t.referrerPolicy:void 0,imageSrcSet:"string"===typeof t.imageSrcSet?t.imageSrcSet:void 0,imageSizes:"string"===typeof t.imageSizes?t.imageSizes:void 0,media:"string"===typeof t.media?t.media:void 0})}},t.preloadModule=function(e,t){if("string"===typeof e)if(t){var n=c(t.as,t.crossOrigin);o.d.m(e,{as:"string"===typeof t.as&&"script"!==t.as?t.as:void 0,crossOrigin:n,integrity:"string"===typeof t.integrity?t.integrity:void 0})}else o.d.m(e)},t.requestFormReset=function(e){o.d.r(e)},t.unstable_batchedUpdates=function(e,t){return e(t)},t.useFormState=function(e,t,n){return l.H.useFormState(e,t,n)},t.useFormStatus=function(){return l.H.useHostTransitionStatus()},t.version="19.1.0"},740:e=>{"use strict";e.exports=function(e,t,n,r,i,s,o,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,s,o,a],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},799:(e,t)=>{"use strict";var n=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function i(e,t,r){var i=null;if(void 0!==r&&(i=""+r),void 0!==t.key&&(i=""+t.key),"key"in t)for(var s in r={},t)"key"!==s&&(r[s]=t[s]);else r=t;return t=r.ref,{$$typeof:n,type:e,key:i,ref:void 0!==t?t:null,props:r}}t.Fragment=r,t.jsx=i,t.jsxs=i},853:(e,t,n)=>{"use strict";e.exports=n(896)},896:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var a=2*(r+1)-1,l=e[a],c=a+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[a]=n,r=a);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if(t.unstable_now=void 0,"object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var a=Date,l=a.now();t.unstable_now=function(){return a.now()-l}}var c=[],u=[],h=1,d=null,f=3,p=!1,m=!1,g=!1,y=!1,v="function"===typeof setTimeout?setTimeout:null,_="function"===typeof clearTimeout?clearTimeout:null,w="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function E(e){if(g=!1,b(e),!m)if(null!==r(c))m=!0,k||(k=!0,S());else{var t=r(u);null!==t&&O(E,t.startTime-e)}}var S,k=!1,C=-1,T=5,x=-1;function I(){return!!y||!(t.unstable_now()-x<T)}function N(){if(y=!1,k){var e=t.unstable_now();x=e;var n=!0;try{e:{m=!1,g&&(g=!1,_(C),C=-1),p=!0;var s=f;try{t:{for(b(e),d=r(c);null!==d&&!(d.expirationTime>e&&I());){var o=d.callback;if("function"===typeof o){d.callback=null,f=d.priorityLevel;var a=o(d.expirationTime<=e);if(e=t.unstable_now(),"function"===typeof a){d.callback=a,b(e),n=!0;break t}d===r(c)&&i(c),b(e)}else i(c);d=r(c)}if(null!==d)n=!0;else{var l=r(u);null!==l&&O(E,l.startTime-e),n=!1}}break e}finally{d=null,f=s,p=!1}n=void 0}}finally{n?S():k=!1}}}if("function"===typeof w)S=function(){w(N)};else if("undefined"!==typeof MessageChannel){var R=new MessageChannel,P=R.port2;R.port1.onmessage=N,S=function(){P.postMessage(null)}}else S=function(){v(N,0)};function O(e,n){C=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var n=f;f=t;try{return e()}finally{f=n}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=f;f=e;try{return t()}finally{f=n}},t.unstable_scheduleCallback=function(e,i,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(g?(_(C),C=-1):g=!0,O(E,s-o))):(e.sortIndex=a,n(c,e),m||p||(m=!0,k||(k=!0,S()))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=f;return function(){var n=f;f=t;try{return e.apply(this,arguments)}finally{f=n}}}},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(672)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce(((t,r)=>(n.f[r](e,t),t)),[])),n.u=e=>"static/js/"+e+".5e560239.chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="project:";n.l=(r,i,s,o)=>{if(e[r])e[r].push(i);else{var a,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var h=c[u];if(h.getAttribute("src")==r||h.getAttribute("data-webpack")==t+s){a=h;break}}a||(l=!0,(a=document.createElement("script")).charset="utf-8",a.timeout=120,n.nc&&a.setAttribute("nonce",n.nc),a.setAttribute("data-webpack",t+s),a.src=r),e[r]=[i];var d=(t,n)=>{a.onerror=a.onload=null,clearTimeout(f);var i=e[r];if(delete e[r],a.parentNode&&a.parentNode.removeChild(a),i&&i.forEach((e=>e(n))),t)return t(n)},f=setTimeout(d.bind(null,void 0,{type:"timeout",target:a}),12e4);a.onerror=d.bind(null,a.onerror),a.onload=d.bind(null,a.onload),l&&document.head.appendChild(a)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),n.p="/react_project/",(()=>{var e={792:0};n.f.j=(t,r)=>{var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var s=new Promise(((n,r)=>i=e[t]=[n,r]));r.push(i[2]=s);var o=n.p+n.u(t),a=new Error;n.l(o,(r=>{if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var s=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;a.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",a.name="ChunkLoadError",a.type=s,a.request=o,i[1](a)}}),"chunk-"+t,t)}};var t=(t,r)=>{var i,s,o=r[0],a=r[1],l=r[2],c=0;if(o.some((t=>0!==e[t]))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)l(n)}for(t&&t(r);c<o.length;c++)s=o[c],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0},r=self.webpackChunkproject=self.webpackChunkproject||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Ps,hasStandardBrowserEnv:()=>As,hasStandardBrowserWebWorkerEnv:()=>Ds,navigator:()=>Os,origin:()=>Ms});var t=n(43),r=n(391),i=n(139),s=n.n(i),o=n(579);const a=["xxl","xl","lg","md","sm","xs"],l="xs",c=t.createContext({prefixes:{},breakpoints:a,minBreakpoint:l}),{Consumer:u,Provider:h}=c;function d(e,n){const{prefixes:r}=(0,t.useContext)(c);return e||r[n]||n}function f(){const{breakpoints:e}=(0,t.useContext)(c);return e}function p(){const{minBreakpoint:e}=(0,t.useContext)(c);return e}const m=t.forwardRef(((e,t)=>{let{bsPrefix:n,fluid:r=!1,as:i="div",className:a,...l}=e;const c=d(n,"container"),u="string"===typeof r?`-${r}`:"-fluid";return(0,o.jsx)(i,{ref:t,...l,className:s()(a,r?`${c}${u}`:c)})}));m.displayName="Container";const g=m;function y(){return y=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},y.apply(null,arguments)}function v(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}n(740);function _(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function w(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function b(e,n){return Object.keys(n).reduce((function(r,i){var s,o=r,a=o[_(i)],l=o[i],c=v(o,[_(i),i].map(w)),u=n[i],h=function(e,n,r){var i=(0,t.useRef)(void 0!==e),s=(0,t.useState)(n),o=s[0],a=s[1],l=void 0!==e,c=i.current;return i.current=l,!l&&c&&o!==n&&a(n),[l?e:o,(0,t.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),a(e)}),[r])]}(l,a,e[u]),d=h[0],f=h[1];return y({},c,((s={})[i]=d,s[u]=f,s))}),e)}function E(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function S(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function k(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}E.__suppressDeprecationWarning=!0,S.__suppressDeprecationWarning=!0,k.__suppressDeprecationWarning=!0;var C=Function.prototype.bind.call(Function.prototype.call,[].slice);function T(e,t){return C(e.querySelectorAll(t))}const x=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const I=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=x(e),r=x(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])},N=t.createContext(null);N.displayName="NavContext";const R=N,P=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},O=t.createContext(null),A=t.createContext(null);function D(e){return`data-rr-ui-${e}`}const M=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function L(e){const n=M(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const F=["as","disabled"];function j(e){let{tagName:t,disabled:n,href:r,target:i,rel:s,role:o,onClick:a,tabIndex:l=0,type:c}=e;t||(t=null!=r||null!=i||null!=s?"a":"button");const u={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},u];const h=e=>{(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==a||a(e)};return"a"===t&&(r||(r="#"),n&&(r=void 0)),[{role:null!=o?o:"button",disabled:void 0,tabIndex:n?void 0:l,href:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?s:void 0,onClick:h,onKeyDown:e=>{" "===e.key&&(e.preventDefault(),h(e))}},u]}const U=t.forwardRef(((e,t)=>{let{as:n,disabled:r}=e,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,F);const[s,{tagName:a}]=j(Object.assign({tagName:n,disabled:r},i));return(0,o.jsx)(a,Object.assign({},i,s,{ref:t}))}));U.displayName="Button";const V=U,z=["as","active","eventKey"];function $(e){let{key:n,onClick:r,active:i,id:s,role:o,disabled:a}=e;const l=(0,t.useContext)(O),c=(0,t.useContext)(R),u=(0,t.useContext)(A);let h=i;const d={role:o};if(c){o||"tablist"!==c.role||(d.role="tab");const e=c.getControllerId(null!=n?n:null),t=c.getControlledId(null!=n?n:null);d[D("event-key")]=n,d.id=e||s,h=null==i&&null!=n?c.activeKey===n:i,!h&&(null!=u&&u.unmountOnExit||null!=u&&u.mountOnEnter)||(d["aria-controls"]=t)}return"tab"===d.role&&(d["aria-selected"]=h,h||(d.tabIndex=-1),a&&(d.tabIndex=-1,d["aria-disabled"]=!0)),d.onClick=L((e=>{a||(null==r||r(e),null!=n&&l&&!e.isPropagationStopped()&&l(n,e))})),[d,{isActive:h}]}const q=t.forwardRef(((e,t)=>{let{as:n=V,active:r,eventKey:i}=e,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,z);const[a,l]=$(Object.assign({key:P(i,s.href),active:r},s));return a[D("active")]=l.isActive,(0,o.jsx)(n,Object.assign({},s,a,{ref:t}))}));q.displayName="NavItem";const B=q,H=["as","onSelect","activeKey","role","onKeyDown"];const W=()=>{},Y=D("event-key"),K=t.forwardRef(((e,n)=>{let{as:r="div",onSelect:i,activeKey:s,role:a,onKeyDown:l}=e,c=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,H);const u=function(){const[,e]=(0,t.useReducer)((e=>e+1),0);return e}(),h=(0,t.useRef)(!1),d=(0,t.useContext)(O),f=(0,t.useContext)(A);let p,m;f&&(a=a||"tablist",s=f.activeKey,p=f.getControlledId,m=f.getControllerId);const g=(0,t.useRef)(null),y=e=>{const t=g.current;if(!t)return null;const n=T(t,`[${Y}]:not([aria-disabled=true])`),r=t.querySelector("[aria-selected=true]");if(!r||r!==document.activeElement)return null;const i=n.indexOf(r);if(-1===i)return null;let s=i+e;return s>=n.length&&(s=0),s<0&&(s=n.length-1),n[s]},v=(e,t)=>{null!=e&&(null==i||i(e,t),null==d||d(e,t))};(0,t.useEffect)((()=>{if(g.current&&h.current){const e=g.current.querySelector(`[${Y}][aria-selected=true]`);null==e||e.focus()}h.current=!1}));const _=I(n,g);return(0,o.jsx)(O.Provider,{value:v,children:(0,o.jsx)(R.Provider,{value:{role:a,activeKey:P(s),getControlledId:p||W,getControllerId:m||W},children:(0,o.jsx)(r,Object.assign({},c,{onKeyDown:e=>{if(null==l||l(e),!f)return;let t;switch(e.key){case"ArrowLeft":case"ArrowUp":t=y(-1);break;case"ArrowRight":case"ArrowDown":t=y(1);break;default:return}var n;t&&(e.preventDefault(),v(t.dataset[(n="EventKey",`rrUi${n}`)]||null,e),h.current=!0,u())},ref:_,role:a}))})})}));K.displayName="Nav";const G=Object.assign(K,{Item:B}),Q=t.createContext(null);Q.displayName="NavbarContext";const J=Q,X=t.createContext(null);X.displayName="CardHeaderContext";const Z=X,ee=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"nav-item"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));ee.displayName="NavItem";const te=ee;const ne="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,re="undefined"!==typeof document||ne?t.useLayoutEffect:t.useEffect;new WeakMap;const ie=["onKeyDown"];const se=t.forwardRef(((e,t)=>{let{onKeyDown:n}=e,r=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,ie);const[i]=j(Object.assign({tagName:"a"},r)),s=L((e=>{i.onKeyDown(e),null==n||n(e)}));return function(e){return!e||"#"===e.trim()}(r.href)||"button"===r.role?(0,o.jsx)("a",Object.assign({ref:t},r,i,{onKeyDown:s})):(0,o.jsx)("a",Object.assign({ref:t},r,{onKeyDown:n}))}));se.displayName="Anchor";const oe=se,ae=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i=oe,active:a,eventKey:l,disabled:c=!1,...u}=e;n=d(n,"nav-link");const[h,f]=$({key:P(l,u.href),active:a,disabled:c,...u});return(0,o.jsx)(i,{...u,...h,ref:t,disabled:c,className:s()(r,n,c&&"disabled",f.isActive&&"active")})}));ae.displayName="NavLink";const le=ae,ce=t.forwardRef(((e,n)=>{const{as:r="div",bsPrefix:i,variant:a,fill:l=!1,justify:c=!1,navbar:u,navbarScroll:h,className:f,activeKey:p,...m}=b(e,{activeKey:"onSelect"}),g=d(i,"nav");let y,v,_=!1;const w=(0,t.useContext)(J),E=(0,t.useContext)(Z);return w?(y=w.bsPrefix,_=null==u||u):E&&({cardHeaderBsPrefix:v}=E),(0,o.jsx)(G,{as:r,ref:n,activeKey:p,className:s()(f,{[g]:!_,[`${y}-nav`]:_,[`${y}-nav-scroll`]:_&&h,[`${v}-${a}`]:!!v,[`${g}-${a}`]:!!a,[`${g}-fill`]:l,[`${g}-justified`]:c}),...m})}));ce.displayName="Nav";const ue=Object.assign(ce,{Item:te,Link:le}),he=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i,...a}=e;n=d(n,"navbar-brand");const l=i||(a.href?"a":"span");return(0,o.jsx)(l,{...a,ref:t,className:s()(r,n)})}));he.displayName="NavbarBrand";const de=he;function fe(e){return e&&e.ownerDocument||document}function pe(e,t){return function(e){var t=fe(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var me=/([A-Z])/g;var ge=/^ms-/;function ye(e){return function(e){return e.replace(me,"-$1").toLowerCase()}(e).replace(ge,"-ms-")}var ve=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;const _e=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(ye(t))||pe(e).getPropertyValue(ye(t));Object.keys(t).forEach((function(i){var s=t[i];s||0===s?!function(e){return!(!e||!ve.test(e))}(i)?n+=ye(i)+": "+s+";":r+=i+"("+s+") ":e.style.removeProperty(ye(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n};function we(e,t){return we=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},we(e,t)}var be=n(950);const Ee=!1,Se=t.createContext(null);var ke="unmounted",Ce="exited",Te="entering",xe="entered",Ie="exiting",Ne=function(e){var n,r;function i(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=Ce,r.appearStatus=Te):i=xe:i=t.unmountOnExit||t.mountOnEnter?ke:Ce,r.state={status:i},r.nextCallback=null,r}r=e,(n=i).prototype=Object.create(r.prototype),n.prototype.constructor=n,we(n,r),i.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ke?{status:Ce}:null};var s=i.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Te&&n!==xe&&(t=Te):n!==Te&&n!==xe||(t=Ie)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===Te){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:be.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Ce&&this.setState({status:ke})},s.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[be.findDOMNode(this),r],s=i[0],o=i[1],a=this.getTimeouts(),l=r?a.appear:a.enter;!e&&!n||Ee?this.safeSetState({status:xe},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,o),this.safeSetState({status:Te},(function(){t.props.onEntering(s,o),t.onTransitionEnd(l,(function(){t.safeSetState({status:xe},(function(){t.props.onEntered(s,o)}))}))})))},s.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:be.findDOMNode(this);t&&!Ee?(this.props.onExit(r),this.safeSetState({status:Ie},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:Ce},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:Ce},(function(){e.props.onExited(r)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:be.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],o=i[1];this.props.addEndListener(s,o)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var e=this.state.status;if(e===ke)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,v(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return t.createElement(Se.Provider,{value:null},"function"===typeof r?r(e,i):t.cloneElement(t.Children.only(r),i))},i}(t.Component);function Re(){}Ne.contextType=Se,Ne.propTypes={},Ne.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Re,onEntering:Re,onEntered:Re,onExit:Re,onExiting:Re,onExited:Re},Ne.UNMOUNTED=ke,Ne.EXITED=Ce,Ne.ENTERING=Te,Ne.ENTERED=xe,Ne.EXITING=Ie;const Pe=Ne;function Oe(e){if(!e||"function"===typeof e)return null;const{major:n}=function(){const e=t.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}();return n>=19?e.props.ref:e.ref}const Ae=!("undefined"===typeof window||!window.document||!window.document.createElement);var De=!1,Me=!1;try{var Le={get passive(){return De=!0},get once(){return Me=De=!0}};Ae&&(window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,!0))}catch(fO){}const Fe=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Me){var i=r.once,s=r.capture,o=n;!Me&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,s),n.call(this,r)},n.__once=o),e.addEventListener(t,o,De?r:s)}e.addEventListener(t,n,r)};const je=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};const Ue=function(e,t,n,r){return Fe(e,t,n,r),function(){je(e,t,n,r)}};function Ve(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),s=Ue(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),s()}}function ze(e,t,n,r){null==n&&(n=function(e){var t=_e(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=Ve(e,n,r),s=Ue(e,"transitionend",t);return function(){i(),s()}}function $e(e,t){const n=_e(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function qe(e,t){const n=$e(e,"transitionDuration"),r=$e(e,"transitionDelay"),i=ze(e,(n=>{n.target===e&&(i(),t(n))}),n+r)}const Be=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((e=>null!=e)).reduce(((e,t)=>{if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)};function He(e){e.offsetHeight}const We=e=>e&&"function"!==typeof e?t=>{e.current=t}:e;const Ye=function(e,n){return(0,t.useMemo)((()=>function(e,t){const n=We(e),r=We(t);return e=>{n&&n(e),r&&r(e)}}(e,n)),[e,n])};const Ke=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:s,onExit:a,onExiting:l,onExited:c,addEndListener:u,children:h,childRef:d,...f}=e;const p=(0,t.useRef)(null),m=Ye(p,d),g=e=>{var t;m((t=e)&&"setState"in t?be.findDOMNode(t):null!=t?t:null)},y=e=>t=>{e&&p.current&&e(p.current,t)},v=(0,t.useCallback)(y(r),[r]),_=(0,t.useCallback)(y(i),[i]),w=(0,t.useCallback)(y(s),[s]),b=(0,t.useCallback)(y(a),[a]),E=(0,t.useCallback)(y(l),[l]),S=(0,t.useCallback)(y(c),[c]),k=(0,t.useCallback)(y(u),[u]);return(0,o.jsx)(Pe,{ref:n,...f,onEnter:v,onEntered:w,onEntering:_,onExit:b,onExited:S,onExiting:E,addEndListener:k,nodeRef:p,children:"function"===typeof h?(e,t)=>h(e,{...t,ref:g}):t.cloneElement(h,{ref:g})})})),Ge=Ke,Qe={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function Je(e,t){const n=t[`offset${e[0].toUpperCase()}${e.slice(1)}`],r=Qe[e];return n+parseInt(_e(t,r[0]),10)+parseInt(_e(t,r[1]),10)}const Xe={[Ce]:"collapse",[Ie]:"collapsing",[Te]:"collapsing",[xe]:"collapse show"},Ze=t.forwardRef(((e,n)=>{let{onEnter:r,onEntering:i,onEntered:a,onExit:l,onExiting:c,className:u,children:h,dimension:d="height",in:f=!1,timeout:p=300,mountOnEnter:m=!1,unmountOnExit:g=!1,appear:y=!1,getDimensionValue:v=Je,..._}=e;const w="function"===typeof d?d():d,b=(0,t.useMemo)((()=>Be((e=>{e.style[w]="0"}),r)),[w,r]),E=(0,t.useMemo)((()=>Be((e=>{const t=`scroll${w[0].toUpperCase()}${w.slice(1)}`;e.style[w]=`${e[t]}px`}),i)),[w,i]),S=(0,t.useMemo)((()=>Be((e=>{e.style[w]=null}),a)),[w,a]),k=(0,t.useMemo)((()=>Be((e=>{e.style[w]=`${v(w,e)}px`,He(e)}),l)),[l,v,w]),C=(0,t.useMemo)((()=>Be((e=>{e.style[w]=null}),c)),[w,c]);return(0,o.jsx)(Ge,{ref:n,addEndListener:qe,..._,"aria-expanded":_.role?f:null,onEnter:b,onEntering:E,onEntered:S,onExit:k,onExiting:C,childRef:Oe(h),in:f,timeout:p,mountOnEnter:m,unmountOnExit:g,appear:y,children:(e,n)=>t.cloneElement(h,{...n,className:s()(u,h.props.className,Xe[e],"width"===w&&"collapse-horizontal")})})})),et=Ze,tt=t.forwardRef(((e,n)=>{let{children:r,bsPrefix:i,...s}=e;i=d(i,"navbar-collapse");const a=(0,t.useContext)(J);return(0,o.jsx)(et,{in:!(!a||!a.expanded),...s,children:(0,o.jsx)("div",{ref:n,className:i,children:r})})}));tt.displayName="NavbarCollapse";const nt=tt;const rt=function(e){const n=(0,t.useRef)(e);return(0,t.useEffect)((()=>{n.current=e}),[e]),n};function it(e){const n=rt(e);return(0,t.useCallback)((function(){return n.current&&n.current(...arguments)}),[n])}const st=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,label:l="Toggle navigation",as:c="button",onClick:u,...h}=e;r=d(r,"navbar-toggler");const{onToggle:f,expanded:p}=(0,t.useContext)(J)||{},m=it((e=>{u&&u(e),f&&f()}));return"button"===c&&(h.type="button"),(0,o.jsx)(c,{...h,ref:n,onClick:m,"aria-label":l,className:s()(i,r,!p&&"collapsed"),children:a||(0,o.jsx)("span",{className:`${r}-icon`})})}));st.displayName="NavbarToggle";const ot=st,at="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product,lt="undefined"!==typeof document||at?t.useLayoutEffect:t.useEffect,ct=new WeakMap,ut=(e,t)=>{if(!e||!t)return;const n=ct.get(t)||new Map;ct.set(t,n);let r=n.get(e);return r||(r=t.matchMedia(e),r.refCount=0,n.set(r.media,r)),r};function ht(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"undefined"===typeof window?void 0:window;const r=ut(e,n),[i,s]=(0,t.useState)((()=>!!r&&r.matches));return lt((()=>{let t=ut(e,n);if(!t)return s(!1);let r=ct.get(n);const i=()=>{s(t.matches)};return t.refCount++,t.addListener(i),i(),()=>{t.removeListener(i),t.refCount--,t.refCount<=0&&(null==r||r.delete(t.media)),t=void 0}}),[e]),i}const dt=function(e){const n=Object.keys(e);function r(e,t){return e===t?t:e?`${e} and ${t}`:t}function i(t){const r=function(e){return n[Math.min(n.indexOf(e)+1,n.length-1)]}(t);let i=e[r];return i="number"===typeof i?i-.2+"px":`calc(${i} - 0.2px)`,`(max-width: ${i})`}return function(n,s,o){let a;"object"===typeof n?(a=n,o=s,s=!0):(s=s||!0,a={[n]:s});let l=(0,t.useMemo)((()=>Object.entries(a).reduce(((t,n)=>{let[s,o]=n;return"up"!==o&&!0!==o||(t=r(t,function(t){let n=e[t];return"number"===typeof n&&(n=`${n}px`),`(min-width: ${n})`}(s))),"down"!==o&&!0!==o||(t=r(t,i(s))),t}),"")),[JSON.stringify(a)]);return ht(l,o)}}({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),ft=dt;function pt(e){void 0===e&&(e=fe());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(fO){return e.body}}function mt(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}function gt(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const yt=D("modal-open");const vt=class{constructor(){let{ownerDocument:e,handleContainerOverflow:t=!0,isRTL:n=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.handleContainerOverflow=t,this.isRTL=n,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",r=this.getElement();e.style={overflow:r.style.overflow,[n]:r.style[n]},e.scrollBarWidth&&(t[n]=`${parseInt(_e(r,n)||"0",10)+e.scrollBarWidth}px`),r.setAttribute(yt,""),_e(r,t)}reset(){[...this.modals].forEach((e=>this.remove(e)))}removeContainerStyle(e){const t=this.getElement();t.removeAttribute(yt),Object.assign(t.style,e.style)}add(e){let t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}remove(e){const t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}},_t=(0,t.createContext)(Ae?window:void 0);_t.Provider;function wt(){return(0,t.useContext)(_t)}const bt=(e,t)=>Ae?null==e?(t||fe()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;const Et=function(e){let{children:n,in:r,onExited:i,mountOnEnter:s,unmountOnExit:o}=e;const a=(0,t.useRef)(null),l=(0,t.useRef)(r),c=L(i);(0,t.useEffect)((()=>{r?l.current=!0:c(a.current)}),[r,c]);const u=I(a,Oe(n)),h=(0,t.cloneElement)(n,{ref:u});return r?h:o||!l.current&&s?null:h},St=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];const kt=["component"];const Ct=t.forwardRef(((e,n)=>{let{component:r}=e;const i=function(e){let{onEnter:n,onEntering:r,onEntered:i,onExit:s,onExiting:o,onExited:a,addEndListener:l,children:c}=e,u=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,St);const h=(0,t.useRef)(null),d=I(h,Oe(c)),f=e=>t=>{e&&h.current&&e(h.current,t)},p=(0,t.useCallback)(f(n),[n]),m=(0,t.useCallback)(f(r),[r]),g=(0,t.useCallback)(f(i),[i]),y=(0,t.useCallback)(f(s),[s]),v=(0,t.useCallback)(f(o),[o]),_=(0,t.useCallback)(f(a),[a]),w=(0,t.useCallback)(f(l),[l]);return Object.assign({},u,{nodeRef:h},n&&{onEnter:p},r&&{onEntering:m},i&&{onEntered:g},s&&{onExit:y},o&&{onExiting:v},a&&{onExited:_},l&&{addEndListener:w},{children:"function"===typeof c?(e,t)=>c(e,Object.assign({},t,{ref:d})):(0,t.cloneElement)(c,{ref:d})})}(function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,kt));return(0,o.jsx)(r,Object.assign({ref:n},i))})),Tt=Ct;function xt(e){let{children:n,in:r,onExited:i,onEntered:s,transition:o}=e;const[a,l]=(0,t.useState)(!r);r&&a&&l(!1);const c=function(e){let{in:n,onTransition:r}=e;const i=(0,t.useRef)(null),s=(0,t.useRef)(!0),o=L(r);return re((()=>{if(!i.current)return;let e=!1;return o({in:n,element:i.current,initial:s.current,isStale:()=>e}),()=>{e=!0}}),[n,o]),re((()=>(s.current=!1,()=>{s.current=!0})),[]),i}({in:!!r,onTransition:e=>{Promise.resolve(o(e)).then((()=>{e.isStale()||(e.in?null==s||s(e.element,e.initial):(l(!0),null==i||i(e.element)))}),(t=>{throw e.in||l(!0),t}))}}),u=I(c,Oe(n));return a&&!r?null:(0,t.cloneElement)(n,{ref:u})}function It(e,t,n){return e?(0,o.jsx)(Tt,Object.assign({},n,{component:e})):t?(0,o.jsx)(xt,Object.assign({},n,{transition:t})):(0,o.jsx)(Et,Object.assign({},n))}const Nt=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];let Rt;function Pt(e){const n=wt(),r=e||function(e){return Rt||(Rt=new vt({ownerDocument:null==e?void 0:e.document})),Rt}(n),i=(0,t.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>r.add(i.current),remove:()=>r.remove(i.current),isTopModal:()=>r.isTopModal(i.current),setDialogRef:(0,t.useCallback)((e=>{i.current.dialog=e}),[]),setBackdropRef:(0,t.useCallback)((e=>{i.current.backdrop=e}),[])})}const Ot=(0,t.forwardRef)(((e,n)=>{let{show:r=!1,role:i="dialog",className:s,style:a,children:l,backdrop:c=!0,keyboard:u=!0,onBackdropClick:h,onEscapeKeyDown:d,transition:f,runTransition:p,backdropTransition:m,runBackdropTransition:g,autoFocus:y=!0,enforceFocus:v=!0,restoreFocus:_=!0,restoreFocusOptions:w,renderDialog:b,renderBackdrop:E=e=>(0,o.jsx)("div",Object.assign({},e)),manager:S,container:k,onShow:C,onHide:T=()=>{},onExit:x,onExited:I,onExiting:N,onEnter:R,onEntering:P,onEntered:O}=e,A=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,Nt);const D=wt(),M=function(e,n){const r=wt(),[i,s]=(0,t.useState)((()=>bt(e,null==r?void 0:r.document)));if(!i){const t=bt(e);t&&s(t)}return(0,t.useEffect)((()=>{n&&i&&n(i)}),[n,i]),(0,t.useEffect)((()=>{const t=bt(e);t!==i&&s(t)}),[e,i]),i}(k),F=Pt(S),j=function(){const e=(0,t.useRef)(!0),n=(0,t.useRef)((()=>e.current));return(0,t.useEffect)((()=>(e.current=!0,()=>{e.current=!1})),[]),n.current}(),U=function(e){const n=(0,t.useRef)(null);return(0,t.useEffect)((()=>{n.current=e})),n.current}(r),[V,z]=(0,t.useState)(!r),$=(0,t.useRef)(null);(0,t.useImperativeHandle)(n,(()=>F),[F]),Ae&&!U&&r&&($.current=pt(null==D?void 0:D.document)),r&&V&&z(!1);const q=L((()=>{if(F.add(),G.current=Ue(document,"keydown",Y),K.current=Ue(document,"focus",(()=>setTimeout(H)),!0),C&&C(),y){var e,t;const n=pt(null!=(e=null==(t=F.dialog)?void 0:t.ownerDocument)?e:null==D?void 0:D.document);F.dialog&&n&&!mt(F.dialog,n)&&($.current=n,F.dialog.focus())}})),B=L((()=>{var e;(F.remove(),null==G.current||G.current(),null==K.current||K.current(),_)&&(null==(e=$.current)||null==e.focus||e.focus(w),$.current=null)}));(0,t.useEffect)((()=>{r&&M&&q()}),[r,M,q]),(0,t.useEffect)((()=>{V&&B()}),[V,B]),gt((()=>{B()}));const H=L((()=>{if(!v||!j()||!F.isTopModal())return;const e=pt(null==D?void 0:D.document);F.dialog&&e&&!mt(F.dialog,e)&&F.dialog.focus()})),W=L((e=>{e.target===e.currentTarget&&(null==h||h(e),!0===c&&T())})),Y=L((e=>{u&&function(e){return"Escape"===e.code||27===e.keyCode}(e)&&F.isTopModal()&&(null==d||d(e),e.defaultPrevented||T())})),K=(0,t.useRef)(),G=(0,t.useRef)();if(!M)return null;const Q=Object.assign({role:i,ref:F.setDialogRef,"aria-modal":"dialog"===i||void 0},A,{style:a,className:s,tabIndex:-1});let J=b?b(Q):(0,o.jsx)("div",Object.assign({},Q,{children:t.cloneElement(l,{role:"document"})}));J=It(f,p,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!r,onExit:x,onExiting:N,onExited:function(){z(!0),null==I||I(...arguments)},onEnter:R,onEntering:P,onEntered:O,children:J});let X=null;return c&&(X=E({ref:F.setBackdropRef,onClick:W}),X=It(m,g,{in:!!r,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:X})),(0,o.jsx)(o.Fragment,{children:be.createPortal((0,o.jsxs)(o.Fragment,{children:[X,J]}),M)})}));Ot.displayName="Modal";const At=Object.assign(Ot,{Manager:vt}),Dt={[Te]:"show",[xe]:"show"},Mt=t.forwardRef(((e,n)=>{let{className:r,children:i,transitionClasses:a={},onEnter:l,...c}=e;const u={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...c},h=(0,t.useCallback)(((e,t)=>{He(e),null==l||l(e,t)}),[l]);return(0,o.jsx)(Ge,{ref:n,addEndListener:qe,...u,onEnter:h,childRef:Oe(i),children:(e,n)=>t.cloneElement(i,{...n,className:s()("fade",r,i.props.className,Dt[e],a[e])})})}));Mt.displayName="Fade";const Lt=Mt,Ft=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"offcanvas-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Ft.displayName="OffcanvasBody";const jt=Ft,Ut={[Te]:"show",[xe]:"show"},Vt=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,in:l=!1,mountOnEnter:c=!1,unmountOnExit:u=!1,appear:h=!1,...f}=e;return r=d(r,"offcanvas"),(0,o.jsx)(Ge,{ref:n,addEndListener:qe,in:l,mountOnEnter:c,unmountOnExit:u,appear:h,...f,childRef:Oe(a),children:(e,n)=>t.cloneElement(a,{...n,className:s()(i,a.props.className,(e===Te||e===Ie)&&`${r}-toggling`,Ut[e])})})}));Vt.displayName="OffcanvasToggling";const zt=Vt,$t=t.createContext({onHide(){}});var qt=n(173),Bt=n.n(qt);const Ht={"aria-label":Bt().string,onClick:Bt().func,variant:Bt().oneOf(["white"])},Wt=t.forwardRef(((e,t)=>{let{className:n,variant:r,"aria-label":i="Close",...a}=e;return(0,o.jsx)("button",{ref:t,type:"button",className:s()("btn-close",r&&`btn-close-${r}`,n),"aria-label":i,...a})}));Wt.displayName="CloseButton",Wt.propTypes=Ht;const Yt=Wt,Kt=t.forwardRef(((e,n)=>{let{closeLabel:r="Close",closeVariant:i,closeButton:s=!1,onHide:a,children:l,...c}=e;const u=(0,t.useContext)($t),h=it((()=>{null==u||u.onHide(),null==a||a()}));return(0,o.jsxs)("div",{ref:n,...c,children:[l,s&&(0,o.jsx)(Yt,{"aria-label":r,variant:i,onClick:h})]})})),Gt=Kt,Qt=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1,...l}=e;return n=d(n,"offcanvas-header"),(0,o.jsx)(Gt,{ref:t,...l,className:s()(r,n),closeLabel:i,closeButton:a})}));Qt.displayName="OffcanvasHeader";const Jt=Qt,Xt=e=>t.forwardRef(((t,n)=>(0,o.jsx)("div",{...t,ref:n,className:s()(t.className,e)}))),Zt=Xt("h5"),en=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Zt,...a}=e;return r=d(r,"offcanvas-title"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));en.displayName="OffcanvasTitle";const tn=en;function nn(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}const rn=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",sn=".sticky-top",on=".navbar-toggler";class an extends vt{adjustAndStore(e,t,n){const r=t.style[e];t.dataset[e]=r,_e(t,{[e]:`${parseFloat(_e(t,e))+n}px`})}restore(e,t){const n=t.dataset[e];void 0!==n&&(delete t.dataset[e],_e(t,{[e]:n}))}setContainerStyle(e){super.setContainerStyle(e);const t=this.getElement();var n,r;if(r="modal-open",(n=t).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"===typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";T(t,rn).forEach((t=>this.adjustAndStore(i,t,e.scrollBarWidth))),T(t,sn).forEach((t=>this.adjustAndStore(s,t,-e.scrollBarWidth))),T(t,on).forEach((t=>this.adjustAndStore(s,t,e.scrollBarWidth)))}removeContainerStyle(e){super.removeContainerStyle(e);const t=this.getElement();var n,r;r="modal-open",(n=t).classList?n.classList.remove(r):"string"===typeof n.className?n.className=nn(n.className,r):n.setAttribute("class",nn(n.className&&n.className.baseVal||"",r));const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";T(t,rn).forEach((e=>this.restore(i,e))),T(t,sn).forEach((e=>this.restore(s,e))),T(t,on).forEach((e=>this.restore(s,e)))}}let ln;function cn(e){return ln||(ln=new an(e)),ln}const un=an;function hn(e){return(0,o.jsx)(zt,{...e})}function dn(e){return(0,o.jsx)(Lt,{...e})}const fn=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,children:a,"aria-labelledby":l,placement:c="start",responsive:u,show:h=!1,backdrop:f=!0,keyboard:p=!0,scroll:m=!1,onEscapeKeyDown:g,onShow:y,onHide:v,container:_,autoFocus:w=!0,enforceFocus:b=!0,restoreFocus:E=!0,restoreFocusOptions:S,onEntered:k,onExit:C,onExiting:T,onEnter:x,onEntering:I,onExited:N,backdropClassName:R,manager:P,renderStaticNode:O=!1,...A}=e;const D=(0,t.useRef)();r=d(r,"offcanvas");const[M,L]=(0,t.useState)(!1),F=it(v),j=ft(u||"xs","up");(0,t.useEffect)((()=>{L(u?h&&!j:h)}),[h,u,j]);const U=(0,t.useMemo)((()=>({onHide:F})),[F]);const V=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()(`${r}-backdrop`,R)})),[R,r]),z=e=>(0,o.jsx)("div",{...e,...A,className:s()(i,u?`${r}-${u}`:r,`${r}-${c}`),"aria-labelledby":l,children:a});return(0,o.jsxs)(o.Fragment,{children:[!M&&(u||O)&&z({}),(0,o.jsx)($t.Provider,{value:U,children:(0,o.jsx)(At,{show:M,ref:n,backdrop:f,container:_,keyboard:p,autoFocus:w,enforceFocus:b&&!m,restoreFocus:E,restoreFocusOptions:S,onEscapeKeyDown:g,onShow:y,onHide:F,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==x||x(e,...n)},onEntering:I,onEntered:k,onExit:C,onExiting:T,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==N||N(...n)},manager:P||(m?(D.current||(D.current=new un({handleContainerOverflow:!1})),D.current):cn()),transition:hn,backdropTransition:dn,renderBackdrop:V,renderDialog:z})})]})}));fn.displayName="Offcanvas";const pn=Object.assign(fn,{Body:jt,Header:Jt,Title:tn}),mn=t.forwardRef(((e,n)=>{let{onHide:r,...i}=e;const s=(0,t.useContext)(J),a=it((()=>{null==s||null==s.onToggle||s.onToggle(),null==r||r()}));return(0,o.jsx)(pn,{ref:n,show:!(null==s||!s.expanded),...i,renderStaticNode:!0,onHide:a})}));mn.displayName="NavbarOffcanvas";const gn=mn,yn=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...a}=e;return r=d(r,"navbar-text"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));yn.displayName="NavbarText";const vn=yn,_n=t.forwardRef(((e,n)=>{const{bsPrefix:r,expand:i=!0,variant:a="light",bg:l,fixed:c,sticky:u,className:h,as:f="nav",expanded:p,onToggle:m,onSelect:g,collapseOnSelect:y=!1,...v}=b(e,{expanded:"onToggle"}),_=d(r,"navbar"),w=(0,t.useCallback)((function(){null==g||g(...arguments),y&&p&&(null==m||m(!1))}),[g,y,p,m]);void 0===v.role&&"nav"!==f&&(v.role="navigation");let E=`${_}-expand`;"string"===typeof i&&(E=`${E}-${i}`);const S=(0,t.useMemo)((()=>({onToggle:()=>null==m?void 0:m(!p),bsPrefix:_,expanded:!!p,expand:i})),[_,p,i,m]);return(0,o.jsx)(J.Provider,{value:S,children:(0,o.jsx)(O.Provider,{value:w,children:(0,o.jsx)(f,{ref:n,...v,className:s()(h,_,i&&E,a&&`${_}-${a}`,l&&`bg-${l}`,u&&`sticky-${u}`,c&&`fixed-${c}`)})})})}));_n.displayName="Navbar";const wn=Object.assign(_n,{Brand:de,Collapse:nt,Offcanvas:gn,Text:vn,Toggle:ot});n(175);var bn="popstate";function En(){return Nn((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Tn("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:xn(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function Sn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function kn(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(fO){}}}function Cn(e,t){return{usr:e.state,key:e.key,idx:t}}function Tn(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return{pathname:"string"===typeof e?e:e.pathname,search:"",hash:"",..."string"===typeof t?In(t):t,state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)}}function xn(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function In(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function Nn(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a="POP",l=null,c=u();function u(){return(o.state||{idx:null}).idx}function h(){a="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:a,location:f.location,delta:t})}function d(e){return Rn(e)}null==c&&(c=0,o.replaceState({...o.state,idx:c},""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bn,h),l=e,()=>{i.removeEventListener(bn,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a="PUSH";let r=Tn(f.location,e,t);n&&n(r,e),c=u()+1;let h=Cn(r,c),d=f.createHref(r);try{o.pushState(h,"",d)}catch(Qd){if(Qd instanceof DOMException&&"DataCloneError"===Qd.name)throw Qd;i.location.assign(d)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a="REPLACE";let r=Tn(f.location,e,t);n&&n(r,e),c=u();let i=Cn(r,c),h=f.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}function Rn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),Sn(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:xn(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function Pn(e,t){return On(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function On(e,t,n,r){let i=Yn(("string"===typeof t?In(t):t).pathname||"/",n);if(null==i)return null;let s=An(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let a=0;null==o&&a<s.length;++a){let e=Wn(i);o=qn(s[a],e,r)}return o}function An(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(Sn(o.relativePath.startsWith(r),`Absolute route path "${o.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),o.relativePath=o.relativePath.slice(r.length));let a=Xn([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(Sn(!0!==e.index,`Index routes must not have child routes. Please remove all child routes from route path "${a}".`),An(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:$n(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{if(""!==e.path&&e.path?.includes("?"))for(let n of Dn(e.path))i(e,t,n);else i(e,t)})),t}function Dn(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=Dn(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}var Mn=/^:[\w-]+$/,Ln=3,Fn=2,jn=1,Un=10,Vn=-2,zn=e=>"*"===e;function $n(e,t){let n=e.split("/"),r=n.length;return n.some(zn)&&(r+=Vn),t&&(r+=Fn),n.filter((e=>!zn(e))).reduce(((e,t)=>e+(Mn.test(t)?Ln:""===t?jn:Un)),r)}function qn(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",o=[];for(let a=0;a<r.length;++a){let e=r[a],l=a===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=Bn({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=Bn({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),o.push({params:i,pathname:Xn([s,u.pathname]),pathnameBase:Zn(Xn([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=Xn([s,u.pathnameBase]))}return o}function Bn(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Hn(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1),l=r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=a[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{});return{params:l,pathname:s,pathnameBase:o,pattern:e}}function Hn(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];kn("*"===e||!e.endsWith("*")||e.endsWith("/*"),`Route path "${e}" will be treated as if it were "${e.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${e.replace(/\*$/,"/*")}".`);let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));return e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function Wn(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(Qd){return kn(!1,`The URL path "${e}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${Qd}).`),e}}function Yn(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Kn(e,t,n,r){return`Cannot include a '${e}' character in a manually specified \`to.${t}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Gn(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function Qn(e){let t=Gn(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function Jn(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=In(e):(r={...e},Sn(!r.pathname||!r.pathname.includes("?"),Kn("?","pathname","search",r)),Sn(!r.pathname||!r.pathname.includes("#"),Kn("#","pathname","hash",r)),Sn(!r.search||!r.search.includes("#"),Kn("#","search","hash",r)));let s,o=""===e||""===r.pathname,a=o?"/":r.pathname;if(null==a)s=n;else{let e=t.length-1;if(!i&&a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?In(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:er(r),hash:tr(i)}}(r,s),c=a&&"/"!==a&&a.endsWith("/"),u=(o||"."===a)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var Xn=e=>e.join("/").replace(/\/\/+/g,"/"),Zn=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),er=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",tr=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function nr(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var rr=["POST","PUT","PATCH","DELETE"],ir=(new Set(rr),["GET",...rr]);new Set(ir),Symbol("ResetLoaderData");var sr=t.createContext(null);sr.displayName="DataRouter";var or=t.createContext(null);or.displayName="DataRouterState";var ar=t.createContext({isTransitioning:!1});ar.displayName="ViewTransition";var lr=t.createContext(new Map);lr.displayName="Fetchers";var cr=t.createContext(null);cr.displayName="Await";var ur=t.createContext(null);ur.displayName="Navigation";var hr=t.createContext(null);hr.displayName="Location";var dr=t.createContext({outlet:null,matches:[],isDataRoute:!1});dr.displayName="Route";var fr=t.createContext(null);fr.displayName="RouteError";function pr(){return null!=t.useContext(hr)}function mr(){return Sn(pr(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(hr).location}var gr="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function yr(e){t.useContext(ur).static||t.useLayoutEffect(e)}function vr(){let{isDataRoute:e}=t.useContext(dr);return e?function(){let{router:e}=Ir("useNavigate"),n=Rr("useNavigate"),r=t.useRef(!1);yr((()=>{r.current=!0}));let i=t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};kn(r.current,gr),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,{fromRouteId:n,...i}))}),[e,n]);return i}():function(){Sn(pr(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(sr),{basename:n,navigator:r}=t.useContext(ur),{matches:i}=t.useContext(dr),{pathname:s}=mr(),o=JSON.stringify(Qn(i)),a=t.useRef(!1);yr((()=>{a.current=!0}));let l=t.useCallback((function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(kn(a.current,gr),!a.current)return;if("number"===typeof t)return void r.go(t);let l=Jn(t,JSON.parse(o),s,"path"===i.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:Xn([n,l.pathname])),(i.replace?r.replace:r.push)(l,i.state,i)}),[n,r,o,s,e]);return l}()}t.createContext(null);function _r(){let{matches:e}=t.useContext(dr),n=e[e.length-1];return n?n.params:{}}function wr(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(dr),{pathname:i}=mr(),s=JSON.stringify(Qn(r));return t.useMemo((()=>Jn(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function br(e,n,r,i){Sn(pr(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s,static:o}=t.useContext(ur),{matches:a}=t.useContext(dr),l=a[a.length-1],c=l?l.params:{},u=l?l.pathname:"/",h=l?l.pathnameBase:"/",d=l&&l.route;{let e=d&&d.path||"";Ar(u,!d||e.endsWith("*")||e.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${e}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="${e}"> to <Route path="${"/"===e?"*":`${e}/*`}">.`)}let f,p=mr();if(n){let e="string"===typeof n?In(n):n;Sn("/"===h||e.pathname?.startsWith(h),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${e.pathname}" was given in the \`location\` prop.`),f=e}else f=p;let m=f.pathname||"/",g=m;if("/"!==h){let e=h.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=!o&&r&&r.matches&&r.matches.length>0?r.matches:Pn(e,{pathname:g});kn(d||null!=y,`No routes matched location "${f.pathname}${f.search}${f.hash}" `),kn(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,`Matched leaf route at location "${f.pathname}${f.search}${f.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let v=Tr(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Xn([h,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?h:Xn([h,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,r,i);return n&&v?t.createElement(hr.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...f},navigationType:"POP"}},v):v}function Er(){let e=Pr(),n=nr(e)?`${e.status} ${e.statusText}`:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,i="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:i},o={padding:"2px 4px",backgroundColor:i},a=null;return console.error("Error handled by React Router default ErrorBoundary:",e),a=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:o},"ErrorBoundary")," or"," ",t.createElement("code",{style:o},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:s},r):null,a)}var Sr=t.createElement(Er,null),kr=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?t.createElement(dr.Provider,{value:this.props.routeContext},t.createElement(fr.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Cr(e){let{routeContext:n,match:r,children:i}=e,s=t.useContext(sr);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(dr.Provider,{value:n},i)}function Tr(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let i=e,s=r?.errors;if(null!=s){let e=i.findIndex((e=>e.route.id&&void 0!==s?.[e.route.id]));Sn(e>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,e+1))}let o=!1,a=-1;if(r)for(let t=0;t<i.length;t++){let e=i[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(a=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,i=a>=0?i.slice(0,a+1):[i[0]];break}}}return i.reduceRight(((e,l,c)=>{let u,h=!1,d=null,f=null;r&&(u=s&&l.route.id?s[l.route.id]:void 0,d=l.route.errorElement||Sr,o&&(a<0&&0===c?(Ar("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):a===c&&(h=!0,f=l.route.hydrateFallbackElement||null)));let p=n.concat(i.slice(0,c+1)),m=()=>{let n;return n=u?d:h?f:l.route.Component?t.createElement(l.route.Component,null):l.route.element?l.route.element:e,t.createElement(Cr,{match:l,routeContext:{outlet:e,matches:p,isDataRoute:null!=r},children:n})};return r&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?t.createElement(kr,{location:r.location,revalidation:r.revalidation,component:d,error:u,children:m(),routeContext:{outlet:null,matches:p,isDataRoute:!0}}):m()}),null)}function xr(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Ir(e){let n=t.useContext(sr);return Sn(n,xr(e)),n}function Nr(e){let n=t.useContext(or);return Sn(n,xr(e)),n}function Rr(e){let n=function(e){let n=t.useContext(dr);return Sn(n,xr(e)),n}(e),r=n.matches[n.matches.length-1];return Sn(r.route.id,`${e} can only be used on routes that contain a unique "id"`),r.route.id}function Pr(){let e=t.useContext(fr),n=Nr("useRouteError"),r=Rr("useRouteError");return void 0!==e?e:n.errors?.[r]}var Or={};function Ar(e,t,n){t||Or[e]||(Or[e]=!0,kn(!1,n))}t.memo((function(e){let{routes:t,future:n,state:r}=e;return br(t,void 0,r,n)}));function Dr(e){Sn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Mr(e){let{basename:n="/",children:r=null,location:i,navigationType:s="POP",navigator:o,static:a=!1}=e;Sn(!pr(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo((()=>({basename:l,navigator:o,static:a,future:{}})),[l,o,a]);"string"===typeof i&&(i=In(i));let{pathname:u="/",search:h="",hash:d="",state:f=null,key:p="default"}=i,m=t.useMemo((()=>{let e=Yn(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:f,key:p},navigationType:s}}),[l,u,h,d,f,p,s]);return kn(null!=m,`<Router basename="${l}"> is not able to match the URL "${u}${h}${d}" because it does not start with the basename, so the <Router> won't render anything.`),null==m?null:t.createElement(ur.Provider,{value:c},t.createElement(hr.Provider,{children:r,value:m}))}function Lr(e){let{children:t,location:n}=e;return br(Fr(t),n)}t.Component;function Fr(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,((e,i)=>{if(!t.isValidElement(e))return;let s=[...n,i];if(e.type===t.Fragment)return void r.push.apply(r,Fr(e.props.children,s));Sn(e.type===Dr,`[${"string"===typeof e.type?e.type:e.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Sn(!e.props.index||!e.props.children,"An index route cannot have child routes.");let o={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(o.children=Fr(e.props.children,s)),r.push(o)})),r}var jr="get",Ur="application/x-www-form-urlencoded";function Vr(e){return null!=e&&"string"===typeof e.tagName}var zr=null;var $r=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function qr(e){return null==e||$r.has(e)?e:(kn(!1,`"${e}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ur}"`),null)}function Br(e,t){let n,r,i,s,o;if(Vr(a=e)&&"form"===a.tagName.toLowerCase()){let o=e.getAttribute("action");r=o?Yn(o,t):null,n=e.getAttribute("method")||jr,i=qr(e.getAttribute("enctype"))||Ur,s=new FormData(e)}else if(function(e){return Vr(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Vr(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let o=e.form;if(null==o)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let a=e.getAttribute("formaction")||o.getAttribute("action");if(r=a?Yn(a,t):null,n=e.getAttribute("formmethod")||o.getAttribute("method")||jr,i=qr(e.getAttribute("formenctype"))||qr(o.getAttribute("enctype"))||Ur,s=new FormData(o,e),!function(){if(null===zr)try{new FormData(document.createElement("form"),0),zr=!1}catch(fO){zr=!0}return zr}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?`${t}.`:"";s.append(`${e}x`,"0"),s.append(`${e}y`,"0")}else t&&s.append(t,r)}}else{if(Vr(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=jr,r=null,i=Ur,o=e}var a;return s&&"text/plain"===i&&(o=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:o}}function Hr(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Wr(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(Qd){return console.error(`Error loading route module \`${e.module}\`, reloading page...`),console.error(Qd),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function Yr(e){return null!=e&&"string"===typeof e.page}function Kr(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Gr(e,t,n,r,i,s){let o=(e,t)=>!n[t]||e.route.id!==n[t].route.id,a=(e,t)=>n[t].pathname!==e.pathname||n[t].route.path?.endsWith("*")&&n[t].params["*"]!==e.params["*"];return"assets"===s?t.filter(((e,t)=>o(e,t)||a(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(o(t,s)||a(t,s))return!0;if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Qr(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map((e=>{let r=t.routes[e.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i})).flat(1),[...new Set(r)];var r}function Jr(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!Yr(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Xr(e){return{__html:e}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;Symbol("SingleFetchRedirect");var Zr=new Set([100,101,204,205]);function ei(e,t){let n="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===n.pathname?n.pathname="_root.data":t&&"/"===Yn(n.pathname,t)?n.pathname=`${t.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}t.Component;function ti(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let i,s=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(nr(n))return t.createElement(ni,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),s);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(ni,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},i.stack),s)}function ni(e){let{title:n,renderScripts:r,isOutsideRemixApp:i,children:s}=e,{routeModules:o}=ai();return o.root?.Layout&&!i?s:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,n)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},s,r?t.createElement(pi,null):null)))}function ri(e,t){return"lazy"===e.mode&&!0===t}function ii(){let e=t.useContext(sr);return Hr(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function si(){let e=t.useContext(or);return Hr(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var oi=t.createContext(void 0);function ai(){let e=t.useContext(oi);return Hr(e,"You must render this element inside a <HydratedRouter> element"),e}function li(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function ci(e,t,n){if(n&&!fi)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function ui(e){let{page:n,...r}=e,{router:i}=ii(),s=t.useMemo((()=>Pn(i.routes,n,i.basename)),[i.routes,n,i.basename]);return s?t.createElement(di,{page:n,matches:s,...r}):null}function hi(e){let{manifest:n,routeModules:r}=ai(),[i,s]=t.useState([]);return t.useEffect((()=>{let t=!1;return async function(e,t,n){return Jr((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Wr(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(Kr).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?{...e,rel:"prefetch",as:"style"}:{...e,rel:"prefetch"})))}(e,n,r).then((e=>{t||s(e)})),()=>{t=!0}}),[e,n,r]),i}function di(e){let{page:n,matches:r,...i}=e,s=mr(),{manifest:o,routeModules:a}=ai(),{basename:l}=ii(),{loaderData:c,matches:u}=si(),h=t.useMemo((()=>Gr(n,r,u,o,s,"data")),[n,r,u,o,s]),d=t.useMemo((()=>Gr(n,r,u,o,s,"assets")),[n,r,u,o,s]),f=t.useMemo((()=>{if(n===s.pathname+s.search+s.hash)return[];let e=new Set,t=!1;if(r.forEach((n=>{let r=o.routes[n.route.id];r&&r.hasLoader&&(!h.some((e=>e.route.id===n.route.id))&&n.route.id in c&&a[n.route.id]?.shouldRevalidate||r.hasClientLoader?t=!0:e.add(n.route.id))})),0===e.size)return[];let i=ei(n,l);return t&&e.size>0&&i.searchParams.set("_routes",r.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[l,c,s,o,h,r,n,a]),p=t.useMemo((()=>Qr(d,o)),[d,o]),m=hi(d);return t.createElement(t.Fragment,null,f.map((e=>t.createElement("link",{key:e,rel:"prefetch",as:"fetch",href:e,...i}))),p.map((e=>t.createElement("link",{key:e,rel:"modulepreload",href:e,...i}))),m.map((e=>{let{key:n,link:r}=e;return t.createElement("link",{key:n,...r})})))}oi.displayName="FrameworkContext";var fi=!1;function pi(e){let{manifest:n,serverHandoffString:r,isSpaMode:i,renderMeta:s,routeDiscovery:o,ssr:a}=ai(),{router:l,static:c,staticContext:u}=ii(),{matches:h}=si(),d=ri(o,a);s&&(s.didRenderScripts=!0);let f=ci(h,null,i);t.useEffect((()=>{0}),[]);let p=t.useMemo((()=>{let i=u?`window.__reactRouterContext = ${r};window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());`:" ",s=c?`${n.hmr?.runtime?`import ${JSON.stringify(n.hmr.runtime)};`:""}${d?"":`import ${JSON.stringify(n.url)}`};\n${f.map(((e,t)=>{let r=`route${t}`,i=n.routes[e.route.id];Hr(i,`Route ${e.route.id} not found in manifest`);let{clientActionModule:s,clientLoaderModule:o,clientMiddlewareModule:a,hydrateFallbackModule:l,module:c}=i,u=[...s?[{module:s,varName:`${r}_clientAction`}]:[],...o?[{module:o,varName:`${r}_clientLoader`}]:[],...a?[{module:a,varName:`${r}_clientMiddleware`}]:[],...l?[{module:l,varName:`${r}_HydrateFallback`}]:[],{module:c,varName:`${r}_main`}];return 1===u.length?`import * as ${r} from ${JSON.stringify(c)};`:[u.map((e=>`import * as ${e.varName} from "${e.module}";`)).join("\n"),`const ${r} = {${u.map((e=>`...${e.varName}`)).join(",")}};`].join("\n")})).join("\n")}\n  ${d?`window.__reactRouterManifest = ${JSON.stringify(function(e,t){let{sri:n,...r}=e,i=new Set(t.state.matches.map((e=>e.route.id))),s=t.state.location.pathname.split("/").filter(Boolean),o=["/"];for(s.pop();s.length>0;)o.push(`/${s.join("/")}`),s.pop();o.forEach((e=>{let n=Pn(t.routes,e,t.basename);n&&n.forEach((e=>i.add(e.route.id)))}));let a=[...i].reduce(((e,t)=>Object.assign(e,{[t]:r.routes[t]})),{});return{...r,routes:a,sri:!!n||void 0}}(n,l),null,2)};`:""}\n  window.__reactRouterRouteModules = {${f.map(((e,t)=>`${JSON.stringify(e.route.id)}:route${t}`)).join(",")}};\n\nimport(${JSON.stringify(n.entry.module)});`:" ";return t.createElement(t.Fragment,null,t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xr(i),type:void 0}),t.createElement("script",{...e,suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xr(s),type:"module",async:!0}))}),[]),m=fi?[]:(n.entry.imports.concat(Qr(f,n,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let y="object"===typeof n.sri?n.sri:{};return fi?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:y})}}):null,d?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:y[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:y[n.entry.module],suppressHydrationWarning:!0}),m.map((n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:y[n],suppressHydrationWarning:!0}))),p)}function mi(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var gi="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{gi&&(window.__reactRouterVersion="7.6.0")}catch(fO){}function yi(e){let{basename:n,children:r,window:i}=e,s=t.useRef();null==s.current&&(s.current=En({window:i,v5Compat:!0}));let o=s.current,[a,l]=t.useState({action:o.action,location:o.location}),c=t.useCallback((e=>{t.startTransition((()=>l(e)))}),[l]);return t.useLayoutEffect((()=>o.listen(c)),[o,c]),t.createElement(Mr,{basename:n,children:r,location:a.location,navigationType:a.action,navigator:o})}var vi=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,_i=t.forwardRef((function(e,n){let r,{onClick:i,discover:s="render",prefetch:o="none",relative:a,reloadDocument:l,replace:c,state:u,target:h,to:d,preventScrollReset:f,viewTransition:p,...m}=e,{basename:g}=t.useContext(ur),y="string"===typeof d&&vi.test(d),v=!1;if("string"===typeof d&&y&&(r=d,gi))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=Yn(t.pathname,g);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:v=!0}catch(fO){kn(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let _=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Sn(pr(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:i}=t.useContext(ur),{hash:s,pathname:o,search:a}=wr(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:Xn([r,o])),i.createHref({pathname:l,search:a,hash:s})}(d,{relative:a}),[w,b,E]=function(e,n){let r=t.useContext(oi),[i,s]=t.useState(!1),[o,a]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=n,f=t.useRef(null);t.useEffect((()=>{if("render"===e&&a(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{a(e.isIntersecting)}))}),{threshold:.5});return f.current&&e.observe(f.current),()=>{e.disconnect()}}}),[e]),t.useEffect((()=>{if(i){let e=setTimeout((()=>{a(!0)}),100);return()=>{clearTimeout(e)}}}),[i]);let p=()=>{s(!0)},m=()=>{s(!1),a(!1)};return r?"intent"!==e?[o,f,{}]:[o,f,{onFocus:li(l,p),onBlur:li(c,m),onMouseEnter:li(u,p),onMouseLeave:li(h,m),onTouchStart:li(d,p)}]:[!1,f,{}]}(o,m),S=function(e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=vr(),c=mr(),u=wr(e,{relative:o});return t.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:xn(c)===xn(u);l(e,{replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a})}}),[c,l,u,r,i,n,e,s,o,a])}(d,{replace:c,state:u,target:h,preventScrollReset:f,relative:a,viewTransition:p});let k=t.createElement("a",{...m,...E,href:r||_,onClick:v||l?i:function(e){i&&i(e),e.defaultPrevented||S(e)},ref:mi(n,b),target:h,"data-discover":y||"render"!==s?void 0:"true"});return w&&!y?t.createElement(t.Fragment,null,k,t.createElement(ui,{page:_})):k}));_i.displayName="Link";var wi=t.forwardRef((function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:c,children:u,...h}=e,d=wr(l,{relative:h.relative}),f=mr(),p=t.useContext(or),{navigator:m,basename:g}=t.useContext(ur),y=null!=p&&function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(ar);Sn(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:i}=Si("useViewTransitionState"),s=wr(e,{relative:n.relative});if(!r.isTransitioning)return!1;let o=Yn(r.currentLocation.pathname,i)||r.currentLocation.pathname,a=Yn(r.nextLocation.pathname,i)||r.nextLocation.pathname;return null!=Bn(s.pathname,a)||null!=Bn(s.pathname,o)}(d)&&!0===c,v=m.encodeLocation?m.encodeLocation(d).pathname:d.pathname,_=f.pathname,w=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;i||(_=_.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&g&&(w=Yn(w,g)||w);const b="/"!==v&&v.endsWith("/")?v.length-1:v.length;let E,S=_===v||!o&&_.startsWith(v)&&"/"===_.charAt(b),k=null!=w&&(w===v||!o&&w.startsWith(v)&&"/"===w.charAt(v.length)),C={isActive:S,isPending:k,isTransitioning:y},T=S?r:void 0;E="function"===typeof s?s(C):[s,S?"active":null,k?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let x="function"===typeof a?a(C):a;return t.createElement(_i,{...h,"aria-current":T,className:E,ref:n,style:x,to:l,viewTransition:c},"function"===typeof u?u(C):u)}));wi.displayName="NavLink";var bi=t.forwardRef(((e,n)=>{let{discover:r="render",fetcherKey:i,navigate:s,reloadDocument:o,replace:a,state:l,method:c=jr,action:u,onSubmit:h,relative:d,preventScrollReset:f,viewTransition:p,...m}=e,g=Ti(),y=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(ur),i=t.useContext(dr);Sn(i,"useFormAction must be used inside a RouteContext");let[s]=i.matches.slice(-1),o={...wr(e||".",{relative:n})},a=mr();if(null==e){o.search=a.search;let e=new URLSearchParams(o.search),t=e.getAll("index");if(t.some((e=>""===e))){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();o.search=n?`?${n}`:""}}e&&"."!==e||!s.route.index||(o.search=o.search?o.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(o.pathname="/"===o.pathname?r:Xn([r,o.pathname]));return xn(o)}(u,{relative:d}),v="get"===c.toLowerCase()?"get":"post",_="string"===typeof u&&vi.test(u);return t.createElement("form",{ref:n,method:v,action:y,onSubmit:o?h:e=>{if(h&&h(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=t?.getAttribute("formmethod")||c;g(t||e.currentTarget,{fetcherKey:i,method:n,navigate:s,replace:a,state:l,relative:d,preventScrollReset:f,viewTransition:p})},...m,"data-discover":_||"render"!==r?void 0:"true"})}));function Ei(e){return`${e} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Si(e){let n=t.useContext(sr);return Sn(n,Ei(e)),n}bi.displayName="Form";var ki=0,Ci=()=>`__${String(++ki)}__`;function Ti(){let{router:e}=Si("useSubmit"),{basename:n}=t.useContext(ur),r=Rr("useRouteId");return t.useCallback((async function(t){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:o,encType:a,formData:l,body:c}=Br(t,n);if(!1===i.navigate){let t=i.fetcherKey||Ci();await e.fetch(t,r,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||o,formEncType:i.encType||a,replace:i.replace,state:i.state,fromRouteId:r,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,n,r])}function xi(e,t){return function(){return e.apply(t,arguments)}}const{toString:Ii}=Object.prototype,{getPrototypeOf:Ni}=Object,{iterator:Ri,toStringTag:Pi}=Symbol,Oi=(Ai=Object.create(null),e=>{const t=Ii.call(e);return Ai[t]||(Ai[t]=t.slice(8,-1).toLowerCase())});var Ai;const Di=e=>(e=e.toLowerCase(),t=>Oi(t)===e),Mi=e=>t=>typeof t===e,{isArray:Li}=Array,Fi=Mi("undefined");const ji=Di("ArrayBuffer");const Ui=Mi("string"),Vi=Mi("function"),zi=Mi("number"),$i=e=>null!==e&&"object"===typeof e,qi=e=>{if("object"!==Oi(e))return!1;const t=Ni(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Pi in e)&&!(Ri in e)},Bi=Di("Date"),Hi=Di("File"),Wi=Di("Blob"),Yi=Di("FileList"),Ki=Di("URLSearchParams"),[Gi,Qi,Ji,Xi]=["ReadableStream","Request","Response","Headers"].map(Di);function Zi(e,t){let n,r,{allOwnKeys:i=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Li(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{const r=i?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let o;for(n=0;n<s;n++)o=r[n],t.call(null,e[o],o,e)}}function es(e,t){t=t.toLowerCase();const n=Object.keys(e);let r,i=n.length;for(;i-- >0;)if(r=n[i],t===r.toLowerCase())return r;return null}const ts="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,ns=e=>!Fi(e)&&e!==ts;const rs=(is="undefined"!==typeof Uint8Array&&Ni(Uint8Array),e=>is&&e instanceof is);var is;const ss=Di("HTMLFormElement"),os=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),as=Di("RegExp"),ls=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Zi(n,((n,i)=>{let s;!1!==(s=t(n,i,e))&&(r[i]=s||n)})),Object.defineProperties(e,r)};const cs=Di("AsyncFunction"),us=((e,t)=>{return e?setImmediate:t?(n=`axios@${Math.random()}`,r=[],ts.addEventListener("message",(e=>{let{source:t,data:i}=e;t===ts&&i===n&&r.length&&r.shift()()}),!1),e=>{r.push(e),ts.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Vi(ts.postMessage)),hs="undefined"!==typeof queueMicrotask?queueMicrotask.bind(ts):"undefined"!==typeof process&&process.nextTick||us,ds={isArray:Li,isArrayBuffer:ji,isBuffer:function(e){return null!==e&&!Fi(e)&&null!==e.constructor&&!Fi(e.constructor)&&Vi(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Vi(e.append)&&("formdata"===(t=Oi(e))||"object"===t&&Vi(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&ji(e.buffer),t},isString:Ui,isNumber:zi,isBoolean:e=>!0===e||!1===e,isObject:$i,isPlainObject:qi,isReadableStream:Gi,isRequest:Qi,isResponse:Ji,isHeaders:Xi,isUndefined:Fi,isDate:Bi,isFile:Hi,isBlob:Wi,isRegExp:as,isFunction:Vi,isStream:e=>$i(e)&&Vi(e.pipe),isURLSearchParams:Ki,isTypedArray:rs,isFileList:Yi,forEach:Zi,merge:function e(){const{caseless:t}=ns(this)&&this||{},n={},r=(r,i)=>{const s=t&&es(n,i)||i;qi(n[s])&&qi(r)?n[s]=e(n[s],r):qi(r)?n[s]=e({},r):Li(r)?n[s]=r.slice():n[s]=r};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Zi(arguments[i],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Zi(t,((t,r)=>{n&&Vi(t)?e[r]=xi(t,n):e[r]=t}),{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let i,s,o;const a={};if(t=t||{},null==e)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)o=i[s],r&&!r(o,e,t)||a[o]||(t[o]=e[o],a[o]=!0);e=!1!==n&&Ni(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Oi,kindOfTest:Di,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Li(e))return e;let t=e.length;if(!zi(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ri]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:ss,hasOwnProperty:os,hasOwnProp:os,reduceDescriptors:ls,freezeMethods:e=>{ls(e,((t,n)=>{if(Vi(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Vi(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))}))},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach((e=>{n[e]=!0}))};return Li(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,n){return t.toUpperCase()+n})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:es,global:ts,isContextDefined:ns,isSpecCompliantForm:function(e){return!!(e&&Vi(e.append)&&"FormData"===e[Pi]&&e[Ri])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if($i(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[r]=e;const i=Li(e)?[]:{};return Zi(e,((e,t)=>{const s=n(e,r+1);!Fi(s)&&(i[t]=s)})),t[r]=void 0,i}}return e};return n(e,0)},isAsyncFn:cs,isThenable:e=>e&&($i(e)||Vi(e))&&Vi(e.then)&&Vi(e.catch),setImmediate:us,asap:hs,isIterable:e=>null!=e&&Vi(e[Ri])};function fs(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}ds.inherits(fs,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ds.toJSONObject(this.config),code:this.code,status:this.status}}});const ps=fs.prototype,ms={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{ms[e]={value:e}})),Object.defineProperties(fs,ms),Object.defineProperty(ps,"isAxiosError",{value:!0}),fs.from=(e,t,n,r,i,s)=>{const o=Object.create(ps);return ds.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),fs.call(o,e.message,t,n,r,i),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const gs=fs;function ys(e){return ds.isPlainObject(e)||ds.isArray(e)}function vs(e){return ds.endsWith(e,"[]")?e.slice(0,-2):e}function _s(e,t,n){return e?e.concat(t).map((function(e,t){return e=vs(e),!n&&t?"["+e+"]":e})).join(n?".":""):t}const ws=ds.toFlatObject(ds,{},null,(function(e){return/^is[A-Z]/.test(e)}));const bs=function(e,t,n){if(!ds.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ds.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!ds.isUndefined(t[e])}))).metaTokens,i=n.visitor||c,s=n.dots,o=n.indexes,a=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ds.isSpecCompliantForm(t);if(!ds.isFunction(i))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(ds.isDate(e))return e.toISOString();if(!a&&ds.isBlob(e))throw new gs("Blob is not supported. Use a Buffer instead.");return ds.isArrayBuffer(e)||ds.isTypedArray(e)?a&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,i){let a=e;if(e&&!i&&"object"===typeof e)if(ds.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ds.isArray(e)&&function(e){return ds.isArray(e)&&!e.some(ys)}(e)||(ds.isFileList(e)||ds.endsWith(n,"[]"))&&(a=ds.toArray(e)))return n=vs(n),a.forEach((function(e,r){!ds.isUndefined(e)&&null!==e&&t.append(!0===o?_s([n],r,s):null===o?n:n+"[]",l(e))})),!1;return!!ys(e)||(t.append(_s(i,n,s),l(e)),!1)}const u=[],h=Object.assign(ws,{defaultVisitor:c,convertValue:l,isVisitable:ys});if(!ds.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ds.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ds.forEach(n,(function(n,s){!0===(!(ds.isUndefined(n)||null===n)&&i.call(t,n,ds.isString(s)?s.trim():s,r,h))&&e(n,r?r.concat(s):[s])})),u.pop()}}(e),t};function Es(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Ss(e,t){this._pairs=[],e&&bs(e,this,t)}const ks=Ss.prototype;ks.append=function(e,t){this._pairs.push([e,t])},ks.toString=function(e){const t=e?function(t){return e.call(this,t,Es)}:Es;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Cs=Ss;function Ts(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function xs(e,t,n){if(!t)return e;const r=n&&n.encode||Ts;ds.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(s=i?i(t,n):ds.isURLSearchParams(t)?t.toString():new Cs(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const Is=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ds.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},Ns={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Rs={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Cs,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Ps="undefined"!==typeof window&&"undefined"!==typeof document,Os="object"===typeof navigator&&navigator||void 0,As=Ps&&(!Os||["ReactNative","NativeScript","NS"].indexOf(Os.product)<0),Ds="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Ms=Ps&&window.location.href||"http://localhost",Ls={...e,...Rs};const Fs=function(e){function t(e,n,r,i){let s=e[i++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),a=i>=e.length;if(s=!s&&ds.isArray(r)?r.length:s,a)return ds.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!o;r[s]&&ds.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],i)&&ds.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}(r[s])),!o}if(ds.isFormData(e)&&ds.isFunction(e.entries)){const n={};return ds.forEachEntry(e,((e,r)=>{t(function(e){return ds.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),r,n,0)})),n}return null};const js={transitional:Ns,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,i=ds.isObject(e);i&&ds.isHTMLForm(e)&&(e=new FormData(e));if(ds.isFormData(e))return r?JSON.stringify(Fs(e)):e;if(ds.isArrayBuffer(e)||ds.isBuffer(e)||ds.isStream(e)||ds.isFile(e)||ds.isBlob(e)||ds.isReadableStream(e))return e;if(ds.isArrayBufferView(e))return e.buffer;if(ds.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return bs(e,new Ls.classes.URLSearchParams,Object.assign({visitor:function(e,t,n,r){return Ls.isNode&&ds.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ds.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return bs(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return i||r?(t.setContentType("application/json",!1),function(e,t,n){if(ds.isString(e))try{return(t||JSON.parse)(e),ds.trim(e)}catch(fO){if("SyntaxError"!==fO.name)throw fO}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||js.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ds.isResponse(e)||ds.isReadableStream(e))return e;if(e&&ds.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(fO){if(n){if("SyntaxError"===fO.name)throw gs.from(fO,gs.ERR_BAD_RESPONSE,this,null,this.response);throw fO}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ls.classes.FormData,Blob:Ls.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ds.forEach(["delete","get","head","post","put","patch"],(e=>{js.headers[e]={}}));const Us=js,Vs=ds.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),zs=Symbol("internals");function $s(e){return e&&String(e).trim().toLowerCase()}function qs(e){return!1===e||null==e?e:ds.isArray(e)?e.map(qs):String(e)}function Bs(e,t,n,r,i){return ds.isFunction(r)?r.call(this,t,n):(i&&(t=n),ds.isString(t)?ds.isString(r)?-1!==t.indexOf(r):ds.isRegExp(r)?r.test(t):void 0:void 0)}class Hs{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function i(e,t,n){const i=$s(t);if(!i)throw new Error("header name must be a non-empty string");const s=ds.findKey(r,i);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=qs(e))}const s=(e,t)=>ds.forEach(e,((e,n)=>i(e,n,t)));if(ds.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ds.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,i;return e&&e.split("\n").forEach((function(e){i=e.indexOf(":"),n=e.substring(0,i).trim().toLowerCase(),r=e.substring(i+1).trim(),!n||t[n]&&Vs[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)})),t})(e),t);else if(ds.isObject(e)&&ds.isIterable(e)){let n,r,i={};for(const t of e){if(!ds.isArray(t))throw TypeError("Object iterator must return a key-value pair");i[r=t[0]]=(n=i[r])?ds.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(i,t)}else null!=e&&i(t,e,n);return this}get(e,t){if(e=$s(e)){const n=ds.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ds.isFunction(t))return t.call(this,e,n);if(ds.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=$s(e)){const n=ds.findKey(this,e);return!(!n||void 0===this[n]||t&&!Bs(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function i(e){if(e=$s(e)){const i=ds.findKey(n,e);!i||t&&!Bs(0,n[i],i,t)||(delete n[i],r=!0)}}return ds.isArray(e)?e.forEach(i):i(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const i=t[n];e&&!Bs(0,this[i],i,e,!0)||(delete this[i],r=!0)}return r}normalize(e){const t=this,n={};return ds.forEach(this,((r,i)=>{const s=ds.findKey(n,i);if(s)return t[s]=qs(r),void delete t[i];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,n)=>t.toUpperCase()+n))}(i):String(i).trim();o!==i&&delete t[i],t[o]=qs(r),n[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ds.forEach(this,((n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ds.isArray(n)?n.join(", "):n)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,n]=e;return t+": "+n})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[zs]=this[zs]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=$s(e);t[r]||(!function(e,t){const n=ds.toCamelCase(" "+t);["get","set","has"].forEach((r=>{Object.defineProperty(e,r+n,{value:function(e,n,i){return this[r].call(this,t,e,n,i)},configurable:!0})}))}(n,e),t[r]=!0)}return ds.isArray(e)?e.forEach(r):r(e),this}}Hs.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ds.reduceDescriptors(Hs.prototype,((e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}})),ds.freezeMethods(Hs);const Ws=Hs;function Ys(e,t){const n=this||Us,r=t||n,i=Ws.from(r.headers);let s=r.data;return ds.forEach(e,(function(e){s=e.call(n,s,i.normalize(),t?t.status:void 0)})),i.normalize(),s}function Ks(e){return!(!e||!e.__CANCEL__)}function Gs(e,t,n){gs.call(this,null==e?"canceled":e,gs.ERR_CANCELED,t,n),this.name="CanceledError"}ds.inherits(Gs,gs,{__CANCEL__:!0});const Qs=Gs;function Js(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new gs("Request failed with status code "+n.status,[gs.ERR_BAD_REQUEST,gs.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Xs=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i,s=0,o=0;return t=void 0!==t?t:1e3,function(a){const l=Date.now(),c=r[o];i||(i=l),n[s]=a,r[s]=l;let u=o,h=0;for(;u!==s;)h+=n[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-i<t)return;const d=c&&l-c;return d?Math.round(1e3*h/d):void 0}};const Zs=function(e,t){let n,r,i=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();i=s,n=null,r&&(clearTimeout(r),r=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-i;for(var a=arguments.length,l=new Array(a),c=0;c<a;c++)l[c]=arguments[c];t>=s?o(l,e):(n=l,r||(r=setTimeout((()=>{r=null,o(n)}),s-t)))},()=>n&&o(n)]},eo=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const i=Xs(50,250);return Zs((n=>{const s=n.loaded,o=n.lengthComputable?n.total:void 0,a=s-r,l=i(a);r=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:a,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:n,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),n)},to=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},no=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ds.asap((()=>e(...n)))},ro=Ls.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ls.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ls.origin),Ls.navigator&&/(msie|trident)/i.test(Ls.navigator.userAgent)):()=>!0,io=Ls.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const o=[e+"="+encodeURIComponent(t)];ds.isNumber(n)&&o.push("expires="+new Date(n).toGMTString()),ds.isString(r)&&o.push("path="+r),ds.isString(i)&&o.push("domain="+i),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function so(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const oo=e=>e instanceof Ws?{...e}:e;function ao(e,t){t=t||{};const n={};function r(e,t,n,r){return ds.isPlainObject(e)&&ds.isPlainObject(t)?ds.merge.call({caseless:r},e,t):ds.isPlainObject(t)?ds.merge({},t):ds.isArray(t)?t.slice():t}function i(e,t,n,i){return ds.isUndefined(t)?ds.isUndefined(e)?void 0:r(void 0,e,0,i):r(e,t,0,i)}function s(e,t){if(!ds.isUndefined(t))return r(void 0,t)}function o(e,t){return ds.isUndefined(t)?ds.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function a(n,i,s){return s in t?r(n,i):s in e?r(void 0,n):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(e,t,n)=>i(oo(e),oo(t),0,!0)};return ds.forEach(Object.keys(Object.assign({},e,t)),(function(r){const s=l[r]||i,o=s(e[r],t[r],r);ds.isUndefined(o)&&s!==a||(n[r]=o)})),n}const lo=e=>{const t=ao({},e);let n,{data:r,withXSRFToken:i,xsrfHeaderName:s,xsrfCookieName:o,headers:a,auth:l}=t;if(t.headers=a=Ws.from(a),t.url=xs(so(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&a.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),ds.isFormData(r))if(Ls.hasStandardBrowserEnv||Ls.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(!1!==(n=a.getContentType())){const[e,...t]=n?n.split(";").map((e=>e.trim())).filter(Boolean):[];a.setContentType([e||"multipart/form-data",...t].join("; "))}if(Ls.hasStandardBrowserEnv&&(i&&ds.isFunction(i)&&(i=i(t)),i||!1!==i&&ro(t.url))){const e=s&&o&&io.read(o);e&&a.set(s,e)}return t},co="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,n){const r=lo(e);let i=r.data;const s=Ws.from(r.headers).normalize();let o,a,l,c,u,{responseType:h,onUploadProgress:d,onDownloadProgress:f}=r;function p(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(o),r.signal&&r.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const r=Ws.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());Js((function(e){t(e),p()}),(function(e){n(e),p()}),{data:h&&"text"!==h&&"json"!==h?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(n(new gs("Request aborted",gs.ECONNABORTED,e,m)),m=null)},m.onerror=function(){n(new gs("Network Error",gs.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const i=r.transitional||Ns;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new gs(t,i.clarifyTimeoutError?gs.ETIMEDOUT:gs.ECONNABORTED,e,m)),m=null},void 0===i&&s.setContentType(null),"setRequestHeader"in m&&ds.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),ds.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),h&&"json"!==h&&(m.responseType=r.responseType),f&&([l,u]=eo(f,!0),m.addEventListener("progress",l)),d&&m.upload&&([a,c]=eo(d),m.upload.addEventListener("progress",a),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(o=t=>{m&&(n(!t||t.type?new Qs(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(o),r.signal&&(r.signal.aborted?o():r.signal.addEventListener("abort",o)));const y=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);y&&-1===Ls.protocols.indexOf(y)?n(new gs("Unsupported protocol "+y+":",gs.ERR_BAD_REQUEST,e)):m.send(i||null)}))},uo=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const i=function(e){if(!n){n=!0,o();const t=e instanceof Error?e:this.reason;r.abort(t instanceof gs?t:new Qs(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,i(new gs(`timeout ${t} of ms exceeded`,gs.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(i):e.removeEventListener("abort",i)})),e=null)};e.forEach((e=>e.addEventListener("abort",i)));const{signal:a}=r;return a.unsubscribe=()=>ds.asap(o),a}},ho=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,i=0;for(;i<n;)r=i+t,yield e.slice(i,r),i=r},fo=async function*(e){if(e[Symbol.asyncIterator])return void(yield*e);const t=e.getReader();try{for(;;){const{done:e,value:n}=await t.read();if(e)break;yield n}}finally{await t.cancel()}},po=(e,t,n,r)=>{const i=async function*(e,t){for await(const n of fo(e))yield*ho(n,t)}(e,t);let s,o=0,a=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await i.next();if(t)return a(),void e.close();let s=r.byteLength;if(n){let e=o+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw a(t),t}},cancel:e=>(a(e),i.return())},{highWaterMark:2})},mo="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,go=mo&&"function"===typeof ReadableStream,yo=mo&&("function"===typeof TextEncoder?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),vo=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(fO){return!1}},_o=go&&vo((()=>{let e=!1;const t=new Request(Ls.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),wo=go&&vo((()=>ds.isReadableStream(new Response("").body))),bo={stream:wo&&(e=>e.body)};var Eo;mo&&(Eo=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!bo[e]&&(bo[e]=ds.isFunction(Eo[e])?t=>t[e]():(t,n)=>{throw new gs(`Response type '${e}' is not supported`,gs.ERR_NOT_SUPPORT,n)})})));const So=async(e,t)=>{const n=ds.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ds.isBlob(e))return e.size;if(ds.isSpecCompliantForm(e)){const t=new Request(Ls.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ds.isArrayBufferView(e)||ds.isArrayBuffer(e)?e.byteLength:(ds.isURLSearchParams(e)&&(e+=""),ds.isString(e)?(await yo(e)).byteLength:void 0)})(t):n},ko=mo&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:o,onDownloadProgress:a,onUploadProgress:l,responseType:c,headers:u,withCredentials:h="same-origin",fetchOptions:d}=lo(e);c=c?(c+"").toLowerCase():"text";let f,p=uo([i,s&&s.toAbortSignal()],o);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&_o&&"get"!==n&&"head"!==n&&0!==(g=await So(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(ds.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=to(g,eo(no(l)));r=po(n.body,65536,e,t)}}ds.isString(h)||(h=h?"include":"omit");const i="credentials"in Request.prototype;f=new Request(t,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:i?h:void 0});let s=await fetch(f);const o=wo&&("stream"===c||"response"===c);if(wo&&(a||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=ds.toFiniteNumber(s.headers.get("content-length")),[n,r]=a&&to(t,eo(no(a),!0))||[];s=new Response(po(s.body,65536,n,(()=>{r&&r(),m&&m()})),e)}c=c||"text";let y=await bo[ds.findKey(bo,c)||"text"](s,e);return!o&&m&&m(),await new Promise(((t,n)=>{Js(t,n,{data:y,headers:Ws.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(y){if(m&&m(),y&&"TypeError"===y.name&&/Load failed|fetch/i.test(y.message))throw Object.assign(new gs("Network Error",gs.ERR_NETWORK,e,f),{cause:y.cause||y});throw gs.from(y,y&&y.code,e,f)}}),Co={http:null,xhr:co,fetch:ko};ds.forEach(Co,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(fO){}Object.defineProperty(e,"adapterName",{value:t})}}));const To=e=>`- ${e}`,xo=e=>ds.isFunction(e)||null===e||!1===e,Io=e=>{e=ds.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!xo(n)&&(r=Co[(t=String(n)).toLowerCase()],void 0===r))throw new gs(`Unknown adapter '${t}'`);if(r)break;i[t||"#"+s]=r}if(!r){const e=Object.entries(i).map((e=>{let[t,n]=e;return`adapter ${t} `+(!1===n?"is not supported by the environment":"is not available in the build")}));let n=t?e.length>1?"since :\n"+e.map(To).join("\n"):" "+To(e[0]):"as no adapter specified";throw new gs("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function No(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qs(null,e)}function Ro(e){No(e),e.headers=Ws.from(e.headers),e.data=Ys.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Io(e.adapter||Us.adapter)(e).then((function(t){return No(e),t.data=Ys.call(e,e.transformResponse,t),t.headers=Ws.from(t.headers),t}),(function(t){return Ks(t)||(No(e),t&&t.response&&(t.response.data=Ys.call(e,e.transformResponse,t.response),t.response.headers=Ws.from(t.response.headers))),Promise.reject(t)}))}const Po="1.9.0",Oo={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{Oo[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));const Ao={};Oo.transitional=function(e,t,n){function r(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,i,s)=>{if(!1===e)throw new gs(r(i," has been removed"+(t?" in "+t:"")),gs.ERR_DEPRECATED);return t&&!Ao[i]&&(Ao[i]=!0,console.warn(r(i," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,i,s)}},Oo.spelling=function(e){return(t,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};const Do={assertOptions:function(e,t,n){if("object"!==typeof e)throw new gs("options must be an object",gs.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],o=t[s];if(o){const t=e[s],n=void 0===t||o(t,s,e);if(!0!==n)throw new gs("option "+s+" must be "+n,gs.ERR_BAD_OPTION_VALUE)}else if(!0!==n)throw new gs("Unknown option "+s,gs.ERR_BAD_OPTION)}},validators:Oo},Mo=Do.validators;class Lo{constructor(e){this.defaults=e||{},this.interceptors={request:new Is,response:new Is}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(fO){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=ao(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:i}=t;void 0!==n&&Do.assertOptions(n,{silentJSONParsing:Mo.transitional(Mo.boolean),forcedJSONParsing:Mo.transitional(Mo.boolean),clarifyTimeoutError:Mo.transitional(Mo.boolean)},!1),null!=r&&(ds.isFunction(r)?t.paramsSerializer={serialize:r}:Do.assertOptions(r,{encode:Mo.function,serialize:Mo.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Do.assertOptions(t,{baseUrl:Mo.spelling("baseURL"),withXsrfToken:Mo.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=i&&ds.merge(i.common,i[t.method]);i&&ds.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete i[e]})),t.headers=Ws.concat(s,i);const o=[];let a=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(a=a&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,h=0;if(!a){const e=[Ro.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);h<u;)c=c.then(e[h++],e[h++]);return c}u=o.length;let d=t;for(h=0;h<u;){const e=o[h++],t=o[h++];try{d=e(d)}catch(Qd){t.call(this,Qd);break}}try{c=Ro.call(this,d)}catch(Qd){return Promise.reject(Qd)}for(h=0,u=l.length;h<u;)c=c.then(l[h++],l[h++]);return c}getUri(e){return xs(so((e=ao(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ds.forEach(["delete","get","head","options"],(function(e){Lo.prototype[e]=function(t,n){return this.request(ao(n||{},{method:e,url:t,data:(n||{}).data}))}})),ds.forEach(["post","put","patch"],(function(e){function t(t){return function(n,r,i){return this.request(ao(i||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Lo.prototype[e]=t(),Lo.prototype[e+"Form"]=t(!0)}));const Fo=Lo;class jo{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const n=this;this.promise.then((e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null})),this.promise.then=e=>{let t;const r=new Promise((e=>{n.subscribe(e),t=e})).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e((function(e,r,i){n.reason||(n.reason=new Qs(e,r,i),t(n.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new jo((function(t){e=t})),cancel:e}}}const Uo=jo;const Vo={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Vo).forEach((e=>{let[t,n]=e;Vo[n]=t}));const zo=Vo;const $o=function e(t){const n=new Fo(t),r=xi(Fo.prototype.request,n);return ds.extend(r,Fo.prototype,n,{allOwnKeys:!0}),ds.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(ao(t,n))},r}(Us);$o.Axios=Fo,$o.CanceledError=Qs,$o.CancelToken=Uo,$o.isCancel=Ks,$o.VERSION=Po,$o.toFormData=bs,$o.AxiosError=gs,$o.Cancel=$o.CanceledError,$o.all=function(e){return Promise.all(e)},$o.spread=function(e){return function(t){return e.apply(null,t)}},$o.isAxiosError=function(e){return ds.isObject(e)&&!0===e.isAxiosError},$o.mergeConfig=ao,$o.AxiosHeaders=Ws,$o.formToJSON=e=>Fs(ds.isHTMLForm(e)?new FormData(e):e),$o.getAdapter=Io,$o.HttpStatusCode=zo,$o.default=$o;const qo=$o,Bo=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="div",...a}=e;const l=d(n,"row"),c=f(),u=p(),h=`${l}-cols`,m=[];return c.forEach((e=>{const t=a[e];let n;delete a[e],null!=t&&"object"===typeof t?({cols:n}=t):n=t;const r=e!==u?`-${e}`:"";null!=n&&m.push(`${h}${r}-${n}`)})),(0,o.jsx)(i,{ref:t,...a,className:s()(r,l,...m)})}));Bo.displayName="Row";const Ho=Bo;const Wo=t.forwardRef(((e,t)=>{const[{className:n,...r},{as:i="div",bsPrefix:a,spans:l}]=function(e){let{as:t,bsPrefix:n,className:r,...i}=e;n=d(n,"col");const o=f(),a=p(),l=[],c=[];return o.forEach((e=>{const t=i[e];let r,s,o;delete i[e],"object"===typeof t&&null!=t?({span:r,offset:s,order:o}=t):r=t;const u=e!==a?`-${e}`:"";r&&l.push(!0===r?`${n}${u}`:`${n}${u}-${r}`),null!=o&&c.push(`order${u}-${o}`),null!=s&&c.push(`offset${u}-${s}`)})),[{...i,className:s()(r,...l,...c)},{as:t,bsPrefix:n,spans:l}]}(e);return(0,o.jsx)(i,{...r,ref:t,className:s()(n,!l.length&&a)})}));Wo.displayName="Col";const Yo=Wo,Ko={type:Bt().string,tooltip:Bt().bool,as:Bt().elementType},Go=t.forwardRef(((e,t)=>{let{as:n="div",className:r,type:i="valid",tooltip:a=!1,...l}=e;return(0,o.jsx)(n,{...l,ref:t,className:s()(r,`${i}-${a?"tooltip":"feedback"}`)})}));Go.displayName="Feedback",Go.propTypes=Ko;const Qo=Go,Jo=t.createContext({}),Xo=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,className:a,type:l="checkbox",isValid:c=!1,isInvalid:u=!1,as:h="input",...f}=e;const{controlId:p}=(0,t.useContext)(Jo);return i=d(i,"form-check-input"),(0,o.jsx)(h,{...f,ref:n,type:l,id:r||p,className:s()(a,i,c&&"is-valid",u&&"is-invalid")})}));Xo.displayName="FormCheckInput";const Zo=Xo,ea=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,htmlFor:a,...l}=e;const{controlId:c}=(0,t.useContext)(Jo);return r=d(r,"form-check-label"),(0,o.jsx)("label",{...l,ref:n,htmlFor:a||c,className:s()(i,r)})}));ea.displayName="FormCheckLabel";const ta=ea;const na=t.forwardRef(((e,n)=>{let{id:r,bsPrefix:i,bsSwitchPrefix:a,inline:l=!1,reverse:c=!1,disabled:u=!1,isValid:h=!1,isInvalid:f=!1,feedbackTooltip:p=!1,feedback:m,feedbackType:g,className:y,style:v,title:_="",type:w="checkbox",label:b,children:E,as:S="input",...k}=e;i=d(i,"form-check"),a=d(a,"form-switch");const{controlId:C}=(0,t.useContext)(Jo),T=(0,t.useMemo)((()=>({controlId:r||C})),[C,r]),x=!E&&null!=b&&!1!==b||function(e,n){return t.Children.toArray(e).some((e=>t.isValidElement(e)&&e.type===n))}(E,ta),I=(0,o.jsx)(Zo,{...k,type:"switch"===w?"checkbox":w,ref:n,isValid:h,isInvalid:f,disabled:u,as:S});return(0,o.jsx)(Jo.Provider,{value:T,children:(0,o.jsx)("div",{style:v,className:s()(y,x&&i,l&&`${i}-inline`,c&&`${i}-reverse`,"switch"===w&&a),children:E||(0,o.jsxs)(o.Fragment,{children:[I,x&&(0,o.jsx)(ta,{title:_,children:b}),m&&(0,o.jsx)(Qo,{type:g,tooltip:p,children:m})]})})})}));na.displayName="FormCheck";const ra=Object.assign(na,{Input:Zo,Label:ta});n(440);const ia=t.forwardRef(((e,n)=>{let{bsPrefix:r,type:i,size:a,htmlSize:l,id:c,className:u,isValid:h=!1,isInvalid:f=!1,plaintext:p,readOnly:m,as:g="input",...y}=e;const{controlId:v}=(0,t.useContext)(Jo);return r=d(r,"form-control"),(0,o.jsx)(g,{...y,type:i,size:l,ref:n,readOnly:m,id:c||v,className:s()(u,p?`${r}-plaintext`:r,a&&`${r}-${a}`,"color"===i&&`${r}-color`,h&&"is-valid",f&&"is-invalid")})}));ia.displayName="FormControl";const sa=Object.assign(ia,{Feedback:Qo}),oa=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"form-floating"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));oa.displayName="FormFloating";const aa=oa,la=t.forwardRef(((e,n)=>{let{controlId:r,as:i="div",...s}=e;const a=(0,t.useMemo)((()=>({controlId:r})),[r]);return(0,o.jsx)(Jo.Provider,{value:a,children:(0,o.jsx)(i,{...s,ref:n})})}));la.displayName="FormGroup";const ca=la,ua=t.forwardRef(((e,n)=>{let{as:r="label",bsPrefix:i,column:a=!1,visuallyHidden:l=!1,className:c,htmlFor:u,...h}=e;const{controlId:f}=(0,t.useContext)(Jo);i=d(i,"form-label");let p="col-form-label";"string"===typeof a&&(p=`${p} ${p}-${a}`);const m=s()(c,i,l&&"visually-hidden",a&&p);return u=u||f,a?(0,o.jsx)(Yo,{ref:n,as:"label",className:m,htmlFor:u,...h}):(0,o.jsx)(r,{ref:n,className:m,htmlFor:u,...h})}));ua.displayName="FormLabel";const ha=ua,da=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,id:a,...l}=e;const{controlId:c}=(0,t.useContext)(Jo);return r=d(r,"form-range"),(0,o.jsx)("input",{...l,type:"range",ref:n,className:s()(i,r),id:a||c})}));da.displayName="FormRange";const fa=da,pa=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,htmlSize:a,className:l,isValid:c=!1,isInvalid:u=!1,id:h,...f}=e;const{controlId:p}=(0,t.useContext)(Jo);return r=d(r,"form-select"),(0,o.jsx)("select",{...f,size:a,ref:n,className:s()(l,r,i&&`${r}-${i}`,c&&"is-valid",u&&"is-invalid"),id:h||p})}));pa.displayName="FormSelect";const ma=pa,ga=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,as:i="small",muted:a,...l}=e;return n=d(n,"form-text"),(0,o.jsx)(i,{...l,ref:t,className:s()(r,n,a&&"text-muted")})}));ga.displayName="FormText";const ya=ga,va=t.forwardRef(((e,t)=>(0,o.jsx)(ra,{...e,ref:t,type:"switch"})));va.displayName="Switch";const _a=Object.assign(va,{Input:ra.Input,Label:ra.Label}),wa=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,children:i,controlId:a,label:l,...c}=e;return n=d(n,"form-floating"),(0,o.jsxs)(ca,{ref:t,className:s()(r,n),controlId:a,...c,children:[i,(0,o.jsx)("label",{htmlFor:a,children:l})]})}));wa.displayName="FloatingLabel";const ba=wa,Ea={_ref:Bt().any,validated:Bt().bool,as:Bt().elementType},Sa=t.forwardRef(((e,t)=>{let{className:n,validated:r,as:i="form",...a}=e;return(0,o.jsx)(i,{...a,ref:t,className:s()(n,r&&"was-validated")})}));Sa.displayName="Form",Sa.propTypes=Ea;const ka=Object.assign(Sa,{Group:ca,Control:sa,Floating:aa,Check:ra,Switch:_a,Label:ha,Text:ya,Range:fa,Select:ma,FloatingLabel:ba}),Ca=t.createContext(null);Ca.displayName="InputGroupContext";const Ta=Ca,xa=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="span",...a}=e;return r=d(r,"input-group-text"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));xa.displayName="InputGroupText";const Ia=xa,Na=t.forwardRef(((e,n)=>{let{bsPrefix:r,size:i,hasValidation:a,className:l,as:c="div",...u}=e;r=d(r,"input-group");const h=(0,t.useMemo)((()=>({})),[]);return(0,o.jsx)(Ta.Provider,{value:h,children:(0,o.jsx)(c,{ref:n,...u,className:s()(l,r,i&&`${r}-${i}`,a&&"has-validation")})})}));Na.displayName="InputGroup";const Ra=Object.assign(Na,{Text:Ia,Radio:e=>(0,o.jsx)(Ia,{children:(0,o.jsx)(Zo,{type:"radio",...e})}),Checkbox:e=>(0,o.jsx)(Ia,{children:(0,o.jsx)(Zo,{type:"checkbox",...e})})}),Pa=t.forwardRef(((e,t)=>{let{as:n,bsPrefix:r,variant:i="primary",size:a,active:l=!1,disabled:c=!1,className:u,...h}=e;const f=d(r,"btn"),[p,{tagName:m}]=j({tagName:n,disabled:c,...h}),g=m;return(0,o.jsx)(g,{...p,...h,ref:t,disabled:c,className:s()(u,f,l&&"active",i&&`${f}-${i}`,a&&`${f}-${a}`,h.href&&c&&"disabled")})}));Pa.displayName="Button";const Oa=Pa,Aa=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"card-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Aa.displayName="CardBody";const Da=Aa,Ma=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"card-footer"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Ma.displayName="CardFooter";const La=Ma,Fa=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,as:a="div",...l}=e;const c=d(r,"card-header"),u=(0,t.useMemo)((()=>({cardHeaderBsPrefix:c})),[c]);return(0,o.jsx)(Z.Provider,{value:u,children:(0,o.jsx)(a,{ref:n,...l,className:s()(i,c)})})}));Fa.displayName="CardHeader";const ja=Fa,Ua=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,variant:i,as:a="img",...l}=e;const c=d(n,"card-img");return(0,o.jsx)(a,{ref:t,className:s()(i?`${c}-${i}`:c,r),...l})}));Ua.displayName="CardImg";const Va=Ua,za=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"card-img-overlay"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));za.displayName="CardImgOverlay";const $a=za,qa=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="a",...a}=e;return r=d(r,"card-link"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));qa.displayName="CardLink";const Ba=qa,Ha=Xt("h6"),Wa=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Ha,...a}=e;return r=d(r,"card-subtitle"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Wa.displayName="CardSubtitle";const Ya=Wa,Ka=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="p",...a}=e;return r=d(r,"card-text"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Ka.displayName="CardText";const Ga=Ka,Qa=Xt("h5"),Ja=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=Qa,...a}=e;return r=d(r,"card-title"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));Ja.displayName="CardTitle";const Xa=Ja,Za=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,bg:i,text:a,border:l,body:c=!1,children:u,as:h="div",...f}=e;const p=d(n,"card");return(0,o.jsx)(h,{ref:t,...f,className:s()(r,p,i&&`bg-${i}`,a&&`text-${a}`,l&&`border-${l}`),children:c?(0,o.jsx)(Da,{children:u}):u})}));Za.displayName="Card";const el=Object.assign(Za,{Img:Va,Title:Xa,Subtitle:Ya,Body:Da,Link:Ba,Text:Ga,Header:ja,Footer:La,ImgOverlay:$a});var tl;function nl(e){if((!tl&&0!==tl||e)&&Ae){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),tl=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return tl}function rl(e){const n=function(e){const n=(0,t.useRef)(e);return n.current=e,n}(e);(0,t.useEffect)((()=>()=>n.current()),[])}const il=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"modal-body"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));il.displayName="ModalBody";const sl=il,ol=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,contentClassName:i,centered:a,size:l,fullscreen:c,children:u,scrollable:h,...f}=e;n=d(n,"modal");const p=`${n}-dialog`,m="string"===typeof c?`${n}-fullscreen-${c}`:`${n}-fullscreen`;return(0,o.jsx)("div",{...f,ref:t,className:s()(p,r,l&&`${n}-${l}`,a&&`${p}-centered`,h&&`${p}-scrollable`,c&&m),children:(0,o.jsx)("div",{className:s()(`${n}-content`,i),children:u})})}));ol.displayName="ModalDialog";const al=ol,ll=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i="div",...a}=e;return r=d(r,"modal-footer"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));ll.displayName="ModalFooter";const cl=ll,ul=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,closeLabel:i="Close",closeButton:a=!1,...l}=e;return n=d(n,"modal-header"),(0,o.jsx)(Gt,{ref:t,...l,className:s()(r,n),closeLabel:i,closeButton:a})}));ul.displayName="ModalHeader";const hl=ul,dl=Xt("h4"),fl=t.forwardRef(((e,t)=>{let{className:n,bsPrefix:r,as:i=dl,...a}=e;return r=d(r,"modal-title"),(0,o.jsx)(i,{ref:t,className:s()(n,r),...a})}));fl.displayName="ModalTitle";const pl=fl;function ml(e){return(0,o.jsx)(Lt,{...e,timeout:null})}function gl(e){return(0,o.jsx)(Lt,{...e,timeout:null})}const yl=t.forwardRef(((e,n)=>{let{bsPrefix:r,className:i,style:a,dialogClassName:l,contentClassName:u,children:h,dialogAs:f=al,"data-bs-theme":p,"aria-labelledby":m,"aria-describedby":g,"aria-label":y,show:v=!1,animation:_=!0,backdrop:w=!0,keyboard:b=!0,onEscapeKeyDown:E,onShow:S,onHide:k,container:C,autoFocus:T=!0,enforceFocus:x=!0,restoreFocus:I=!0,restoreFocusOptions:N,onEntered:R,onExit:P,onExiting:O,onEnter:A,onEntering:D,onExited:M,backdropClassName:L,manager:F,...j}=e;const[U,V]=(0,t.useState)({}),[z,$]=(0,t.useState)(!1),q=(0,t.useRef)(!1),B=(0,t.useRef)(!1),H=(0,t.useRef)(null),[W,Y]=(0,t.useState)(null),K=Ye(n,Y),G=it(k),Q=function(){const{dir:e}=(0,t.useContext)(c);return"rtl"===e}();r=d(r,"modal");const J=(0,t.useMemo)((()=>({onHide:G})),[G]);function X(){return F||cn({isRTL:Q})}function Z(e){if(!Ae)return;const t=X().getScrollbarWidth()>0,n=e.scrollHeight>fe(e).documentElement.clientHeight;V({paddingRight:t&&!n?nl():void 0,paddingLeft:!t&&n?nl():void 0})}const ee=it((()=>{W&&Z(W.dialog)}));rl((()=>{je(window,"resize",ee),null==H.current||H.current()}));const te=()=>{q.current=!0},ne=e=>{q.current&&W&&e.target===W.dialog&&(B.current=!0),q.current=!1},re=()=>{$(!0),H.current=ze(W.dialog,(()=>{$(!1)}))},ie=e=>{"static"!==w?B.current||e.target!==e.currentTarget?B.current=!1:null==k||k():(e=>{e.target===e.currentTarget&&re()})(e)},se=(0,t.useCallback)((e=>(0,o.jsx)("div",{...e,className:s()(`${r}-backdrop`,L,!_&&"show")})),[_,L,r]),oe={...a,...U};oe.display="block";return(0,o.jsx)($t.Provider,{value:J,children:(0,o.jsx)(At,{show:v,ref:K,backdrop:w,container:C,keyboard:!0,autoFocus:T,enforceFocus:x,restoreFocus:I,restoreFocusOptions:N,onEscapeKeyDown:e=>{b?null==E||E(e):(e.preventDefault(),"static"===w&&re())},onShow:S,onHide:k,onEnter:(e,t)=>{e&&Z(e),null==A||A(e,t)},onEntering:(e,t)=>{null==D||D(e,t),Fe(window,"resize",ee)},onEntered:R,onExit:e=>{null==H.current||H.current(),null==P||P(e)},onExiting:O,onExited:e=>{e&&(e.style.display=""),null==M||M(e),je(window,"resize",ee)},manager:X(),transition:_?ml:void 0,backdropTransition:_?gl:void 0,renderBackdrop:se,renderDialog:e=>(0,o.jsx)("div",{role:"dialog",...e,style:oe,className:s()(i,r,z&&`${r}-static`,!_&&"show"),onClick:w?ie:void 0,onMouseUp:ne,"data-bs-theme":p,"aria-label":y,"aria-labelledby":m,"aria-describedby":g,children:(0,o.jsx)(f,{...j,onMouseDown:te,className:l,contentClassName:u,children:h})})})})}));yl.displayName="Modal";const vl=Object.assign(yl,{Body:sl,Header:hl,Title:pl,Footer:cl,Dialog:al,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),_l=e=>{let{book:n}=e;const[r,i]=(0,t.useState)(!1),s=()=>i(!1);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("img",{src:n.thumbnail||"https://placehold.co/100x150",width:"100%",onClick:()=>i(!0),style:{cursor:"pointer"}}),(0,o.jsxs)(vl,{size:"lg",show:r,onHide:s,backdrop:"static",keyboard:!1,children:[(0,o.jsx)(vl.Header,{closeButton:!0,children:(0,o.jsx)(vl.Title,{children:"\ub3c4\uc11c\uc815\ubcf4"})}),(0,o.jsxs)(vl.Body,{children:[(0,o.jsxs)(Ho,{children:[(0,o.jsx)(Yo,{children:(0,o.jsx)("img",{src:n.thumbnail||"https://placehold.co/100x150",width:"100%"})}),(0,o.jsxs)(Yo,{className:"align-self-center",children:[(0,o.jsx)("h5",{children:n.title}),(0,o.jsxs)("div",{children:["\ud310\ub9e4\uac00 : ",n.price,"\uc6d0"]}),(0,o.jsxs)("div",{children:["\uc800\uc790 : ",n.authors]}),(0,o.jsxs)("div",{children:["\ucd9c\ud310\uc0ac : ",n.publisher]}),(0,o.jsxs)("div",{children:["ISBN : ",n.isbn]}),(0,o.jsxs)("div",{children:["\ucd9c\ud310\uc77c : ",n.datetime]})]})]}),(0,o.jsx)("hr",{}),(0,o.jsx)("div",{children:n.contents||"\ub0b4\uc6a9\uc5c6\uc74c"})]}),(0,o.jsx)(vl.Footer,{children:(0,o.jsx)(Oa,{variant:"secondary",onClick:s,children:"Close"})})]})]})};var wl={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},bl=t.createContext&&t.createContext(wl),El=["attr","size","title"];function Sl(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kl(){return kl=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kl.apply(this,arguments)}function Cl(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Tl(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Cl(Object(n),!0).forEach((function(t){xl(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Cl(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xl(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Il(e){return e&&e.map(((e,n)=>t.createElement(e.tag,Tl({key:n},e.attr),Il(e.child))))}function Nl(e){return n=>t.createElement(Rl,kl({attr:Tl({},e.attr)},n),Il(e.child))}function Rl(e){var n=n=>{var r,{attr:i,size:s,title:o}=e,a=Sl(e,El),l=s||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",kl({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,i,a,{className:r,style:Tl(Tl({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),o&&t.createElement("title",null,o),e.children)};return void 0!==bl?t.createElement(bl.Consumer,null,(e=>n(e))):n(wl)}function Pl(e){return Nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"Shopping_Cart"},child:[{tag:"path",attr:{d:"M17.437,19.934c0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1Zm-11.217,-4.266l-0.945,-10.9c-0.03,-0.391 -0.356,-0.693 -0.749,-0.693l-0.966,-0c-0.276,-0 -0.5,-0.224 -0.5,-0.5c0,-0.276 0.224,-0.5 0.5,-0.5l0.966,-0c0.916,-0 1.676,0.704 1.746,1.617l0.139,1.818l13.03,-0c0.885,-0 1.577,0.76 1.494,1.638l-0.668,7.52c-0.121,1.285 -1.199,2.267 -2.489,2.267l-9.069,0c-1.29,0 -2.367,-0.981 -2.489,-2.267Zm0.274,-8.158l0.722,8.066c0.073,0.77 0.719,1.359 1.493,1.359l9.069,0c0.774,0 1.42,-0.589 1.493,-1.359l0.668,-7.518c0.028,-0.294 -0.203,-0.548 -0.498,-0.548l-12.947,-0Zm4.454,12.424c-0,0.552 -0.448,1 -1,1c-0.552,0 -1,-0.448 -1,-1c-0,-0.552 0.448,-1 1,-1c0.552,0 1,0.448 1,1Z"},child:[]}]}]})(e)}const Ol=!1,Al=!1,Dl="${JSCORE_VERSION}",Ml=function(e,t){if(!e)throw Ll(t)},Ll=function(e){return new Error("Firebase Database ("+Dl+") INTERNAL ASSERT FAILED: "+e)},Fl=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},jl={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,o=s?e[i+1]:0,a=i+2<e.length,l=a?e[i+2]:0,c=t>>2,u=(3&t)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Fl(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const o=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==o||null==a)throw new Ul;const l=t<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Ul extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vl=function(e){const t=Fl(e);return jl.encodeByteArray(t,!0)},zl=function(e){return Vl(e).replace(/\./g,"")},$l=function(e){try{return jl.decodeString(e,!0)}catch(fO){console.error("base64Decode failed: ",fO)}return null};function ql(e){return Bl(void 0,e)}function Bl(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=Bl(e[n],t[n]));return e}function Hl(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}const Wl=()=>{try{return Hl().__FIREBASE_DEFAULTS__||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"/react_project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAO_REST_KEY:"d72149a9fe54720ad367a090ab378766"}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(fO){return}const t=e&&$l(e[1]);return t&&JSON.parse(t)})()}catch(fO){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${fO}`)}},Yl=e=>{var t,n;return null===(n=null===(t=Wl())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Kl=e=>{const t=Yl(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]},Gl=()=>{var e;return null===(e=Wl())||void 0===e?void 0:e.config},Ql=e=>{var t;return null===(t=Wl())||void 0===t?void 0:t[`_${e}`]};class Jl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Xl(e){return e.endsWith(".cloudworkstations.dev")}async function Zl(e){return(await fetch(e,{credentials:"include"})).ok}function ec(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[zl(JSON.stringify({alg:"none",type:"JWT"})),zl(JSON.stringify(s)),""].join(".")}const tc={};let nc=!1;function rc(e,t){if("undefined"===typeof window||"undefined"===typeof document||!Xl(window.location.host)||tc[e]===t||tc[e]||nc)return;function n(e){return`__firebase__banner__${e}`}tc[e]=t;const r="__firebase__banner",i=function(){const e={prod:[],emulator:[]};for(const t of Object.keys(tc))tc[t]?e.emulator.push(t):e.prod.push(t);return e}().prod.length>0;function s(){const e=document.createElement("span");return e.style.cursor="pointer",e.style.marginLeft="16px",e.style.fontSize="24px",e.innerHTML=" &times;",e.onclick=()=>{nc=!0,function(){const e=document.getElementById(r);e&&e.remove()}()},e}function o(){const e=function(e){let t=document.getElementById(e),n=!1;return t||(t=document.createElement("div"),t.setAttribute("id",e),n=!0),{created:n,element:t}}(r),t=n("text"),o=document.getElementById(t)||document.createElement("span"),a=n("learnmore"),l=document.getElementById(a)||document.createElement("a"),c=n("preprendIcon"),u=document.getElementById(c)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(e.created){const t=e.element;!function(e){e.style.display="flex",e.style.background="#7faaf0",e.style.position="fixed",e.style.bottom="5px",e.style.left="5px",e.style.padding=".5em",e.style.borderRadius="5px",e.style.alignItems="center"}(t),function(e,t){e.setAttribute("id",t),e.innerText="Learn more",e.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",e.setAttribute("target","__blank"),e.style.paddingLeft="5px",e.style.textDecoration="underline"}(l,a);const n=s();!function(e,t){e.setAttribute("width","24"),e.setAttribute("id",t),e.setAttribute("height","24"),e.setAttribute("viewBox","0 0 24 24"),e.setAttribute("fill","none"),e.style.marginLeft="-6px"}(u,c),t.append(u,o,l,n),document.body.appendChild(t)}i?(o.innerText="Preview backend disconnected.",u.innerHTML='<g clip-path="url(#clip0_6013_33858)">\n<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6013_33858">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>'):(u.innerHTML='<g clip-path="url(#clip0_6083_34804)">\n<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>\n</g>\n<defs>\n<clipPath id="clip0_6083_34804">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>',o.innerText="Preview backend running in this workspace."),o.setAttribute("id",t)}"loading"===document.readyState?window.addEventListener("DOMContentLoaded",o):o()}function ic(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function sc(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ic())}function oc(){var e;const t=null===(e=Wl())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(fO){return!1}}function ac(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function lc(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function cc(){return!0===Ol||!0===Al}function uc(){return!oc()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hc(){try{return"object"===typeof indexedDB}catch(fO){return!1}}function dc(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(Qd){t(Qd)}}))}class fc extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,fc.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pc.prototype.create)}}class pc{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n=`${this.service}/${e}`,r=this.errors[e],i=r?function(e,t){return e.replace(mc,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}(r,t):"Error",s=`${this.serviceName}: ${i} (${n}).`;return new fc(n,s,t)}}const mc=/\{\$([^}]+)}/g;function gc(e){return JSON.parse(e)}function yc(e){return JSON.stringify(e)}const vc=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=gc($l(s[0])||""),n=gc($l(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch(fO){}return{header:t,claims:n,data:r,signature:i}};function _c(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function wc(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function bc(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Ec(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Sc(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(kc(n)&&kc(s)){if(!Sc(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function kc(e){return null!==e&&"object"===typeof e}function Cc(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Tc(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function xc(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ic{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"===typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,s=this.chain_[0],o=this.chain_[1],a=this.chain_[2],l=this.chain_[3],c=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=l^o&(a^l),i=1518500249):(r=o^a^l,i=1859775393):u<60?(r=o&a|l&(o|a),i=2400959708):(r=o^a^l,i=3395469782);const e=(s<<5|s>>>27)+r+c+i+n[u]&4294967295;c=l,l=a,a=4294967295&(o<<30|o>>>2),o=s,s=e}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let s=this.inbuf_;for(;r<t;){if(0===s)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"===typeof e){for(;r<t;)if(i[s]=e.charCodeAt(r),++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}else for(;r<t;)if(i[s]=e[r],++s,++r,s===this.blockSize){this.compress_(i),s=0;break}}this.inbuf_=s,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}class Nc{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=Rc),void 0===r.error&&(r.error=Rc),void 0===r.complete&&(r.complete=Rc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(fO){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(fO){"undefined"!==typeof console&&console.error&&console.error(fO)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function Rc(){}function Pc(e,t){return`${e} failed: ${t} argument `}const Oc=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function Ac(e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2;const n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3)*Math.pow(t,e),r=Math.round(.5*n*(Math.random()-.5)*2);return Math.min(144e5,n+r)}function Dc(e){return e&&e._delegate?e._delegate:e}class Mc{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Lc="[DEFAULT]";class Fc{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Jl;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(fO){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(fO){if(r)return null;throw fO}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Lc})}catch(fO){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(fO){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(i=t,i===Lc?void 0:i),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(s){}var i;return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lc;return this.component?this.component.multipleInstances?e:Lc:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class jc{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Fc(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const Uc=[];var Vc;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Vc||(Vc={}));const zc={debug:Vc.DEBUG,verbose:Vc.VERBOSE,info:Vc.INFO,warn:Vc.WARN,error:Vc.ERROR,silent:Vc.SILENT},$c=Vc.INFO,qc={[Vc.DEBUG]:"log",[Vc.VERBOSE]:"log",[Vc.INFO]:"info",[Vc.WARN]:"warn",[Vc.ERROR]:"error"},Bc=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=qc[t];if(!r)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);for(var i=arguments.length,s=new Array(i>2?i-2:0),o=2;o<i;o++)s[o-2]=arguments[o];console[r](`[${n}]  ${e.name}:`,...s)};class Hc{constructor(e){this.name=e,this._logLevel=$c,this._logHandler=Bc,this._userLogHandler=null,Uc.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Vc))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?zc[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vc.DEBUG,...t),this._logHandler(this,Vc.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vc.VERBOSE,...t),this._logHandler(this,Vc.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vc.INFO,...t),this._logHandler(this,Vc.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vc.WARN,...t),this._logHandler(this,Vc.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Vc.ERROR,...t),this._logHandler(this,Vc.ERROR,...t)}}let Wc,Yc;const Kc=new WeakMap,Gc=new WeakMap,Qc=new WeakMap,Jc=new WeakMap,Xc=new WeakMap;let Zc={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gc.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qc.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return nu(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function eu(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Yc||(Yc=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ru(this),n),nu(Kc.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return nu(e.apply(ru(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(ru(this),t,...r);return Qc.set(s,t.sort?t.sort():[t]),nu(s)}}function tu(e){return"function"===typeof e?eu(e):(e instanceof IDBTransaction&&function(e){if(Gc.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Gc.set(e,t)}(e),t=e,(Wc||(Wc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,Zc):e);var t}function nu(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(nu(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&Kc.set(t,e)})).catch((()=>{})),Xc.set(t,e),t}(e);if(Jc.has(e))return Jc.get(e);const t=tu(e);return t!==e&&(Jc.set(e,t),Xc.set(t,e)),t}const ru=e=>Xc.get(e);function iu(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const o=indexedDB.open(e,t),a=nu(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(nu(o.result),e.oldVersion,e.newVersion,nu(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const su=["get","getKey","getAll","getAllKeys","count"],ou=["put","add","delete","clear"],au=new Map;function lu(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(au.get(t))return au.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=ou.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!su.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var o=arguments.length,a=new Array(o>1?o-1:0),l=1;l<o;l++)a[l-1]=arguments[l];return r&&(s=s.index(a.shift())),(await Promise.all([s[n](...a),i&&t.done]))[0]};return au.set(t,s),s}Zc=(e=>({...e,get:(t,n,r)=>lu(t,n)||e.get(t,n,r),has:(t,n)=>!!lu(t,n)||e.has(t,n)}))(Zc);class cu{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}const uu="@firebase/app",hu="0.13.0",du=new Hc("@firebase/app"),fu="@firebase/app-compat",pu="@firebase/analytics-compat",mu="@firebase/analytics",gu="@firebase/app-check-compat",yu="@firebase/app-check",vu="@firebase/auth",_u="@firebase/auth-compat",wu="@firebase/database",bu="@firebase/data-connect",Eu="@firebase/database-compat",Su="@firebase/functions",ku="@firebase/functions-compat",Cu="@firebase/installations",Tu="@firebase/installations-compat",xu="@firebase/messaging",Iu="@firebase/messaging-compat",Nu="@firebase/performance",Ru="@firebase/performance-compat",Pu="@firebase/remote-config",Ou="@firebase/remote-config-compat",Au="@firebase/storage",Du="@firebase/storage-compat",Mu="@firebase/firestore",Lu="@firebase/ai",Fu="@firebase/firestore-compat",ju="firebase",Uu="[DEFAULT]",Vu={[uu]:"fire-core",[fu]:"fire-core-compat",[mu]:"fire-analytics",[pu]:"fire-analytics-compat",[yu]:"fire-app-check",[gu]:"fire-app-check-compat",[vu]:"fire-auth",[_u]:"fire-auth-compat",[wu]:"fire-rtdb",[bu]:"fire-data-connect",[Eu]:"fire-rtdb-compat",[Su]:"fire-fn",[ku]:"fire-fn-compat",[Cu]:"fire-iid",[Tu]:"fire-iid-compat",[xu]:"fire-fcm",[Iu]:"fire-fcm-compat",[Nu]:"fire-perf",[Ru]:"fire-perf-compat",[Pu]:"fire-rc",[Ou]:"fire-rc-compat",[Au]:"fire-gcs",[Du]:"fire-gcs-compat",[Mu]:"fire-fst",[Fu]:"fire-fst-compat",[Lu]:"fire-vertex","fire-js":"fire-js",[ju]:"fire-js-all"},zu=new Map,$u=new Map,qu=new Map;function Bu(e,t){try{e.container.addComponent(t)}catch(fO){du.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,fO)}}function Hu(e){const t=e.name;if(qu.has(t))return du.debug(`There were multiple attempts to register component ${t}.`),!1;qu.set(t,e);for(const n of zu.values())Bu(n,e);for(const n of $u.values())Bu(n,e);return!0}function Wu(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Yu(e){return null!==e&&void 0!==e&&void 0!==e.settings}const Ku=new pc("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class Gu{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Mc("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ku.create("app-deleted",{appName:this._name})}}const Qu="11.8.0";function Ju(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:Uu,automaticDataCollectionEnabled:!0},t),i=r.name;if("string"!==typeof i||!i)throw Ku.create("bad-app-name",{appName:String(i)});if(n||(n=Gl()),!n)throw Ku.create("no-options");const s=zu.get(i);if(s){if(Sc(n,s.options)&&Sc(r,s.config))return s;throw Ku.create("duplicate-app",{appName:i})}const o=new jc(i);for(const l of qu.values())o.addComponent(l);const a=new Gu(n,r,o);return zu.set(i,a),a}function Xu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Uu;const t=zu.get(e);if(!t&&e===Uu&&Gl())return Ju();if(!t)throw Ku.create("no-app",{appName:e});return t}function Zu(e,t,n){var r;let i=null!==(r=Vu[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void du.warn(e.join(" "))}Hu(new Mc(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}const eh="firebase-heartbeat-store";let th=null;function nh(){return th||(th=iu("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(eh)}catch(fO){console.warn(fO)}}}).catch((e=>{throw Ku.create("idb-open",{originalErrorMessage:e.message})}))),th}async function rh(e,t){try{const n=(await nh()).transaction(eh,"readwrite"),r=n.objectStore(eh);await r.put(t,ih(e)),await n.done}catch(fO){if(fO instanceof fc)du.warn(fO.message);else{const t=Ku.create("idb-set",{originalErrorMessage:null===fO||void 0===fO?void 0:fO.message});du.warn(t.message)}}}function ih(e){return`${e.name}!${e.options.appId}`}class sh{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new ah(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=oh();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats.length>30){const e=function(e){if(0===e.length)return-1;let t=0,n=e[0].date;for(let r=1;r<e.length;r++)e[r].date<n&&(n=e[r].date,t=r);return t}(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(e,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(fO){du.warn(fO)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=oh(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),lh(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),lh(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=zl(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(fO){return du.warn(fO),""}}}function oh(){return(new Date).toISOString().substring(0,10)}class ah{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!hc()&&dc().then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await nh()).transaction(eh),n=await t.objectStore(eh).get(ih(e));return await t.done,n}catch(fO){if(fO instanceof fc)du.warn(fO.message);else{const t=Ku.create("idb-get",{originalErrorMessage:null===fO||void 0===fO?void 0:fO.message});du.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rh(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return rh(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function lh(e){return zl(JSON.stringify({version:2,heartbeats:e})).length}var ch;ch="",Hu(new Mc("platform-logger",(e=>new cu(e)),"PRIVATE")),Hu(new Mc("heartbeat",(e=>new sh(e)),"PRIVATE")),Zu(uu,hu,ch),Zu(uu,hu,"esm2017"),Zu("fire-js","");Zu("firebase","11.8.1","app");const uh="@firebase/installations",hh="0.6.17",dh=1e4,fh=`w:${hh}`,ph="FIS_v2",mh=36e5,gh=new pc("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function yh(e){return e instanceof fc&&e.code.includes("request-failed")}function vh(e){let{projectId:t}=e;return`https://firebaseinstallations.googleapis.com/v1/projects/${t}/installations`}function _h(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}async function wh(e,t){const n=(await t.json()).error;return gh.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function bh(e){let{apiKey:t}=e;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Eh(e,t){let{refreshToken:n}=t;const r=bh(e);return r.append("Authorization",function(e){return`${ph} ${e}`}(n)),r}async function Sh(e){const t=await e();return t.status>=500&&t.status<600?e():t}function kh(e){return new Promise((t=>{setTimeout(t,e)}))}const Ch=/^[cdef][\w-]{21}$/;function Th(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){const t=(n=e,btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_"));var n;return t.substr(0,22)}(e);return Ch.test(t)?t:""}catch(e){return""}}function xh(e){return`${e.appName}!${e.appId}`}const Ih=new Map;function Nh(e,t){const n=xh(e);Rh(n,t),function(e,t){const n=Oh();n&&n.postMessage({key:e,fid:t});Ah()}(n,t)}function Rh(e,t){const n=Ih.get(e);if(n)for(const r of n)r(t)}let Ph=null;function Oh(){return!Ph&&"BroadcastChannel"in self&&(Ph=new BroadcastChannel("[Firebase] FID Change"),Ph.onmessage=e=>{Rh(e.data.key,e.data.fid)}),Ph}function Ah(){0===Ih.size&&Ph&&(Ph.close(),Ph=null)}const Dh="firebase-installations-store";let Mh=null;function Lh(){return Mh||(Mh=iu("firebase-installations-database",1,{upgrade:(e,t)=>{if(0===t)e.createObjectStore(Dh)}})),Mh}async function Fh(e,t){const n=xh(e),r=(await Lh()).transaction(Dh,"readwrite"),i=r.objectStore(Dh),s=await i.get(n);return await i.put(t,n),await r.done,s&&s.fid===t.fid||Nh(e,t.fid),t}async function jh(e){const t=xh(e),n=(await Lh()).transaction(Dh,"readwrite");await n.objectStore(Dh).delete(t),await n.done}async function Uh(e,t){const n=xh(e),r=(await Lh()).transaction(Dh,"readwrite"),i=r.objectStore(Dh),s=await i.get(n),o=t(s);return void 0===o?await i.delete(n):await i.put(o,n),await r.done,!o||s&&s.fid===o.fid||Nh(e,o.fid),o}async function Vh(e){let t;const n=await Uh(e.appConfig,(n=>{const r=function(e){const t=e||{fid:Th(),registrationStatus:0};return qh(t)}(n),i=function(e,t){if(0===t.registrationStatus){if(!navigator.onLine){return{installationEntry:t,registrationPromise:Promise.reject(gh.create("app-offline"))}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=async function(e,t){try{const n=await async function(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e,{fid:i}=t;const s=vh(n),o=bh(n),a=r.getImmediate({optional:!0});if(a){const e=await a.getHeartbeatsHeader();e&&o.append("x-firebase-client",e)}const l={fid:i,authVersion:ph,appId:n.appId,sdkVersion:fh},c={method:"POST",headers:o,body:JSON.stringify(l)},u=await Sh((()=>fetch(s,c)));if(u.ok){const e=await u.json();return{fid:e.fid||i,registrationStatus:2,refreshToken:e.refreshToken,authToken:_h(e.authToken)}}throw await wh("Create Installation",u)}(e,t);return Fh(e.appConfig,n)}catch(fO){throw yh(fO)&&409===fO.customData.serverCode?await jh(e.appConfig):await Fh(e.appConfig,{fid:t.fid,registrationStatus:0}),fO}}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:zh(e)}:{installationEntry:t}}(e,r);return t=i.registrationPromise,i.installationEntry}));return""===n.fid?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}async function zh(e){let t=await $h(e.appConfig);for(;1===t.registrationStatus;)await kh(100),t=await $h(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=await Vh(e);return n||t}return t}function $h(e){return Uh(e,(e=>{if(!e)throw gh.create("installation-not-found");return qh(e)}))}function qh(e){return 1===(t=e).registrationStatus&&t.registrationTime+dh<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}async function Bh(e,t){let{appConfig:n,heartbeatServiceProvider:r}=e;const i=function(e,t){let{fid:n}=t;return`${vh(e)}/${n}/authTokens:generate`}(n,t),s=Eh(n,t),o=r.getImmediate({optional:!0});if(o){const e=await o.getHeartbeatsHeader();e&&s.append("x-firebase-client",e)}const a={installation:{sdkVersion:fh,appId:n.appId}},l={method:"POST",headers:s,body:JSON.stringify(a)},c=await Sh((()=>fetch(i,l)));if(c.ok){return _h(await c.json())}throw await wh("Generate Auth Token",c)}async function Hh(e){let t,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r=await Uh(e.appConfig,(r=>{if(!Yh(r))throw gh.create("not-registered");const i=r.authToken;if(!n&&function(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+mh}(e)}(i))return r;if(1===i.requestStatus)return t=async function(e,t){let n=await Wh(e.appConfig);for(;1===n.authToken.requestStatus;)await kh(100),n=await Wh(e.appConfig);const r=n.authToken;return 0===r.requestStatus?Hh(e,t):r}(e,n),r;{if(!navigator.onLine)throw gh.create("app-offline");const n=function(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}(r);return t=async function(e,t){try{const n=await Bh(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await Fh(e.appConfig,r),n}catch(fO){if(!yh(fO)||401!==fO.customData.serverCode&&404!==fO.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await Fh(e.appConfig,n)}else await jh(e.appConfig);throw fO}}(e,n),n}}));return t?await t:r.authToken}function Wh(e){return Uh(e,(e=>{if(!Yh(e))throw gh.create("not-registered");const t=e.authToken;return 1===(n=t).requestStatus&&n.requestTime+dh<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var n}))}function Yh(e){return void 0!==e&&2===e.registrationStatus}async function Kh(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=e;await async function(e){const{registrationPromise:t}=await Vh(e);t&&await t}(n);return(await Hh(n,t)).token}function Gh(e){return gh.create("missing-app-config-values",{valueName:e})}const Qh="installations",Jh=e=>{const t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw Gh("App Configuration");if(!e.name)throw Gh("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw Gh(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:Wu(t,"heartbeat"),_delete:()=>Promise.resolve()}},Xh=e=>{const t=Wu(e.getProvider("app").getImmediate(),Qh).getImmediate();return{getId:()=>async function(e){const t=e,{installationEntry:n,registrationPromise:r}=await Vh(t);return r?r.catch(console.error):Hh(t).catch(console.error),n.fid}(t),getToken:e=>Kh(t,e)}};Hu(new Mc(Qh,Jh,"PUBLIC")),Hu(new Mc("installations-internal",Xh,"PRIVATE")),Zu(uh,hh),Zu(uh,hh,"esm2017");const Zh="analytics",ed="https://www.googletagmanager.com/gtag/js",td=new Hc("@firebase/analytics"),nd=new pc("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function rd(e){if(!e.startsWith(ed)){const t=nd.create("invalid-gtag-resource",{gtagURL:e});return td.warn(t.message),""}return e}function id(e){return Promise.all(e.map((e=>e.catch((e=>e)))))}function sd(e,t){const n=function(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:rd}),r=document.createElement("script"),i=`${ed}?l=${e}&id=${t}`;r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function od(e,t,n,r){return async function(i){try{for(var s=arguments.length,o=new Array(s>1?s-1:0),a=1;a<s;a++)o[a-1]=arguments[a];if("event"===i){const[r,i]=o;await async function(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=await id(n);for(const n of e){const e=r.find((e=>e.measurementId===n)),i=e&&t[e.appId];if(!i){s=[];break}s.push(i)}}0===s.length&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(fO){td.error(fO)}}(e,t,n,r,i)}else if("config"===i){const[i,s]=o;await async function(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const e=(await id(n)).find((e=>e.measurementId===i));e&&await t[e.appId]}}catch(fO){td.error(fO)}e("config",i,s)}(e,t,n,r,i,s)}else if("consent"===i){const[t,n]=o;e("consent",t,n)}else if("get"===i){const[t,n,r]=o;e("get",t,n,r)}else if("set"===i){const[t]=o;e("set",t)}else e(i,...o)}catch(fO){td.error(fO)}}}const ad=new class{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ld(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function cd(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ad,n=arguments.length>2?arguments[2]:void 0;const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw nd.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw nd.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new hd;return setTimeout((async()=>{a.abort()}),void 0!==n?n:6e4),ud({appId:r,apiKey:i,measurementId:s},o,a,t)}async function ud(e,t,n){let{throttleEndTimeMillis:r,backoffCount:i}=t,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ad;var o;const{appId:a,measurementId:l}=e;try{await function(e,t){return new Promise(((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener((()=>{clearTimeout(s),r(nd.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}(n,r)}catch(fO){if(l)return td.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===fO||void 0===fO?void 0:fO.message}]`),{appId:a,measurementId:l};throw fO}try{const t=await async function(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:ld(r)},s="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig".replace("{app-id}",n),o=await fetch(s,i);if(200!==o.status&&304!==o.status){let e="";try{const n=await o.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw nd.create("config-fetch-failed",{httpStatus:o.status,responseMessage:e})}return o.json()}(e);return s.deleteThrottleMetadata(a),t}catch(fO){const r=fO;if(!function(e){if(!(e instanceof fc)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(r)){if(s.deleteThrottleMetadata(a),l)return td.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${l} provided in the "measurementId" field in the local Firebase config. [${null===r||void 0===r?void 0:r.message}]`),{appId:a,measurementId:l};throw fO}const c=503===Number(null===(o=null===r||void 0===r?void 0:r.customData)||void 0===o?void 0:o.httpStatus)?Ac(i,s.intervalMillis,30):Ac(i,s.intervalMillis),u={throttleEndTimeMillis:Date.now()+c,backoffCount:i+1};return s.setThrottleMetadata(a,u),td.debug(`Calling attemptFetch again in ${c} millis`),ud(e,u,n,s)}}class hd{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach((e=>e()))}}let dd,fd;function pd(e){fd=e}function md(e){dd=e}async function gd(e,t,n,r,i,s,o){var a;const l=cd(e);l.then((t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&td.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)})).catch((e=>td.error(e))),t.push(l);const c=async function(){if(!hc())return td.warn(nd.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{await dc()}catch(fO){return td.warn(nd.create("indexeddb-unavailable",{errorInfo:null===fO||void 0===fO?void 0:fO.toString()}).message),!1}return!0}().then((e=>e?r.getId():void 0)),[u,h]=await Promise.all([l,c]);(function(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(ed)&&n.src.includes(e))return n;return null})(s)||sd(s,u.measurementId),fd&&(i("consent","default",fd),pd(void 0)),i("js",new Date);const d=null!==(a=null===o||void 0===o?void 0:o.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),dd&&(i("set",dd),md(void 0)),u.measurementId}class yd{constructor(e){this.app=e}_delete(){return delete vd[this.app.options.appId],Promise.resolve()}}let vd={},_d=[];const wd={};let bd,Ed,Sd="dataLayer",kd="gtag",Cd=!1;function Td(){const e=[];if(ac()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){const t=e.map(((e,t)=>`(${t+1}) ${e}`)).join(" "),n=nd.create("invalid-analytics-context",{errorInfo:t});td.warn(n.message)}}function xd(e,t,n){Td();const r=e.options.appId;if(!r)throw nd.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw nd.create("no-api-key");td.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=vd[r])throw nd.create("already-exists",{id:r});if(!Cd){!function(e){let t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(Sd);const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(s=window[i]),window[i]=od(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}(vd,_d,wd,Sd,kd);Ed=e,bd=t,Cd=!0}vd[r]=gd(e,_d,wd,t,bd,Sd,n);return new yd(e)}function Id(e,t,n,r){e=Dc(e),async function(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=await t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}}(Ed,vd[e.app.options.appId],t,n,r).catch((e=>td.error(e)))}const Nd="@firebase/analytics",Rd="0.10.16";Hu(new Mc(Zh,((e,t)=>{let{options:n}=t;return xd(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),Hu(new Mc("analytics-internal",(function(e){try{const t=e.getProvider(Zh).getImmediate();return{logEvent:(e,n,r)=>Id(t,e,n,r)}}catch(fO){throw nd.create("interop-component-reg-failed",{reason:fO})}}),"PRIVATE")),Zu(Nd,Rd),Zu(Nd,Rd,"esm2017");const Pd=Ju({apiKey:"AIzaSyDts9lfD1N2smmBW3bS3WP0DRO0wZ0P0e4",authDomain:"react-f071d.firebaseapp.com",projectId:"react-f071d",storageBucket:"react-f071d.firebasestorage.app",messagingSenderId:"373727788305",appId:"1:373727788305:web:7d9148d5f82db95e75a0b0",measurementId:"G-YBQM45TPTJ"}),Od=(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();e=Dc(e);const t=Wu(e,Zh);t.isInitialized()?t.getImmediate():function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Wu(e,Zh);if(n.isInitialized()){const e=n.getImmediate();if(Sc(t,n.getOptions()))return e;throw nd.create("already-initialized")}const r=n.initialize({options:t})}(e)}(Pd),"@firebase/database"),Ad="1.0.19";let Dd="";function Md(e){Dd=e}class Ld{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),yc(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:gc(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class Fd{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return _c(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const jd=function(e){try{if("undefined"!==typeof window&&"undefined"!==typeof window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new Ld(t)}}catch(fO){}return new Fd},Ud=jd("localStorage"),Vd=jd("sessionStorage"),zd=new Hc("@firebase/database"),$d=function(){let e=1;return function(){return e++}}(),qd=function(e){const t=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const t=i-55296;r++,Ml(r<e.length,"Surrogate pair missing trail surrogate."),i=65536+(t<<10)+(e.charCodeAt(r)-56320)}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t}(e),n=new Ic;n.update(t);const r=n.digest();return jl.encodeByteArray(r)},Bd=function(){let e="";for(let t=0;t<arguments.length;t++){const n=t<0||arguments.length<=t?void 0:arguments[t];Array.isArray(n)||n&&"object"===typeof n&&"number"===typeof n.length?e+=Bd.apply(null,n):e+="object"===typeof n?yc(n):n,e+=" "}return e};let Hd=null,Wd=!0;const Yd=function(e,t){Ml(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(zd.logLevel=Vc.VERBOSE,Hd=zd.log.bind(zd),t&&Vd.set("logging_enabled",!0)):"function"===typeof e?Hd=e:(Hd=null,Vd.remove("logging_enabled"))},Kd=function(){if(!0===Wd&&(Wd=!1,null===Hd&&!0===Vd.get("logging_enabled")&&Yd(!0)),Hd){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=Bd.apply(null,t);Hd(r)}},Gd=function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Kd(e,...n)}},Qd=function(){const e="FIREBASE INTERNAL ERROR: "+Bd(...arguments);zd.error(e)},Jd=function(){const e=`FIREBASE FATAL ERROR: ${Bd(...arguments)}`;throw zd.error(e),new Error(e)},Xd=function(){const e="FIREBASE WARNING: "+Bd(...arguments);zd.warn(e)},Zd=function(e){return"number"===typeof e&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},ef="[MIN_NAME]",tf="[MAX_NAME]",nf=function(e,t){if(e===t)return 0;if(e===ef||t===tf)return-1;if(t===ef||e===tf)return 1;{const n=hf(e),r=hf(t);return null!==n?null!==r?n-r===0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},rf=function(e,t){return e===t?0:e<t?-1:1},sf=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+yc(t))},of=function(e){if("object"!==typeof e||null===e)return yc(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=yc(t[r]),n+=":",n+=of(e[t[r]]);return n+="}",n},af=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function lf(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const cf=function(e){Ml(!Zd(e),"Invalid JSON number");const t=1023;let n,r,i,s,o;0===e?(r=0,i=0,n=1/e===-1/0?1:0):(n=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(s=Math.min(Math.floor(Math.log(e)/Math.LN2),t),r=s+t,i=Math.round(e*Math.pow(2,52-s)-Math.pow(2,52))):(r=0,i=Math.round(e/Math.pow(2,-1074))));const a=[];for(o=52;o;o-=1)a.push(i%2?1:0),i=Math.floor(i/2);for(o=11;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);a.push(n?1:0),a.reverse();const l=a.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(l.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()};const uf=new RegExp("^-?(0*)\\d{1,10}$"),hf=function(e){if(uf.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},df=function(e){try{e()}catch(fO){setTimeout((()=>{const t=fO.stack||"";throw Xd("Exception was thrown by user callback.",t),fO}),Math.floor(0))}},ff=function(e,t){const n=setTimeout(e,t);return"number"===typeof n&&"undefined"!==typeof Deno&&Deno.unrefTimer?Deno.unrefTimer(n):"object"===typeof n&&n.unref&&n.unref(),n};class pf{constructor(e,t){this.appCheckProvider=t,this.appName=e.name,Yu(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=null===t||void 0===t?void 0:t.getImmediate({optional:!0}),this.appCheck||null===t||void 0===t||t.get().then((e=>this.appCheck=e))}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise(((t,n)=>{setTimeout((()=>{this.appCheck?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then((t=>t.addTokenListener(e)))}notifyForInvalidToken(){Xd(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}class mf{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit((e=>this.auth_=e))}getToken(e){return this.auth_?this.auth_.getToken(e).catch((e=>e&&"auth/token-not-initialized"===e.code?(Kd("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e))):new Promise(((t,n)=>{setTimeout((()=>{this.auth_?this.getToken(e).then(t,n):t(null)}),0)}))}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then((t=>t.addAuthTokenListener(e)))}removeTokenChangeListener(e){this.authProvider_.get().then((t=>t.removeAuthTokenListener(e)))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Xd(e)}}class gf{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}gf.OWNER="owner";const yf="5",vf=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_f="ac",wf="websocket",bf="long_polling";class Ef{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],a=arguments.length>7&&void 0!==arguments[7]&&arguments[7],l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:null;this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=s,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=a,this.emulatorOptions=l,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ud.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ud.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",t=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${t}`}}function Sf(e,t,n){let r;if(Ml("string"===typeof t,"typeof type must == string"),Ml("object"===typeof n,"typeof params must == object"),t===wf)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==bf)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return lf(n,((e,t)=>{i.push(e+"="+t)})),r+i.join("&")}class kf{constructor(){this.counters_={}}incrementCounter(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;_c(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return ql(this.counters_)}}const Cf={},Tf={};function xf(e){const t=e.toString();return Cf[t]||(Cf[t]=new kf),Cf[t]}class If{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&df((()=>{this.onMessage_(e[t])}));if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}const Nf="start";class Rf{constructor(e,t,n,r,i,s,o){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=s,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Gd(e),this.stats_=xf(t),this.urlFn=e=>(this.appCheckToken&&(e[_f]=this.appCheckToken),Sf(t,bf,e))}open(e,t){var n=this;this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new If(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null}),Math.floor(3e4)),function(e){if(cc()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(()=>{"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((()=>{if(this.isClosed_)return;this.scriptTagHolder=new Pf((function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s,o,a,l]=t;if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i===Nf)n.id=s,n.password=o;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);s?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(s,(()=>{n.onClosed_()}))):n.onClosed_()}}),(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const[i,s]=t;n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,s)}),(()=>{this.onClosed_()}),this.urlFn);const e={};e[Nf]="t",e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v=yf,this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e[_f]=this.appCheckToken),"undefined"!==typeof location&&location.hostname&&vf.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,(()=>{}))}))}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rf.forceAllow_=!0}static forceDisallow(){Rf.forceDisallow_=!0}static isAvailable(){return!cc()&&(!!Rf.forceAllow_||!Rf.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!("object"===typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))&&!("object"===typeof Windows&&"object"===typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=yc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=Vl(t),r=af(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if(cc())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=yc(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Pf{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,cc())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=$d(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Pf.createIFrame_();let n="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)){n='<script>document.domain="'+document.domain+'";<\/script>'}const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(fO){Kd("frame writing exception"),fO.stack&&Kd(fO.stack),Kd(fO)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Kd("No IE domain setting required")}catch(fO){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout((()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)}),Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;{const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,(()=>{clearTimeout(r),n()}))}addTag(e,t){cc()?this.doNodeLongPoll(e,t):setTimeout((()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{Kd("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(fO){}}),Math.floor(1))}}let Of=null;"undefined"!==typeof MozWebSocket?Of=MozWebSocket:"undefined"!==typeof WebSocket&&(Of=WebSocket);class Af{constructor(e,t,n,r,i,s,o){this.connId=e,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Gd(this.connId),this.stats_=xf(t),this.connURL=Af.connectionURL_(t,s,o,r,n),this.nodeAdmin=t.nodeAdmin}static connectionURL_(e,t,n,r,i){const s={};return s.v=yf,!cc()&&"undefined"!==typeof location&&location.hostname&&vf.test(location.hostname)&&(s.r="f"),t&&(s.s=t),n&&(s.ls=n),r&&(s[_f]=r),i&&(s.p=i),Sf(e,wf,s)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ud.set("previous_websocket_failure",!0);try{let e;if(cc()){const t=this.nodeAdmin?"AdminNode":"Node";e={headers:{"User-Agent":`Firebase/${yf}/${Dd}/${process.platform}/${t}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const n={NODE_ENV:"production",PUBLIC_URL:"/react_project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAO_REST_KEY:"d72149a9fe54720ad367a090ab378766"},r=0===this.connURL.indexOf("wss://")?n.HTTPS_PROXY||n.https_proxy:n.HTTP_PROXY||n.http_proxy;r&&(e.proxy={origin:r})}this.mySock=new Of(this.connURL,[],e)}catch(fO){this.log_("Error instantiating WebSocket.");const t=fO.message||fO.data;return t&&this.log_(t),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){Af.forceDisallow_=!0}static isAvailable(){let e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){const t=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(t);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==Of&&!Af.forceDisallow_}static previouslyFailed(){return Ud.isInMemoryStorage||!0===Ud.get("previous_websocket_failure")}markConnectionHealthy(){Ud.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=gc(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(Ml(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=yc(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=af(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()}),Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(fO){this.log_("Exception thrown from WebSocket.send():",fO.message||fO.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Af.responsesRequiredToBeHealthy=2,Af.healthyTimeout=3e4;class Df{static get ALL_TRANSPORTS(){return[Rf,Af]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const t=Af&&Af.isAvailable();let n=t&&!Af.previouslyFailed();if(e.webSocketOnly&&(t||Xd("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Af];else{const e=this.transports_=[];for(const t of Df.ALL_TRANSPORTS)t&&t.isAvailable()&&e.push(t);Df.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Df.globalTransportInitialized_=!1;class Mf{constructor(e,t,n,r,i,s,o,a,l,c){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=s,this.onReady_=o,this.onDisconnect_=a,this.onKill_=l,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Gd("c:"+this.id+":"),this.transportManager_=new Df(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((()=>{this.conn_&&this.conn_.open(t,n)}),Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=ff((()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))}),Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){const t={t:"d",d:e};this.sendData_(t)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=sf("t",e),n=sf("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=sf("t",e),n=sf("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=sf("t",e);if("d"in e){const n=e.d;if("h"===t){const e=Object.assign({},n);this.repoInfo_.isUsingEmulator&&(e.h=this.repoInfo_.host),this.onHandshake_(e)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?Qd("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Qd("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),yf!==n&&Xd("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),ff((()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())}),Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ff((()=>{this.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ud.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class Lf{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class Ff{constructor(e){this.allowedEvents_=e,this.listeners_={},Ml(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(let e=0;e<i.length;e++)i[e].callback.apply(i[e].context,n)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){Ml(this.allowedEvents_.find((t=>t===e)),"Unknown event: "+e)}}class jf extends Ff{static getInstance(){return new jf}constructor(){super(["online"]),this.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||sc()||(window.addEventListener("online",(()=>{this.online_||(this.online_=!0,this.trigger("online",!0))}),!1),window.addEventListener("offline",(()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))}),!1))}getInitialEvent(e){return Ml("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Uf{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Vf(){return new Uf("")}function zf(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function $f(e){return e.pieces_.length-e.pieceNum_}function qf(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new Uf(e.pieces_,t)}function Bf(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Hf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.pieces_.slice(e.pieceNum_+t)}function Wf(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new Uf(t,0)}function Yf(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof Uf)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new Uf(n,0)}function Kf(e){return e.pieceNum_>=e.pieces_.length}function Gf(e,t){const n=zf(e),r=zf(t);if(null===n)return t;if(n===r)return Gf(qf(e),qf(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function Qf(e,t){if($f(e)!==$f(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Jf(e,t){let n=e.pieceNum_,r=t.pieceNum_;if($f(e)>$f(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Xf{constructor(e,t){this.errorPrefix_=t,this.parts_=Hf(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=Oc(this.parts_[n]);Zf(this)}}function Zf(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ep(e))}function ep(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class tp extends Ff{static getInstance(){return new tp}constructor(){let e,t;super(["visible"]),"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(t="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(t="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,(()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))}),!1)}getInitialEvent(e){return Ml("visible"===e,"Unknown event type: "+e),[this.visible_]}}const np=1e3;class rp extends Lf{constructor(e,t,n,r,i,s,o,a){if(super(),this.repoInfo_=e,this.applicationId_=t,this.onDataUpdate_=n,this.onConnectStatus_=r,this.onServerInfoUpdate_=i,this.authTokenProvider_=s,this.appCheckTokenProvider_=o,this.authOverride_=a,this.id=rp.nextPersistentConnectionId_++,this.log_=Gd("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=np,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,a&&!cc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");tp.getInstance().on("visible",this.onVisible_,this),-1===e.host.indexOf("fblocal")&&jf.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_(yc(i)),Ml(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Jl,n={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:e=>{const n=e.d;"ok"===e.s?t.resolve(n):t.reject(n)}};this.outstandingGets_.push(n),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,s=e._path.toString();this.log_("Listen called for "+s+" "+i),this.listens.has(s)||this.listens.set(s,new Map),Ml(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ml(!this.listens.get(s).has(i),"listen() called twice for same path/queryId.");const o={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(s).set(i,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,(n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)}))}sendListen_(e){const t=e.query,n=t._path.toString(),r=t._queryIdentifier;this.log_("Listen on "+n+" for "+r);const i={p:n};e.tag&&(i.q=t._queryObject,i.t=e.tag),i.h=e.hashFn(),this.sendRequest("q",i,(i=>{const s=i.d,o=i.s;rp.warnOnListenWarnings_(s,t);(this.listens.get(n)&&this.listens.get(n).get(r))===e&&(this.log_("listen response",i),"ok"!==o&&this.removeListen_(n,r),e.onComplete&&e.onComplete(o,s))}))}static warnOnListenWarnings_(e,t){if(e&&"object"===typeof e&&_c(e,"w")){const n=wc(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();Xd(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(()=>{})),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||function(e){const t=vc(e).claims;return"object"===typeof t&&!0===t.admin}(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},(()=>{}))}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=function(e){const t=vc(e).claims;return!!t&&"object"===typeof t&&t.hasOwnProperty("iat")}(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"===typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,(t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))}))}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},(e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)}))}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),Ml(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query");this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,(e=>{r&&setTimeout((()=>{r(e.s,e.d)}),Math.floor(0))}))}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const s={p:t,d:n};void 0!==i&&(s.h=i),this.outstandingPuts_.push({action:e,request:s,onComplete:r}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,(n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)}))}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,(e=>{if("ok"!==e.s){const t=e.d;this.log_("reportStats","Error sending stats: "+t)}}))}}onDataMessage_(e){if("r"in e){this.log_("from server: "+yc(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):Qd("Unrecognized action received from server: "+yc(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){Ml(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((()=>{this.establishConnectionTimer_=null,this.establishConnection_()}),Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=np,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=np,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=np),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();const e=Math.max(0,(new Date).getTime()-this.lastConnectionAttemptTime_);let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),t=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+rp.nextConnectionId_++,i=this.lastSessionId;let s=!1,o=null;const a=function(){o?o.close():(s=!0,n())},l=function(e){Ml(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(e)};this.realtime_={close:a,sendRequest:l};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[a,l]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);s?Kd("getToken() completed but was canceled"):(Kd("getToken() completed. Creating connection."),this.authToken_=a&&a.accessToken,this.appCheckToken_=l&&l.token,o=new Mf(r,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,t,n,(e=>{Xd(e+" ("+this.repoInfo_.toString()+")"),this.interrupt("server_kill")}),i))}catch(Qd){this.log_("Failed to get token: "+Qd),s||(this.repoInfo_.nodeAdmin&&Xd(Qd),a())}}}interrupt(e){Kd("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Kd("Resuming connection for reason: "+e),delete this.interruptReasons_[e],bc(this.interruptReasons_)&&(this.reconnectDelay_=np,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map((e=>of(e))).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new Uf(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){Kd("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){Kd("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";cc()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+Dd.replace(/\./g,"-")]=1,sc()?e["framework.cordova"]=1:lc()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=jf.getInstance().currentlyOnline();return bc(this.interruptReasons_)&&e}}rp.nextPersistentConnectionId_=0,rp.nextConnectionId_=0;class ip{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new ip(e,t)}}class sp{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new ip(ef,e),r=new ip(ef,t);return 0!==this.compare(n,r)}minPost(){return ip.MIN}}let op;class ap extends sp{static get __EMPTY_NODE(){return op}static set __EMPTY_NODE(e){op=e}compare(e,t){return nf(e.name,t.name)}isDefinedOn(e){throw Ll("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return ip.MIN}maxPost(){return new ip(tf,op)}makePost(e,t){return Ml("string"===typeof e,"KeyIndex indexValue must always be a string."),new ip(e,op)}toString(){return".key"}}const lp=new ap;class cp{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let s=1;for(;!e.isEmpty();)if(s=t?n(e.key,t):1,r&&(s*=-1),s<0)e=this.isReverse_?e.left:e.right;else{if(0===s){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class up{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:up.RED,this.left=null!=r?r:hp.EMPTY_NODE,this.right=null!=i?i:hp.EMPTY_NODE}copy(e,t,n,r,i){return new up(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return hp.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return hp.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,up.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,up.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}up.RED=!0,up.BLACK=!1;class hp{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hp.EMPTY_NODE;this.comparator_=e,this.root_=t}insert(e,t){return new hp(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,up.BLACK,null,null))}remove(e){return new hp(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,up.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new cp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new cp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new cp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new cp(this.root_,null,this.comparator_,!0,e)}}function dp(e,t){return nf(e.name,t.name)}function fp(e,t){return nf(e,t)}let pp;hp.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new up(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const mp=function(e){return"number"===typeof e?"number:"+cf(e):"string:"+e},gp=function(e){if(e.isLeafNode()){const t=e.val();Ml("string"===typeof t||"number"===typeof t||"object"===typeof t&&_c(t,".sv"),"Priority must be a string or number.")}else Ml(e===pp||e.isEmpty(),"priority of unexpected type.");Ml(e===pp||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let yp,vp,_p;class wp{static set __childrenNodeConstructor(e){yp=e}static get __childrenNodeConstructor(){return yp}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:wp.__childrenNodeConstructor.EMPTY_NODE;this.value_=e,this.priorityNode_=t,this.lazyHash_=null,Ml(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),gp(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new wp(this.value_,e)}getImmediateChild(e){return".priority"===e?this.priorityNode_:wp.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Kf(e)?this:".priority"===zf(e)?this.priorityNode_:wp.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(e,t){return".priority"===e?this.updatePriority(t):t.isEmpty()&&".priority"!==e?this:wp.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,t).updatePriority(this.priorityNode_)}updateChild(e,t){const n=zf(e);return null===n?t:t.isEmpty()&&".priority"!==n?this:(Ml(".priority"!==n||1===$f(e),".priority must be the last token in a path"),this.updateImmediateChild(n,wp.__childrenNodeConstructor.EMPTY_NODE.updateChild(qf(e),t)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+mp(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?cf(this.value_):this.value_,this.lazyHash_=qd(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===wp.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof wp.__childrenNodeConstructor?-1:(Ml(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const t=typeof e.value_,n=typeof this.value_,r=wp.VALUE_TYPE_ORDER.indexOf(t),i=wp.VALUE_TYPE_ORDER.indexOf(n);return Ml(r>=0,"Unknown leaf type: "+t),Ml(i>=0,"Unknown leaf type: "+n),r===i?"object"===n?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:i-r}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}wp.VALUE_TYPE_ORDER=["object","boolean","number","string"];const bp=new class extends sp{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?nf(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return ip.MIN}maxPost(){return new ip(tf,new wp("[PRIORITY-POST]",_p))}makePost(e,t){const n=vp(e);return new ip(t,new wp("[PRIORITY-POST]",n))}toString(){return".priority"}},Ep=Math.log(2);class Sp{constructor(e){var t;this.count=(t=e+1,parseInt(Math.log(t)/Ep,10)),this.current_=this.count-1;const n=(r=this.count,parseInt(Array(r+1).join("1"),2));var r;this.bits_=e+1&n}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const kp=function(e,t,n,r){e.sort(t);const i=function(t,r){const s=r-t;let o,a;if(0===s)return null;if(1===s)return o=e[t],a=n?n(o):o,new up(a,o.node,up.BLACK,null,null);{const l=parseInt(s/2,10)+t,c=i(t,l),u=i(l+1,r);return o=e[l],a=n?n(o):o,new up(a,o.node,up.BLACK,c,u)}},s=function(t){let r=null,s=null,o=e.length;const a=function(t,r){const s=o-t,a=o;o-=t;const c=i(s+1,a),u=e[s],h=n?n(u):u;l(new up(h,u.node,r,null,c))},l=function(e){r?(r.left=e,r=e):(s=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,up.BLACK):(a(r,up.BLACK),a(r,up.RED))}return s}(new Sp(e.length));return new hp(r||t,s)};let Cp;const Tp={};class xp{static get Default(){return Ml(Tp&&bp,"ChildrenNode.ts has not been loaded"),Cp=Cp||new xp({".priority":Tp},{".priority":bp}),Cp}constructor(e,t){this.indexes_=e,this.indexSet_=t}get(e){const t=wc(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof hp?t:null}hasIndex(e){return _c(this.indexSet_,e.toString())}addIndex(e,t){Ml(e!==lp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(ip.Wrap);let s,o=i.getNext();for(;o;)r=r||e.isDefinedOn(o.node),n.push(o),o=i.getNext();s=r?kp(n,e.getCompare()):Tp;const a=e.toString(),l=Object.assign({},this.indexSet_);l[a]=e;const c=Object.assign({},this.indexes_);return c[a]=s,new xp(c,l)}addToIndexes(e,t){const n=Ec(this.indexes_,((n,r)=>{const i=wc(this.indexSet_,r);if(Ml(i,"Missing index implementation for "+r),n===Tp){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(ip.Wrap);let s=r.getNext();for(;s;)s.name!==e.name&&n.push(s),s=r.getNext();return n.push(e),kp(n,i.getCompare())}return Tp}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new ip(e.name,r))),i.insert(e,e.node)}}));return new xp(n,this.indexSet_)}removeFromIndexes(e,t){const n=Ec(this.indexes_,(n=>{if(n===Tp)return n;{const r=t.get(e.name);return r?n.remove(new ip(e.name,r)):n}}));return new xp(n,this.indexSet_)}}let Ip;class Np{static get EMPTY_NODE(){return Ip||(Ip=new Np(new hp(fp),null,xp.Default))}constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&gp(this.priorityNode_),this.children_.isEmpty()&&Ml(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Ip}updatePriority(e){return this.children_.isEmpty()?this:new Np(this.children_,e,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?Ip:t}}getChild(e){const t=zf(e);return null===t?this:this.getImmediateChild(t).getChild(qf(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(e,t){if(Ml(t,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(t);{const n=new ip(e,t);let r,i;t.isEmpty()?(r=this.children_.remove(e),i=this.indexMap_.removeFromIndexes(n,this.children_)):(r=this.children_.insert(e,t),i=this.indexMap_.addToIndexes(n,this.children_));const s=r.isEmpty()?Ip:this.priorityNode_;return new Np(r,s,i)}}updateChild(e,t){const n=zf(e);if(null===n)return t;{Ml(".priority"!==zf(e)||1===$f(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild(qf(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const t={};let n=0,r=0,i=!0;if(this.forEachChild(bp,((s,o)=>{t[s]=o.val(e),n++,i&&Np.INTEGER_REGEXP_.test(s)?r=Math.max(r,Number(s)):i=!1})),!e&&i&&r<2*n){const e=[];for(const n in t)e[n]=t[n];return e}return e&&!this.getPriority().isEmpty()&&(t[".priority"]=this.getPriority().val()),t}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+mp(this.getPriority().val())+":"),this.forEachChild(bp,((t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)})),this.lazyHash_=""===e?"":qd(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new ip(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new ip(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new ip(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal((e=>t(e.name,e.node))):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,(e=>e));{const n=this.children_.getIteratorFrom(e.name,ip.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,(e=>e));{const n=this.children_.getReverseIteratorFrom(e.name,ip.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Rp?-1:0}withIndex(e){if(e===lp||this.indexMap_.hasIndex(e))return this;{const t=this.indexMap_.addIndex(e,this.children_);return new Np(this.children_,this.priorityNode_,t)}}isIndexed(e){return e===lp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(bp),n=t.getIterator(bp);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===lp?null:this.indexMap_.get(e.toString())}}Np.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;const Rp=new class extends Np{constructor(){super(new hp(fp),Np.EMPTY_NODE,xp.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Np.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(ip,{MIN:{value:new ip(ef,Np.EMPTY_NODE)},MAX:{value:new ip(tf,Rp)}}),ap.__EMPTY_NODE=Np.EMPTY_NODE,wp.__childrenNodeConstructor=Np,pp=Rp,function(e){_p=e}(Rp);function Pp(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(null===e)return Np.EMPTY_NODE;if("object"===typeof e&&".priority"in e&&(t=e[".priority"]),Ml(null===t||"string"===typeof t||"number"===typeof t||"object"===typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"===typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!==typeof e||".sv"in e){return new wp(e,Pp(t))}if(e instanceof Array){let n=Np.EMPTY_NODE;return lf(e,((t,r)=>{if(_c(e,t)&&"."!==t.substring(0,1)){const e=Pp(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}})),n.updatePriority(Pp(t))}{const n=[];let r=!1;if(lf(e,((e,t)=>{if("."!==e.substring(0,1)){const i=Pp(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new ip(e,i)))}})),0===n.length)return Np.EMPTY_NODE;const i=kp(n,dp,(e=>e.name),fp);if(r){const e=kp(n,bp.getCompare());return new Np(i,Pp(t),new xp({".priority":e},{".priority":bp}))}return new Np(i,Pp(t),xp.Default)}}!function(e){vp=e}(Pp);class Op extends sp{constructor(e){super(),this.indexPath_=e,Ml(!Kf(e)&&".priority"!==zf(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?nf(e.name,t.name):i}makePost(e,t){const n=Pp(e),r=Np.EMPTY_NODE.updateChild(this.indexPath_,n);return new ip(t,r)}maxPost(){const e=Np.EMPTY_NODE.updateChild(this.indexPath_,Rp);return new ip(tf,e)}toString(){return Hf(this.indexPath_,0).join("/")}}const Ap=new class extends sp{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?nf(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return ip.MIN}maxPost(){return ip.MAX}makePost(e,t){const n=Pp(e);return new ip(t,n)}toString(){return".value"}};function Dp(e){return{type:"value",snapshotNode:e}}function Mp(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function Lp(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function Fp(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class jp{constructor(e){this.index_=e}updateChild(e,t,n,r,i,s){Ml(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(t);return o.getChild(r).equals(n.getChild(r))&&o.isEmpty()===n.isEmpty()?e:(null!=s&&(n.isEmpty()?e.hasChild(t)?s.trackChildChange(Lp(t,o)):Ml(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?s.trackChildChange(Mp(t,n)):s.trackChildChange(Fp(t,n,o))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(bp,((e,r)=>{t.hasChild(e)||n.trackChildChange(Lp(e,r))})),t.isLeafNode()||t.forEachChild(bp,((t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(Fp(t,r,i))}else n.trackChildChange(Mp(t,r))}))),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?Np.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class Up{constructor(e){this.indexedFilter_=new jp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Up.getStartPost_(e),this.endPost_=Up.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const t=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return t&&n}updateChild(e,t,n,r,i,s){return this.matches(new ip(t,n))||(n=Np.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,s)}updateFullNode(e,t,n){t.isLeafNode()&&(t=Np.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(Np.EMPTY_NODE);const i=this;return t.forEachChild(bp,((e,t)=>{i.matches(new ip(e,t))||(r=r.updateImmediateChild(e,Np.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class Vp{constructor(e){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const t=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?t<=0:t<0},this.withinEndPost=e=>{const t=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?t<=0:t<0},this.rangedFilter_=new Up(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,t,n,r,i,s){return this.rangedFilter_.matches(new ip(t,n))||(n=Np.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,s):this.fullLimitUpdateChild_(e,t,n,i,s)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=Np.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=Np.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();if(this.withinDirectionalStart(t)){if(!this.withinDirectionalEnd(t))break;r=r.updateImmediateChild(t.name,t.node),n++}}}else{let e;r=t.withIndex(this.index_),r=r.updatePriority(Np.EMPTY_NODE),e=this.reverse_?r.getReverseIterator(this.index_):r.getIterator(this.index_);let n=0;for(;e.hasNext();){const t=e.getNext();n<this.limit_&&this.withinDirectionalStart(t)&&this.withinDirectionalEnd(t)?n++:r=r.updateImmediateChild(t.name,Np.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let s;if(this.reverse_){const e=this.index_.getCompare();s=(t,n)=>e(n,t)}else s=this.index_.getCompare();const o=e;Ml(o.numChildren()===this.limit_,"");const a=new ip(t,n),l=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),c=this.rangedFilter_.matches(a);if(o.hasChild(t)){const e=o.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,l,this.reverse_);for(;null!=u&&(u.name===t||o.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:s(u,a);if(c&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(Fp(t,n,e)),o.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(Lp(t,e));const n=o.updateImmediateChild(t,Np.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(Mp(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:c&&s(l,a)>=0?(null!=i&&(i.trackChildChange(Lp(l.name,l.node)),i.trackChildChange(Mp(t,n))),o.updateImmediateChild(t,n).updateImmediateChild(l.name,Np.EMPTY_NODE)):e}}class zp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=bp}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return Ml(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ml(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ef}hasEnd(){return this.endSet_}getIndexEndValue(){return Ml(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ml(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:tf}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return Ml(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===bp}copy(){const e=new zp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function $p(e){const t={};if(e.isDefault())return t;let n;if(e.index_===bp?n="$priority":e.index_===Ap?n="$value":e.index_===lp?n="$key":(Ml(e.index_ instanceof Op,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=yc(n),e.startSet_){const n=e.startAfterSet_?"startAfter":"startAt";t[n]=yc(e.indexStartValue_),e.startNameSet_&&(t[n]+=","+yc(e.indexStartName_))}if(e.endSet_){const n=e.endBeforeSet_?"endBefore":"endAt";t[n]=yc(e.indexEndValue_),e.endNameSet_&&(t[n]+=","+yc(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function qp(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==bp&&(t.i=e.index_.toString()),t}class Bp extends Lf{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:(Ml(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=Gd("p:rest:"),this.listens_={}}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const s=Bp.getListenId_(e,n),o={};this.listens_[s]=o;const a=$p(e._queryParams);this.restRequest_(i+".json",a,((e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),wc(this.listens_,s)===o){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}}))}unlisten(e,t){const n=Bp.getListenId_(e,t);delete this.listens_[n]}get(e){const t=$p(e._queryParams),n=e._path.toString(),r=new Jl;return this.restRequest_(n+".json",t,((e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))})),r.promise}refreshAuthToken(e){}restRequest_(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then((r=>{let[i,s]=r;i&&i.accessToken&&(t.auth=i.accessToken),s&&s.token&&(t.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Cc(t);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(n&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let e=null;if(a.status>=200&&a.status<300){try{e=gc(a.responseText)}catch(fO){Xd("Failed to parse JSON response for "+o+": "+a.responseText)}n(null,e)}else 401!==a.status&&404!==a.status&&Xd("Got unsuccessful REST response for "+o+" Status: "+a.status),n(a.status);n=null}},a.open("GET",o,!0),a.send()}))}}class Hp{constructor(){this.rootNode_=Np.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Wp(){return{value:null,children:new Map}}function Yp(e,t,n){if(Kf(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=zf(t);e.children.has(r)||e.children.set(r,Wp());Yp(e.children.get(r),t=qf(t),n)}}function Kp(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach(((e,n)=>{t(n,e)}))}(e,((e,r)=>{Kp(r,new Uf(t.toString()+"/"+e),n)}))}class Gp{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&lf(this.last_,((e,n)=>{t[e]=t[e]-n})),this.last_=e,t}}class Qp{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new Gp(e);const n=1e4+2e4*Math.random();ff(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;lf(e,((e,r)=>{r>0&&_c(this.statsToReport_,e)&&(t[e]=r,n=!0)})),n&&this.server_.reportStats(t),ff(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Jp;function Xp(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}!function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(Jp||(Jp={}));class Zp{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=Jp.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Kf(this.path)){if(null!=this.affectedTree.value)return Ml(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new Uf(e));return new Zp(Vf(),t,this.revert)}}return Ml(zf(this.path)===e,"operationForChild called for unrelated child."),new Zp(qf(this.path),this.affectedTree,this.revert)}}class em{constructor(e,t){this.source=e,this.path=t,this.type=Jp.LISTEN_COMPLETE}operationForChild(e){return Kf(this.path)?new em(this.source,Vf()):new em(this.source,qf(this.path))}}class tm{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=Jp.OVERWRITE}operationForChild(e){return Kf(this.path)?new tm(this.source,Vf(),this.snap.getImmediateChild(e)):new tm(this.source,qf(this.path),this.snap)}}class nm{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=Jp.MERGE}operationForChild(e){if(Kf(this.path)){const t=this.children.subtree(new Uf(e));return t.isEmpty()?null:t.value?new tm(this.source,Vf(),t.value):new nm(this.source,Vf(),t)}return Ml(zf(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nm(this.source,qf(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class rm{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Kf(e))return this.isFullyInitialized()&&!this.filtered_;const t=zf(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class im{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function sm(e,t,n,r,i,s){const o=r.filter((e=>e.type===n));o.sort(((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw Ll("Should only compare child_ events.");const r=new ip(t.childName,t.snapshotNode),i=new ip(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n))),o.forEach((n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,s);i.forEach((i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))}))}))}function om(e,t){return{eventCache:e,serverCache:t}}function am(e,t,n,r){return om(new rm(t,n,r),e.serverCache)}function lm(e,t,n,r){return om(e.eventCache,new rm(t,n,r))}function cm(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function um(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let hm;class dm{static fromObject(e){let t=new dm(null);return lf(e,((e,n)=>{t=t.set(new Uf(e),n)})),t}constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(hm||(hm=new hp(rf)),hm);this.value=e,this.children=t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Vf(),value:this.value};if(Kf(e))return null;{const n=zf(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue(qf(e),t);if(null!=i){return{path:Yf(new Uf(n),i.path),value:i.value}}return null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,(()=>!0))}subtree(e){if(Kf(e))return this;{const t=zf(e),n=this.children.get(t);return null!==n?n.subtree(qf(e)):new dm(null)}}set(e,t){if(Kf(e))return new dm(t,this.children);{const n=zf(e),r=(this.children.get(n)||new dm(null)).set(qf(e),t),i=this.children.insert(n,r);return new dm(this.value,i)}}remove(e){if(Kf(e))return this.children.isEmpty()?new dm(null):new dm(null,this.children);{const t=zf(e),n=this.children.get(t);if(n){const r=n.remove(qf(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new dm(null):new dm(this.value,i)}return this}}get(e){if(Kf(e))return this.value;{const t=zf(e),n=this.children.get(t);return n?n.get(qf(e)):null}}setTree(e,t){if(Kf(e))return t;{const n=zf(e),r=(this.children.get(n)||new dm(null)).setTree(qf(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new dm(this.value,i)}}fold(e){return this.fold_(Vf(),e)}fold_(e,t){const n={};return this.children.inorderTraversal(((r,i)=>{n[r]=i.fold_(Yf(e,r),t)})),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,Vf(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(Kf(e))return null;{const r=zf(e),i=this.children.get(r);return i?i.findOnPath_(qf(e),Yf(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Vf(),t)}foreachOnPath_(e,t,n){if(Kf(e))return this;{this.value&&n(t,this.value);const r=zf(e),i=this.children.get(r);return i?i.foreachOnPath_(qf(e),Yf(t,r),n):new dm(null)}}foreach(e){this.foreach_(Vf(),e)}foreach_(e,t){this.children.inorderTraversal(((n,r)=>{r.foreach_(Yf(e,n),t)})),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal(((t,n)=>{n.value&&e(t,n.value)}))}}class fm{constructor(e){this.writeTree_=e}static empty(){return new fm(new dm(null))}}function pm(e,t,n){if(Kf(t))return new fm(new dm(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let s=r.value;const o=Gf(i,t);return s=s.updateChild(o,n),new fm(e.writeTree_.set(i,s))}{const r=new dm(n),i=e.writeTree_.setTree(t,r);return new fm(i)}}}function mm(e,t,n){let r=e;return lf(n,((e,n)=>{r=pm(r,Yf(t,e),n)})),r}function gm(e,t){if(Kf(t))return fm.empty();{const n=e.writeTree_.setTree(t,new dm(null));return new fm(n)}}function ym(e,t){return null!=vm(e,t)}function vm(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(Gf(n.path,t)):null}function _m(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(bp,((e,n)=>{t.push(new ip(e,n))})):e.writeTree_.children.inorderTraversal(((e,n)=>{null!=n.value&&t.push(new ip(e,n.value))})),t}function wm(e,t){if(Kf(t))return e;{const n=vm(e,t);return new fm(null!=n?new dm(n):e.writeTree_.subtree(t))}}function bm(e){return e.writeTree_.isEmpty()}function Em(e,t){return Sm(Vf(),e.writeTree_,t)}function Sm(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal(((t,i)=>{".priority"===t?(Ml(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=Sm(Yf(e,t),i,n)})),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(Yf(e,".priority"),r)),n}}function km(e,t){return Fm(t,e)}function Cm(e,t){const n=e.allWrites.findIndex((e=>e.writeId===t));Ml(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const t=e.allWrites[o];t.visible&&(o>=n&&Tm(t,r.path)?i=!1:Jf(r.path,t.path)&&(s=!0)),o--}if(i){if(s)return function(e){e.visibleWrites=Im(e.allWrites,xm,Vf()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}(e),!0;if(r.snap)e.visibleWrites=gm(e.visibleWrites,r.path);else{lf(r.children,(t=>{e.visibleWrites=gm(e.visibleWrites,Yf(r.path,t))}))}return!0}return!1}function Tm(e,t){if(e.snap)return Jf(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Jf(Yf(e.path,n),t))return!0;return!1}function xm(e){return e.visible}function Im(e,t,n){let r=fm.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const e=s.path;let t;if(s.snap)Jf(n,e)?(t=Gf(n,e),r=pm(r,t,s.snap)):Jf(e,n)&&(t=Gf(e,n),r=pm(r,Vf(),s.snap.getChild(t)));else{if(!s.children)throw Ll("WriteRecord should have .snap or .children");if(Jf(n,e))t=Gf(n,e),r=mm(r,t,s.children);else if(Jf(e,n))if(t=Gf(e,n),Kf(t))r=mm(r,Vf(),s.children);else{const e=wc(s.children,zf(t));if(e){const n=e.getChild(qf(t));r=pm(r,Vf(),n)}}}}}return r}function Nm(e,t,n,r,i){if(r||i){const s=wm(e.visibleWrites,t);if(!i&&bm(s))return n;if(i||null!=n||ym(s,Vf())){const s=function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(Jf(e.path,t)||Jf(t,e.path))};return Em(Im(e.allWrites,s,t),n||Np.EMPTY_NODE)}return null}{const r=vm(e.visibleWrites,t);if(null!=r)return r;{const r=wm(e.visibleWrites,t);if(bm(r))return n;if(null!=n||ym(r,Vf())){return Em(r,n||Np.EMPTY_NODE)}return null}}}function Rm(e,t,n,r){return Nm(e.writeTree,e.treePath,t,n,r)}function Pm(e,t){return function(e,t,n){let r=Np.EMPTY_NODE;const i=vm(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(bp,((e,t)=>{r=r.updateImmediateChild(e,t)})),r;if(n){const i=wm(e.visibleWrites,t);return n.forEachChild(bp,((e,t)=>{const n=Em(wm(i,new Uf(e)),t);r=r.updateImmediateChild(e,n)})),_m(i).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}return _m(wm(e.visibleWrites,t)).forEach((e=>{r=r.updateImmediateChild(e.name,e.node)})),r}(e.writeTree,e.treePath,t)}function Om(e,t,n,r){return function(e,t,n,r,i){Ml(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Yf(t,n);if(ym(e.visibleWrites,s))return null;{const t=wm(e.visibleWrites,s);return bm(t)?i.getChild(n):Em(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function Am(e,t){return function(e,t){return vm(e.visibleWrites,t)}(e.writeTree,Yf(e.treePath,t))}function Dm(e,t,n,r,i,s){return function(e,t,n,r,i,s,o){let a;const l=wm(e.visibleWrites,t),c=vm(l,Vf());if(null!=c)a=c;else{if(null==n)return[];a=Em(l,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=o.getCompare(),n=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let l=n.getNext();for(;l&&e.length<i;)0!==t(l,r)&&e.push(l),l=n.getNext();return e}}(e.writeTree,e.treePath,t,n,r,i,s)}function Mm(e,t,n){return function(e,t,n,r){const i=Yf(t,n),s=vm(e.visibleWrites,i);if(null!=s)return s;if(r.isCompleteForChild(n))return Em(wm(e.visibleWrites,i),r.getNode().getImmediateChild(n));return null}(e.writeTree,e.treePath,t,n)}function Lm(e,t){return Fm(Yf(e.treePath,t),e.writeTree)}function Fm(e,t){return{treePath:e,writeTree:t}}class jm{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;Ml("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),Ml(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,Fp(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,Lp(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,Mp(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw Ll("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,Fp(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const Um=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class Vm{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new rm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Mm(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:um(this.viewCache_),i=Dm(this.writes_,r,t,1,n,e);return 0===i.length?null:i[0]}}function zm(e,t,n,r,i){const s=new jm;let o,a;if(n.type===Jp.OVERWRITE){const l=n;l.source.fromUser?o=Bm(e,t,l.path,l.snap,r,i,s):(Ml(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered()&&!Kf(l.path),o=qm(e,t,l.path,l.snap,r,i,a,s))}else if(n.type===Jp.MERGE){const l=n;l.source.fromUser?o=function(e,t,n,r,i,s,o){let a=t;return r.foreach(((r,l)=>{const c=Yf(n,r);Hm(t,zf(c))&&(a=Bm(e,a,c,l,i,s,o))})),r.foreach(((r,l)=>{const c=Yf(n,r);Hm(t,zf(c))||(a=Bm(e,a,c,l,i,s,o))})),a}(e,t,l.path,l.children,r,i,s):(Ml(l.source.fromServer,"Unknown source."),a=l.source.tagged||t.serverCache.isFiltered(),o=Ym(e,t,l.path,l.children,r,i,a,s))}else if(n.type===Jp.ACK_USER_WRITE){const a=n;o=a.revert?function(e,t,n,r,i,s){let o;if(null!=Am(r,n))return t;{const a=new Vm(r,t,i),l=t.eventCache.getNode();let c;if(Kf(n)||".priority"===zf(n)){let n;if(t.serverCache.isFullyInitialized())n=Rm(r,um(t));else{const e=t.serverCache.getNode();Ml(e instanceof Np,"serverChildren would be complete if leaf node"),n=Pm(r,e)}c=e.filter.updateFullNode(l,n,s)}else{const i=zf(n);let u=Mm(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=l.getImmediateChild(i)),c=null!=u?e.filter.updateChild(l,i,u,qf(n),a,s):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(l,i,Np.EMPTY_NODE,qf(n),a,s):l,c.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=Rm(r,um(t)),o.isLeafNode()&&(c=e.filter.updateFullNode(c,o,s)))}return o=t.serverCache.isFullyInitialized()||null!=Am(r,Vf()),am(t,c,o,e.filter.filtersNodes())}}(e,t,a.path,r,i,s):function(e,t,n,r,i,s,o){if(null!=Am(i,n))return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(null!=r.value){if(Kf(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return qm(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Kf(n)){let r=new dm(null);return l.getNode().forEachChild(lp,((e,t)=>{r=r.set(new Uf(e),t)})),Ym(e,t,n,r,i,s,a,o)}return t}{let c=new dm(null);return r.foreach(((e,t)=>{const r=Yf(n,e);l.isCompleteForPath(r)&&(c=c.set(e,l.getNode().getChild(r)))})),Ym(e,t,n,c,i,s,a,o)}}(e,t,a.path,a.affectedTree,r,i,s)}else{if(n.type!==Jp.LISTEN_COMPLETE)throw Ll("Unknown operation type: "+n.type);o=function(e,t,n,r,i){const s=t.serverCache,o=lm(t,s.getNode(),s.isFullyInitialized()||Kf(n),s.isFiltered());return $m(e,o,n,r,Um,i)}(e,t,n.path,r,s)}const l=s.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=cm(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(Dp(cm(t)))}}(t,o,l),{viewCache:o,changes:l}}function $m(e,t,n,r,i,s){const o=t.eventCache;if(null!=Am(r,n))return t;{let a,l;if(Kf(n))if(Ml(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=um(t),i=Pm(r,n instanceof Np?n:Np.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,s)}else{const n=Rm(r,um(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,s)}else{const c=zf(n);if(".priority"===c){Ml(1===$f(n),"Can't have a priority with additional path components");const i=o.getNode();l=t.serverCache.getNode();const s=Om(r,n,i,l);a=null!=s?e.filter.updatePriority(i,s):o.getNode()}else{const u=qf(n);let h;if(o.isCompleteForChild(c)){l=t.serverCache.getNode();const e=Om(r,n,o.getNode(),l);h=null!=e?o.getNode().getImmediateChild(c).updateChild(u,e):o.getNode().getImmediateChild(c)}else h=Mm(r,c,t.serverCache);a=null!=h?e.filter.updateChild(o.getNode(),c,h,u,i,s):o.getNode()}}return am(t,a,o.isFullyInitialized()||Kf(n),e.filter.filtersNodes())}}function qm(e,t,n,r,i,s,o,a){const l=t.serverCache;let c;const u=o?e.filter:e.filter.getIndexedFilter();if(Kf(n))c=u.updateFullNode(l.getNode(),r,null);else if(u.filtersNodes()&&!l.isFiltered()){const e=l.getNode().updateChild(n,r);c=u.updateFullNode(l.getNode(),e,null)}else{const e=zf(n);if(!l.isCompleteForPath(n)&&$f(n)>1)return t;const i=qf(n),s=l.getNode().getImmediateChild(e).updateChild(i,r);c=".priority"===e?u.updatePriority(l.getNode(),s):u.updateChild(l.getNode(),e,s,i,Um,null)}const h=lm(t,c,l.isFullyInitialized()||Kf(n),u.filtersNodes());return $m(e,h,n,i,new Vm(i,h,s),a)}function Bm(e,t,n,r,i,s,o){const a=t.eventCache;let l,c;const u=new Vm(i,t,s);if(Kf(n))c=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=am(t,c,!0,e.filter.filtersNodes());else{const i=zf(n);if(".priority"===i)c=e.filter.updatePriority(t.eventCache.getNode(),r),l=am(t,c,a.isFullyInitialized(),a.isFiltered());else{const s=qf(n),c=a.getNode().getImmediateChild(i);let h;if(Kf(s))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===Bf(s)&&e.getChild(Wf(s)).isEmpty()?e:e.updateChild(s,r):Np.EMPTY_NODE}if(c.equals(h))l=t;else{l=am(t,e.filter.updateChild(a.getNode(),i,h,s,u,o),a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function Hm(e,t){return e.eventCache.isCompleteForChild(t)}function Wm(e,t,n){return n.foreach(((e,n)=>{t=t.updateChild(e,n)})),t}function Ym(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l,c=t;l=Kf(n)?r:new dm(null).setTree(n,r);const u=t.serverCache.getNode();return l.children.inorderTraversal(((n,r)=>{if(u.hasChild(n)){const l=Wm(0,t.serverCache.getNode().getImmediateChild(n),r);c=qm(e,c,new Uf(n),l,i,s,o,a)}})),l.children.inorderTraversal(((n,r)=>{const l=!t.serverCache.isCompleteForChild(n)&&null===r.value;if(!u.hasChild(n)&&!l){const l=Wm(0,t.serverCache.getNode().getImmediateChild(n),r);c=qm(e,c,new Uf(n),l,i,s,o,a)}})),c}class Km{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new jp(n.getIndex()),i=(s=n).loadsAllData()?new jp(s.getIndex()):s.hasLimit()?new Vp(s):new Up(s);var s;this.processor_=function(e){return{filter:e}}(i);const o=t.serverCache,a=t.eventCache,l=r.updateFullNode(Np.EMPTY_NODE,o.getNode(),null),c=i.updateFullNode(Np.EMPTY_NODE,a.getNode(),null),u=new rm(l,o.isFullyInitialized(),r.filtersNodes()),h=new rm(c,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=om(h,u),this.eventGenerator_=new im(this.query_)}get query(){return this.query_}}function Gm(e,t){const n=um(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Kf(t)&&!n.getImmediateChild(zf(t)).isEmpty())?n.getChild(t):null}function Qm(e){return 0===e.eventRegistrations_.length}function Jm(e,t,n){const r=[];if(n){Ml(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach((e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)}))}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function Xm(e,t,n,r){t.type===Jp.MERGE&&null!==t.source.queryId&&(Ml(um(e.viewCache_),"We should always have a full cache before handling merges"),Ml(cm(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=zm(e.processor_,i,t,n,r);var o,a;return o=e.processor_,a=s.viewCache,Ml(a.eventCache.getNode().isIndexed(o.filter.getIndex()),"Event snap not indexed"),Ml(a.serverCache.getNode().isIndexed(o.filter.getIndex()),"Server snap not indexed"),Ml(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,Zm(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Zm(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return function(e,t,n,r){const i=[],s=[];return t.forEach((t=>{var n;"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&s.push((n=t.childName,{type:"child_moved",snapshotNode:t.snapshotNode,childName:n}))})),sm(e,i,"child_removed",t,r,n),sm(e,i,"child_added",t,r,n),sm(e,i,"child_moved",s,r,n),sm(e,i,"child_changed",t,r,n),sm(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,i)}let eg,tg;class ng{constructor(){this.views=new Map}}function rg(e,t,n,r){const i=t.source.queryId;if(null!==i){const s=e.views.get(i);return Ml(null!=s,"SyncTree gave us an op for an invalid query."),Xm(s,t,n,r)}{let i=[];for(const s of e.views.values())i=i.concat(Xm(s,t,n,r));return i}}function ig(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let e=Rm(n,i?r:null),s=!1;e?s=!0:r instanceof Np?(e=Pm(n,r),s=!1):(e=Np.EMPTY_NODE,s=!1);const o=om(new rm(e,s,!1),new rm(r,i,!1));return new Km(t,o)}return o}function sg(e,t,n,r,i,s){const o=ig(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),function(e,t){e.eventRegistrations_.push(t)}(o,n),function(e,t){const n=e.viewCache_.eventCache,r=[];n.getNode().isLeafNode()||n.getNode().forEachChild(bp,((e,t)=>{r.push(Mp(e,t))}));return n.isFullyInitialized()&&r.push(Dp(n.getNode())),Zm(e,r,n.getNode(),t)}(o,n)}function og(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=hg(e);if("default"===i)for(const[l,c]of e.views.entries())o=o.concat(Jm(c,n,r)),Qm(c)&&(e.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const t=e.views.get(i);t&&(o=o.concat(Jm(t,n,r)),Qm(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||s.push(t.query)))}return a&&!hg(e)&&s.push(new(Ml(eg,"Reference.ts has not been loaded"),eg)(t._repo,t._path)),{removed:s,events:o}}function ag(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function lg(e,t){let n=null;for(const r of e.views.values())n=n||Gm(r,t);return n}function cg(e,t){if(t._queryParams.loadsAllData())return dg(e);{const n=t._queryIdentifier;return e.views.get(n)}}function ug(e,t){return null!=cg(e,t)}function hg(e){return null!=dg(e)}function dg(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let fg=1;class pg{constructor(e){this.listenProvider_=e,this.syncPointTree_=new dm(null),this.pendingWriteTree_={visibleWrites:fm.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function mg(e,t,n,r,i){return function(e,t,n,r,i){Ml(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=pm(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?Sg(e,new tm({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function gg(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(Cm(e.pendingWriteTree_,t)){let t=new dm(null);return null!=r.snap?t=t.set(Vf(),!0):lf(r.children,(e=>{t=t.set(new Uf(e),!0)})),Sg(e,new Zp(r.path,t,n))}return[]}function yg(e,t,n){return Sg(e,new tm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function vg(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&("default"===t._queryIdentifier||ug(o,t))){const l=og(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const n=-1!==c.findIndex((e=>e._queryParams.loadsAllData())),i=e.syncPointTree_.findOnPath(s,((e,t)=>hg(t)));if(n&&!i){const t=e.syncPointTree_.subtree(s);if(!t.isEmpty()){const n=function(e){return e.fold(((e,t,n)=>{if(t&&hg(t)){return[dg(t)]}{let e=[];return t&&(e=ag(t)),lf(n,((t,n)=>{e=e.concat(n)})),e}}))}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,s=Tg(e,r);e.listenProvider_.startListening(Og(i),xg(e,i),s.hashFn,s.onComplete)}}}if(!i&&c.length>0&&!r)if(n){const n=null;e.listenProvider_.stopListening(Og(t),n)}else c.forEach((t=>{const n=e.queryToTagMap.get(Ig(t));e.listenProvider_.stopListening(Og(t),n)}))}!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=Ig(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return a}function _g(e,t,n,r){const i=Ng(e,r);if(null!=i){const r=Rg(i),s=r.path,o=r.queryId,a=Gf(s,t);return Pg(e,s,new tm(Xp(o),a,n))}return[]}function wg(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,((e,t)=>{const n=Gf(e,i);s=s||lg(t,n),o=o||hg(t)}));let a,l=e.syncPointTree_.get(i);if(l?(o=o||hg(l),s=s||lg(l,Vf())):(l=new ng,e.syncPointTree_=e.syncPointTree_.set(i,l)),null!=s)a=!0;else{a=!1,s=Np.EMPTY_NODE;e.syncPointTree_.subtree(i).foreachChild(((e,t)=>{const n=lg(t,Vf());n&&(s=s.updateImmediateChild(e,n))}))}const c=ug(l,t);if(!c&&!t._queryParams.loadsAllData()){const n=Ig(t);Ml(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=fg++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let u=sg(l,t,n,km(e.pendingWriteTree_,i),s,a);if(!c&&!o&&!r){const n=cg(l,t);u=u.concat(function(e,t,n){const r=t._path,i=xg(e,t),s=Tg(e,n),o=e.listenProvider_.startListening(Og(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ml(!hg(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold(((e,t,n)=>{if(!Kf(e)&&t&&hg(t))return[dg(t).query];{let e=[];return t&&(e=e.concat(ag(t).map((e=>e.query)))),lf(n,((t,n)=>{e=e.concat(n)})),e}}));for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(Og(r),xg(e,r))}}return o}(e,t,n))}return u}function bg(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,((e,n)=>{const r=lg(n,Gf(e,t));if(r)return r}));return Nm(r,t,i,n,!0)}function Eg(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,((e,t)=>{const i=Gf(e,n);r=r||lg(t,i)}));let i=e.syncPointTree_.get(n);i?r=r||lg(i,Vf()):(i=new ng,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=null!=r,o=s?new rm(r,!0,!1):null;return function(e){return cm(e.viewCache_)}(ig(i,t,km(e.pendingWriteTree_,t._path),s?o.getNode():Np.EMPTY_NODE,s))}function Sg(e,t){return kg(t,e.syncPointTree_,null,km(e.pendingWriteTree_,Vf()))}function kg(e,t,n,r){if(Kf(e.path))return Cg(e,t,n,r);{const i=t.get(Vf());null==n&&null!=i&&(n=lg(i,Vf()));let s=[];const o=zf(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const e=n?n.getImmediateChild(o):null,t=Lm(r,o);s=s.concat(kg(a,l,e,t))}return i&&(s=s.concat(rg(i,e,r,n))),s}}function Cg(e,t,n,r){const i=t.get(Vf());null==n&&null!=i&&(n=lg(i,Vf()));let s=[];return t.children.inorderTraversal(((t,i)=>{const o=n?n.getImmediateChild(t):null,a=Lm(r,t),l=e.operationForChild(t);l&&(s=s.concat(Cg(l,i,o,a)))})),i&&(s=s.concat(rg(i,e,r,n))),s}function Tg(e,t){const n=t.query,r=xg(e,n);return{hashFn:()=>{const e=function(e){return e.viewCache_.serverCache.getNode()}(t)||Np.EMPTY_NODE;return e.hash()},onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=Ng(e,n);if(r){const n=Rg(r),i=n.path,s=n.queryId,o=Gf(i,t);return Pg(e,i,new em(Xp(s),o))}return[]}(e,n._path,r):function(e,t){return Sg(e,new em({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return vg(e,n,null,r)}}}}function xg(e,t){const n=Ig(t);return e.queryToTagMap.get(n)}function Ig(e){return e._path.toString()+"$"+e._queryIdentifier}function Ng(e,t){return e.tagToQueryMap.get(t)}function Rg(e){const t=e.indexOf("$");return Ml(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new Uf(e.substr(0,t))}}function Pg(e,t,n){const r=e.syncPointTree_.get(t);Ml(r,"Missing sync point for query tag that we're tracking");return rg(r,n,km(e.pendingWriteTree_,t),null)}function Og(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Ml(tg,"Reference.ts has not been loaded"),tg)(e._repo,e._path):e}class Ag{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new Ag(t)}node(){return this.node_}}class Dg{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=Yf(this.path_,e);return new Dg(this.syncTree_,t)}node(){return bg(this.syncTree_,this.path_)}}const Mg=function(e,t,n){return e&&"object"===typeof e?(Ml(".sv"in e,"Unexpected leaf node or priority contents"),"string"===typeof e[".sv"]?Lg(e[".sv"],t,n):"object"===typeof e[".sv"]?Fg(e[".sv"],t):void Ml(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},Lg=function(e,t,n){if("timestamp"===e)return n.timestamp;Ml(!1,"Unexpected server value: "+e)},Fg=function(e,t,n){e.hasOwnProperty("increment")||Ml(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!==typeof r&&Ml(!1,"Unexpected increment value: "+r);const i=t.node();if(Ml(null!==i&&"undefined"!==typeof i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const s=i.getValue();return"number"!==typeof s?r:s+r},jg=function(e,t,n,r){return Vg(t,new Dg(n,e),r)},Ug=function(e,t,n){return Vg(e,new Ag(t),n)};function Vg(e,t,n){const r=e.getPriority().val(),i=Mg(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const r=e,s=Mg(r.getValue(),t,n);return s!==r.getValue()||i!==r.getPriority().val()?new wp(s,Pp(i)):e}{const r=e;return s=r,i!==r.getPriority().val()&&(s=s.updatePriority(new wp(i))),r.forEachChild(bp,((e,r)=>{const i=Vg(r,t.getImmediateChild(e),n);i!==r&&(s=s.updateImmediateChild(e,i))})),s}}class zg{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{children:{},childCount:0};this.name=e,this.parent=t,this.node=n}}function $g(e,t){let n=t instanceof Uf?t:new Uf(t),r=e,i=zf(n);for(;null!==i;){const e=wc(r.node.children,i)||{children:{},childCount:0};r=new zg(i,r,e),n=qf(n),i=zf(n)}return r}function qg(e){return e.node.value}function Bg(e,t){e.node.value=t,Gg(e)}function Hg(e){return e.node.childCount>0}function Wg(e,t){lf(e.node.children,((n,r)=>{t(new zg(n,e,r))}))}function Yg(e,t,n,r){n&&!r&&t(e),Wg(e,(e=>{Yg(e,t,!0,r)})),n&&r&&t(e)}function Kg(e){return new Uf(null===e.parent?e.name:Kg(e.parent)+"/"+e.name)}function Gg(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===qg(e)&&!Hg(e)}(n),i=_c(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,Gg(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,Gg(e))}(e.parent,e.name,e)}const Qg=/[\[\].#$\/\u0000-\u001F\u007F]/,Jg=/[\[\].#$\u0000-\u001F\u007F]/,Xg=10485760,Zg=function(e){return"string"===typeof e&&0!==e.length&&!Qg.test(e)},ey=function(e){return"string"===typeof e&&0!==e.length&&!Jg.test(e)},ty=function(e,t,n,r){r&&void 0===t||ny(Pc(e,"value"),t,n)},ny=function(e,t,n){const r=n instanceof Uf?new Xf(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+ep(r));if("function"===typeof t)throw new Error(e+"contains a function "+ep(r)+" with contents = "+t.toString());if(Zd(t))throw new Error(e+"contains "+t.toString()+" "+ep(r));if("string"===typeof t&&t.length>Xg/3&&Oc(t)>Xg)throw new Error(e+"contains a string greater than "+Xg+" utf8 bytes "+ep(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"===typeof t){let n=!1,i=!1;if(lf(t,((t,s)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!Zg(t)))throw new Error(e+" contains an invalid key ("+t+") "+ep(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');!function(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=Oc(t),Zf(e)}(r,t),ny(e,s,r),function(e){const t=e.parts_.pop();e.byteLength_-=Oc(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)})),n&&i)throw new Error(e+' contains ".value" child '+ep(r)+" in addition to actual children.")}},ry=function(e,t,n,r){if((!r||void 0!==n)&&!ey(n))throw new Error(Pc(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},iy=function(e,t){if(".info"===zf(t))throw new Error(e+" failed = Can't modify data under /.info/")},sy=function(e,t){const n=t.path.toString();if("string"!==typeof t.repoInfo.host||0===t.repoInfo.host.length||!Zg(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),ey(e)}(n))throw new Error(Pc(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class oy{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function ay(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();null===n||Qf(s,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function ly(e,t,n){ay(e,n),uy(e,(e=>Qf(e,t)))}function cy(e,t,n){ay(e,n),uy(e,(e=>Jf(e,t)||Jf(t,e)))}function uy(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){t(i.path)?(hy(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function hy(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();Hd&&Kd("event: "+n.toString()),df(r)}}}const dy="repo_interrupt";class fy{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new oy,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wp(),this.transactionQueueTree_=new zg,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function py(e,t,n){if(e.stats_=xf(e.repoInfo_),e.forceRestClient_||("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new Bp(e.repoInfo_,((t,n,r,i)=>{yy(e,t,n,r,i)}),e.authTokenProvider_,e.appCheckProvider_),setTimeout((()=>vy(e,!0)),0);else{if("undefined"!==typeof n&&null!==n){if("object"!==typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{yc(n)}catch(fO){throw new Error("Invalid authOverride provided: "+fO)}}e.persistentConnection_=new rp(e.repoInfo_,t,((t,n,r,i)=>{yy(e,t,n,r,i)}),(t=>{vy(e,t)}),(t=>{!function(e,t){lf(t,((t,n)=>{_y(e,t,n)}))}(e,t)}),e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener((t=>{e.server_.refreshAuthToken(t)})),e.appCheckProvider_.addTokenChangeListener((t=>{e.server_.refreshAppCheckToken(t.token)})),e.statsReporter_=function(e,t){const n=e.toString();return Tf[n]||(Tf[n]=t()),Tf[n]}(e.repoInfo_,(()=>new Qp(e.stats_,e.server_))),e.infoData_=new Hp,e.infoSyncTree_=new pg({startListening:(t,n,r,i)=>{let s=[];const o=e.infoData_.getNode(t._path);return o.isEmpty()||(s=yg(e.infoSyncTree_,t._path,o),setTimeout((()=>{i("ok")}),0)),s},stopListening:()=>{}}),_y(e,"connected",!1),e.serverSyncTree_=new pg({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,((n,r)=>{const s=i(n,r);cy(e.eventQueue_,t._path,s)})),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}function my(e){const t=e.infoData_.getNode(new Uf(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function gy(e){return(t=(t={timestamp:my(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function yy(e,t,n,r,i){e.dataUpdateCount++;const s=new Uf(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const t=Ec(n,(e=>Pp(e)));o=function(e,t,n,r){const i=Ng(e,r);if(i){const r=Rg(i),s=r.path,o=r.queryId,a=Gf(s,t),l=dm.fromObject(n);return Pg(e,s,new nm(Xp(o),a,l))}return[]}(e.serverSyncTree_,s,t,i)}else{const t=Pp(n);o=_g(e.serverSyncTree_,s,t,i)}else if(r){const t=Ec(n,(e=>Pp(e)));o=function(e,t,n){const r=dm.fromObject(n);return Sg(e,new nm({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,s,t)}else{const t=Pp(n);o=yg(e.serverSyncTree_,s,t)}let a=s;o.length>0&&(a=Iy(e,s)),cy(e.eventQueue_,a,o)}function vy(e,t){_y(e,"connected",t),!1===t&&function(e){ky(e,"onDisconnectEvents");const t=gy(e),n=Wp();Kp(e.onDisconnect_,Vf(),((r,i)=>{const s=jg(r,i,e.serverSyncTree_,t);Yp(n,r,s)}));let r=[];Kp(n,Vf(),((t,n)=>{r=r.concat(yg(e.serverSyncTree_,t,n));const i=Ay(e,t);Iy(e,i)})),e.onDisconnect_=Wp(),cy(e.eventQueue_,Vf(),r)}(e)}function _y(e,t,n){const r=new Uf("/.info/"+t),i=Pp(n);e.infoData_.updateSnapshot(r,i);const s=yg(e.infoSyncTree_,r,i);cy(e.eventQueue_,r,s)}function wy(e){return e.nextWriteId_++}function by(e,t,n,r,i){ky(e,"set",{path:t.toString(),value:n,priority:r});const s=gy(e),o=Pp(n,r),a=bg(e.serverSyncTree_,t),l=Ug(o,a,s),c=wy(e),u=mg(e.serverSyncTree_,t,l,c,!0);ay(e.eventQueue_,u),e.server_.put(t.toString(),o.val(!0),((n,r)=>{const s="ok"===n;s||Xd("set at "+t+" failed: "+n);const o=gg(e.serverSyncTree_,c,!s);cy(e.eventQueue_,t,o),Cy(e,i,n,r)}));const h=Ay(e,t);Iy(e,h),cy(e.eventQueue_,h,[])}function Ey(e,t,n){let r;r=".info"===zf(t._path)?vg(e.infoSyncTree_,t,n):vg(e.serverSyncTree_,t,n),ly(e.eventQueue_,t._path,r)}function Sy(e){e.persistentConnection_&&e.persistentConnection_.interrupt(dy)}function ky(e){let t="";e.persistentConnection_&&(t=e.persistentConnection_.id+":");for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];Kd(t,...r)}function Cy(e,t,n,r){t&&df((()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const s=new Error(i);s.code=e,t(s)}}))}function Ty(e,t,n){return bg(e.serverSyncTree_,t,n)||Np.EMPTY_NODE}function xy(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.transactionQueueTree_;if(t||Oy(e,t),qg(t)){const n=Ry(e,t);Ml(n.length>0,"Sending zero length transaction queue");n.every((e=>0===e.status))&&function(e,t,n){const r=n.map((e=>e.currentWriteId)),i=Ty(e,t,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const e=n[c];Ml(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=Gf(t,e.path);s=s.updateChild(r,e.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,(r=>{ky(e,"transaction put response",{path:l.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(gg(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push((()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved))),n[t].unwatcher();Oy(e,$g(e.transactionQueueTree_,t)),xy(e,e.transactionQueueTree_),cy(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)df(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)3===n[e].status?n[e].status=4:n[e].status=0;else{Xd("transaction at "+l.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}Iy(e,t)}}),o)}(e,Kg(t),n)}else Hg(t)&&Wg(t,(t=>{xy(e,t)}))}function Iy(e,t){const n=Ny(e,t),r=Kg(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const s=t.filter((e=>0===e.status)),o=s.map((e=>e.currentWriteId));for(let l=0;l<t.length;l++){const s=t[l],c=Gf(n,s.path);let u,h=!1;if(Ml(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===s.status)h=!0,u=s.abortReason,i=i.concat(gg(e.serverSyncTree_,s.currentWriteId,!0));else if(0===s.status)if(s.retryCount>=25)h=!0,u="maxretry",i=i.concat(gg(e.serverSyncTree_,s.currentWriteId,!0));else{const n=Ty(e,s.path,o);s.currentInputSnapshot=n;const r=t[l].update(n.val());if(void 0!==r){ny("transaction failed: Data returned ",r,s.path);let t=Pp(r);"object"===typeof r&&null!=r&&_c(r,".priority")||(t=t.updatePriority(n.getPriority()));const a=s.currentWriteId,l=gy(e),c=Ug(t,n,l);s.currentOutputSnapshotRaw=t,s.currentOutputSnapshotResolved=c,s.currentWriteId=wy(e),o.splice(o.indexOf(a),1),i=i.concat(mg(e.serverSyncTree_,s.path,c,s.currentWriteId,s.applyLocally)),i=i.concat(gg(e.serverSyncTree_,a,!0))}else h=!0,u="nodata",i=i.concat(gg(e.serverSyncTree_,s.currentWriteId,!0))}cy(e.eventQueue_,n,i),i=[],h&&(t[l].status=2,a=t[l].unwatcher,setTimeout(a,Math.floor(0)),t[l].onComplete&&("nodata"===u?r.push((()=>t[l].onComplete(null,!1,t[l].currentInputSnapshot))):r.push((()=>t[l].onComplete(new Error(u),!1,null)))))}var a;Oy(e,e.transactionQueueTree_);for(let l=0;l<r.length;l++)df(r[l]);xy(e,e.transactionQueueTree_)}(e,Ry(e,n),r),r}function Ny(e,t){let n,r=e.transactionQueueTree_;for(n=zf(t);null!==n&&void 0===qg(r);)r=$g(r,n),n=zf(t=qf(t));return r}function Ry(e,t){const n=[];return Py(e,t,n),n.sort(((e,t)=>e.order-t.order)),n}function Py(e,t,n){const r=qg(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);Wg(t,(t=>{Py(e,t,n)}))}function Oy(e,t){const n=qg(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,Bg(t,n.length>0?n:void 0)}Wg(t,(t=>{Oy(e,t)}))}function Ay(e,t){const n=Kg(Ny(e,t)),r=$g(e.transactionQueueTree_,t);return function(e,t,n){let r=n?e:e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,(t=>{Dy(e,t)})),Dy(e,r),Yg(r,(t=>{Dy(e,t)})),n}function Dy(e,t){const n=qg(t);if(n){const r=[];let i=[],s=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?(Ml(s===t-1,"All SENT items should be at beginning of queue."),s=t,n[t].status=3,n[t].abortReason="set"):(Ml(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(gg(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===s?Bg(t,void 0):n.length=s+1,cy(e.eventQueue_,Kg(t),i);for(let e=0;e<r.length;e++)df(r[e])}}const My=function(e,t){const n=Ly(e),r=n.namespace;"firebase.com"===n.domain&&Jd(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||Jd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Xd("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");const i="ws"===n.scheme||"wss"===n.scheme;return{repoInfo:new Ef(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new Uf(n.pathString)}},Ly=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if("string"===typeof e){let c=e.indexOf("//");c>=0&&(a=e.substring(0,c-1),e=e.substring(c+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let e=n[r];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(fO){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Xd(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));c=t.indexOf(":"),c>=0?(o="https"===a||"wss"===a,l=parseInt(t.substring(c+1),10)):c=t.length;const f=t.slice(0,c);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),s=r}"ns"in d&&(s=d.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}},Fy="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz";!function(){let e=0;const t=[]}();class jy{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+yc(this.snapshot.exportVal())}}class Uy{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class Vy{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return Ml(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class zy{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return Kf(this._path)?null:Bf(this._path)}get ref(){return new $y(this._repo,this._path)}get _queryIdentifier(){const e=qp(this._queryParams),t=of(e);return"{}"===t?"default":t}get _queryObject(){return qp(this._queryParams)}isEqual(e){if(!((e=Dc(e))instanceof zy))return!1;const t=this._repo===e._repo,n=Qf(this._path,e._path),r=this._queryIdentifier===e._queryIdentifier;return t&&n&&r}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}class $y extends zy{constructor(e,t){super(e,t,new zp,!1)}get parent(){const e=Wf(this._path);return null===e?null:new $y(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class qy{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new Uf(e),n=Hy(this.ref,e);return new qy(this._node.getChild(t),n,bp)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){if(this._node.isLeafNode())return!1;return!!this._node.forEachChild(this._index,((t,n)=>e(new qy(n,Hy(this.ref,t),bp))))}hasChild(e){const t=new Uf(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function By(e,t){return(e=Dc(e))._checkNotDeleted("ref"),void 0!==t?Hy(e._root,t):e._root}function Hy(e,t){var n,r,i,s;return null===zf((e=Dc(e))._path)?(n="child",r="path",s=!1,(i=t)&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),ry(n,r,i,s)):ry("child","path",t,!1),new $y(e._repo,Yf(e._path,t))}function Wy(e){return iy("remove",e._path),Yy(e,null)}function Yy(e,t){e=Dc(e),iy("set",e._path),ty("set",t,e._path,!1);const n=new Jl;return by(e._repo,e._path,t,null,n.wrapCallback((()=>{}))),n.promise}function Ky(e){e=Dc(e);const t=new Vy((()=>{})),n=new Gy(t);return function(e,t,n){const r=Eg(e.serverSyncTree_,t);return null!=r?Promise.resolve(r):e.server_.get(t).then((r=>{const i=Pp(r).withIndex(t._queryParams.getIndex());let s;if(wg(e.serverSyncTree_,t,n,!0),t._queryParams.loadsAllData())s=yg(e.serverSyncTree_,t._path,i);else{const n=xg(e.serverSyncTree_,t);s=_g(e.serverSyncTree_,t._path,i,n)}return cy(e.eventQueue_,t._path,s),vg(e.serverSyncTree_,t,n,null,!0),i}),(n=>(ky(e,"get for query "+yc(t)+" failed: "+n),Promise.reject(new Error(n)))))}(e._repo,e,n).then((t=>new qy(t,new $y(e._repo,e._path),e._queryParams.getIndex())))}class Gy{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new jy("value",this,new qy(e.snapshotNode,new $y(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Uy(this,e,t):null}matches(e){return e instanceof Gy&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class Qy{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new Uy(this,e,t):null}createEvent(e,t){Ml(null!=e.childName,"Child events should have a childName.");const n=Hy(new $y(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new jy(e.type,this,new qy(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Qy&&(this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)))}hasAnyCallback(){return!!this.callbackContext}}function Jy(e,t,n,r,i){let s;if("object"===typeof r&&(s=void 0,i=r),"function"===typeof r&&(s=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{Ey(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const o=new Vy(n,s||void 0),a="value"===t?new Gy(o):new Qy(t,o);return function(e,t,n){let r;r=".info"===zf(t._path)?wg(e.infoSyncTree_,t,n):wg(e.serverSyncTree_,t,n),ly(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>Ey(e._repo,e,a)}function Xy(e,t,n,r){return Jy(e,"value",t,n,r)}!function(e){Ml(!eg,"__referenceConstructor has already been defined"),eg=e}($y),function(e){Ml(!tg,"__referenceConstructor has already been defined"),tg=e}($y);const Zy={};let ev=!1;function tv(e,t,n,r,i){let s=r||e.options.databaseURL;void 0===s&&(e.options.projectId||Jd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Kd("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o,a,l=My(s,i),c=l.repoInfo;"undefined"!==typeof process&&(a={NODE_ENV:"production",PUBLIC_URL:"/react_project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_KAKAO_REST_KEY:"d72149a9fe54720ad367a090ab378766"}.FIREBASE_DATABASE_EMULATOR_HOST),a?(o=!0,s=`http://${a}?ns=${c.namespace}`,l=My(s,i),c=l.repoInfo):o=!l.repoInfo.secure;const u=i&&o?new gf(gf.OWNER):new mf(e.name,e.options,t);sy("Invalid Firebase Database URL",l),Kf(l.path)||Jd("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=Zy[t.name];i||(i={},Zy[t.name]=i);let s=i[e.toURLString()];s&&Jd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call.");return s=new fy(e,ev,n,r),i[e.toURLString()]=s,s}(c,e,u,new pf(e,n));return new nv(h,e)}class nv{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(py(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new $y(this._repo,Vf())),this._rootInternal}_delete(){return null!==this._rootInternal&&(!function(e,t){const n=Zy[t];n&&n[e.key]===e||Jd(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Sy(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Jd("Cannot call "+e+" on a deleted database.")}}function rv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu(),t=arguments.length>1?arguments[1]:void 0;const n=Wu(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const e=Kl("database");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};e=Dc(e),e._checkNotDeleted("useEmulator");const i=`${t}:${n}`,s=e._repoInternal;if(e._instanceStarted){if(i===e._repoInternal.repoInfo_.host&&Sc(r,s.repoInfo_.emulatorOptions))return;Jd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Jd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new gf(gf.OWNER);else if(r.mockUserToken){const t="string"===typeof r.mockUserToken?r.mockUserToken:ec(r.mockUserToken,e.app.options.projectId);o=new gf(t)}Xl(t)&&(Zl(t),rc("Database",!0));!function(e,t,n,r){const i=t.lastIndexOf(":"),s=Xl(t.substring(0,i));e.repoInfo_=new Ef(t,s,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(e.authTokenProvider_=r)}(s,i,r,o)}(n,...e)}return n}rp.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},rp.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};!function(e){Md(Qu),Hu(new Mc("database",((e,t)=>{let{instanceIdentifier:n}=t;return tv(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n)}),"PUBLIC").setMultipleInstances(!0)),Zu(Od,Ad,e),Zu(Od,Ad,"esm2017")}();var iv=n(178),sv=n.n(iv);function ov(e){return Nl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M462.3 62.6C407.5 15.9 326 24.3 275.7 76.2L256 96.5l-19.7-20.3C186.1 24.3 104.5 15.9 49.7 62.6c-62.8 53.6-66.1 149.8-9.9 207.9l193.5 199.8c12.5 12.9 32.8 12.9 45.3 0l193.5-199.8c56.3-58.1 53-154.3-9.8-207.9z"},child:[]}]})(e)}function av(e){return Nl({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M458.4 64.3C400.6 15.7 311.3 23 256 79.3 200.7 23 111.4 15.6 53.6 64.3-21.6 127.6-10.6 230.8 43 285.5l175.4 178.7c10 10.2 23.4 15.9 37.6 15.9 14.3 0 27.6-5.6 37.6-15.8L469 285.6c53.5-54.7 64.7-157.9-10.6-221.3zm-23.6 187.5L259.4 430.5c-2.4 2.4-4.4 2.4-6.8 0L77.2 251.8c-36.5-37.2-43.9-107.6 7.3-150.7 38.9-32.7 98.9-27.8 136.5 10.5l35 35.7 35-35.7c37.8-38.5 97.8-43.2 136.5-10.6 51.1 43.1 43.5 113.9 7.3 150.8z"},child:[]}]})(e)}var lv={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function cv(e){var t=function(e){if("number"===typeof e)return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();t=n.includes(".")?parseFloat(n):parseInt(n,10);var r=(e.match(/[^0-9]*$/)||"").toString();return lv[r]?{value:t,unit:r}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}(e);return"".concat(t.value).concat(t.unit)}var uv=function(){return uv=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},uv.apply(this,arguments)},hv=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n},dv=function(e,t,n){var r="react-spinners-".concat(e,"-").concat(n);if("undefined"==typeof window||!window.document)return r;var i=document.createElement("style");document.head.appendChild(i);var s=i.sheet,o="\n    @keyframes ".concat(r," {\n      ").concat(t,"\n    }\n  ");return s&&s.insertRule(o,0),r}("SyncLoader","33% {transform: translateY(10px)}\n  66% {transform: translateY(-10px)}\n  100% {transform: translateY(0)}","sync");const fv=function(e){var n=e.loading,r=void 0===n||n,i=e.color,s=void 0===i?"#000000":i,o=e.speedMultiplier,a=void 0===o?1:o,l=e.cssOverride,c=void 0===l?{}:l,u=e.size,h=void 0===u?15:u,d=e.margin,f=void 0===d?2:d,p=hv(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),m=uv({display:"inherit"},c),g=function(e){return{backgroundColor:s,width:cv(h),height:cv(h),margin:cv(f),borderRadius:"100%",display:"inline-block",animation:"".concat(dv," ").concat(.6/a,"s ").concat(.07*e,"s infinite ease-in-out"),animationFillMode:"both"}};return r?t.createElement("span",uv({style:m},p),t.createElement("span",{style:g(1)}),t.createElement("span",{style:g(2)}),t.createElement("span",{style:g(3)})):null},pv=()=>{const e=rv(Pd),[n,r]=(0,t.useState)(),[i,s]=(0,t.useState)(!1),a=sessionStorage.getItem("uid"),l=vr(),[c,u]=(0,t.useState)([]),[h,d]=(0,t.useState)("\ub9ac\uc561\ud2b8"),[f,p]=(0,t.useState)(1),[m,g]=(0,t.useState)(1),y=async()=>{const e={headers:{Authorization:"KakaoAK d72149a9fe54720ad367a090ab378766"},params:{query:h,size:12,page:f}},t=await qo.get("https://dapi.kakao.com/v3/search/book",e);u(t.data.documents),g(Math.ceil(t.data.meta.pageable_count/12))};(0,t.useEffect)((()=>{y()}),[f]);return(0,t.useEffect)((()=>{s(!0),Xy(By(e,`heart/${a}`),(e=>{const t=[];e.forEach((e=>{t.push(e.val().isbn)})),console.log(t),r(t),s(!1)}))}),[]),i?(0,o.jsx)("h1",{className:"text-center my-5",children:(0,o.jsx)(fv,{})}):(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"my-5 text-center",children:"\uba54\uc778\ud398\uc774\uc9c0"}),(0,o.jsxs)(Ho,{className:"mb-2",children:[(0,o.jsx)(Yo,{children:(0,o.jsx)(ka,{onSubmit:e=>{e.preventDefault(),""===h?alert("\uac80\uc0c9\uc5b4\ub97c \uc785\ub825\ud558\uc138\uc694!"):y()},children:(0,o.jsxs)(Ra,{children:[(0,o.jsx)(ka.Control,{onChange:e=>d(e.target.value),value:h}),(0,o.jsx)(Oa,{type:"submit",children:"\uac80\uc0c9"})]})})}),(0,o.jsx)(Yo,{}),(0,o.jsx)(Yo,{})]}),(0,o.jsx)(Ho,{children:c.map((t=>(0,o.jsx)(Yo,{lg:2,md:3,xs:6,className:"mb-2",children:(0,o.jsxs)(el,{children:[(0,o.jsxs)(el.Body,{children:[(0,o.jsx)(_l,{book:t}),(0,o.jsx)("div",{className:"heart text-end",children:n.includes(t.isbn)?(0,o.jsx)(ov,{onClick:()=>{Wy(By(e,`heart/${a}/${t.isbn}`))}}):(0,o.jsx)(av,{onClick:()=>{return n=t,void(a?(Yy(By(e,`heart/${a}/${n.isbn}`),n),alert("\uad00\uc2ec \ubaa9\ub85d\uc5d0 \ucd94\uac00\ub418\uc5c8\uc2b5\ub2c8\ub2e4.")):(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."),l("/login")));var n}})})]}),(0,o.jsxs)(el.Footer,{children:[(0,o.jsx)("div",{className:"text-truncate",children:t.title}),(0,o.jsxs)(Ho,{children:[(0,o.jsxs)(Yo,{children:[t.sale_price,"\uc6d0"]}),(0,o.jsx)(Yo,{className:"text-end cart",children:(0,o.jsx)(Pl,{onClick:()=>{return n=t,void(a?Ky(By(e,`cart/${a}/${n.isbn}`)).then((t=>{if(t.exists())alert("\uc7a5\ubc14\uad6c\ub2c8\uc5d0 \uc774\ubbf8 \uc874\uc7ac\ud569\ub2c8\ub2e4.");else{const t=sv()(new Date).format("YYYY-MM-DD HH:mm:ss");Yy(By(e,`cart/${a}/${n.isbn}`),{...n,date:t})}})):(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."),l("/login")));var n}})})]})]})]})},t.isbn)))}),(0,o.jsxs)("div",{className:"text-center mt-3",children:[(0,o.jsx)(Oa,{onClick:()=>p(f-1),disabled:1===f&&!0,children:"\uc774\uc804"}),(0,o.jsxs)("span",{className:"mx-2",children:[f," / ",m]}),(0,o.jsx)(Oa,{onClick:()=>p(f+1),disabled:f===m&&!0,children:"\ub2e4\uc74c"})]})]})},mv=t.forwardRef(((e,t)=>{let{bsPrefix:n,className:r,striped:i,bordered:a,borderless:l,hover:c,size:u,variant:h,responsive:f,...p}=e;const m=d(n,"table"),g=s()(r,m,h&&`${m}-${h}`,u&&`${m}-${u}`,i&&`${m}-${"string"===typeof i?`striped-${i}`:"striped"}`,a&&`${m}-bordered`,l&&`${m}-borderless`,c&&`${m}-hover`),y=(0,o.jsx)("table",{...p,className:g,ref:t});if(f){let e=`${m}-responsive`;return"string"===typeof f&&(e=`${e}-${f}`),(0,o.jsx)("div",{className:e,children:y})}return y})),gv=mv,yv=()=>{const e=sessionStorage.getItem("uid"),[n,r]=(0,t.useState)(!1),i=rv(Pd),[s,a]=(0,t.useState)([]);(0,t.useEffect)((()=>{r(!0),Xy(By(i,`cart/${e}`),(e=>{console.log(e);const t=[];e.forEach((e=>{t.push({key:e.key,...e.val()})})),a(t),r(!1)}))}),[]);return n?(0,o.jsx)("h1",{className:"text-center my-5",children:(0,o.jsx)(fv,{})}):(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"mt-5 text-center",children:"\uc7a5\ubc14\uad6c\ub2c8"}),(0,o.jsxs)(gv,{children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{}),(0,o.jsx)("td",{children:"\uc81c\ubaa9"}),(0,o.jsx)("td",{children:"\ub4f1\ub85d\uc77c"}),(0,o.jsx)("td",{children:"\uc0ad\uc81c"})]})}),(0,o.jsx)("tbody",{children:s.map((t=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{width:50,children:(0,o.jsx)(_l,{book:t})}),(0,o.jsx)("td",{children:t.title}),(0,o.jsx)("td",{children:t.title}),(0,o.jsx)("td",{children:(0,o.jsx)(Oa,{onClick:()=>(t=>{window.confirm(`${t.title}\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)&&Wy(By(i,`cart/${e}/${t.isbn}`))})(t),size:"sm",variant:"outline-danger",children:"\uc0ad\uc81c"})})]},t.isbn)))})]})]})};function vv(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function _v(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const wv=_v,bv=new pc("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Ev=new Hc("@firebase/auth");function Sv(e){if(Ev.logLevel<=Vc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ev.error(`Auth (${Qu}): ${e}`,...n)}}function kv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Iv(e,...n)}function Cv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Iv(e,...n)}function Tv(e,t,n){const r=Object.assign(Object.assign({},wv()),{[t]:n});return new pc("auth","Firebase",r).create(t,{appName:e.name})}function xv(e){return Tv(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Iv(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return bv.create(e,...n)}function Nv(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Iv(t,...r)}}function Rv(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Sv(t),new Error(t)}function Pv(e,t){e||Rv(t)}function Ov(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Av(){return"http:"===Dv()||"https:"===Dv()}function Dv(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class Mv{constructor(e,t){this.shortDelay=e,this.longDelay=t,Pv(t>e,"Short delay should be less than long delay!"),this.isMobile=sc()||lc()}get(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Av()||ac()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function Lv(e,t){Pv(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class Fv{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Rv("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Rv("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Rv("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const jv={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Uv=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Vv=new Mv(3e4,6e4);function zv(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function $v(e,t,n,r){return qv(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const o=Cc(Object.assign({key:e.config.apiKey},s)).slice(1),a=await e._getAdditionalHeaders();a["Content-Type"]="application/json",e.languageCode&&(a["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:a},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),e.emulatorConfig&&Xl(e.emulatorConfig.host)&&(l.credentials="include"),Fv.fetch()(await Hv(e,e.config.apiHost,n,o),l)}))}async function qv(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},jv),t);try{const t=new Yv(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Kv(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,o]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Kv(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Kv(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Kv(e,"user-disabled",s);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(o)throw Tv(e,a,o);kv(e,a)}}catch(fO){if(fO instanceof fc)throw fO;kv(e,"network-request-failed",{message:String(fO)})}}async function Bv(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await $v(e,t,n,r,i);return"mfaPendingCredential"in s&&kv(e,"multi-factor-auth-required",{_serverResponse:s}),s}async function Hv(e,t,n,r){const i=`${t}${n}?${r}`,s=e,o=s.config.emulator?Lv(e.config,i):`${e.config.apiScheme}://${i}`;if(Uv.includes(n)&&(await s._persistenceManagerAvailable,"COOKIE"===s._getPersistenceType())){return s._getPersistence()._getFinalTarget(o).toString()}return o}function Wv(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Yv{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Cv(this.auth,"network-request-failed"))),Vv.get())}))}}function Kv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Cv(e,t,r);return i.customData._tokenResponse=n,i}function Gv(e){return void 0!==e&&void 0!==e.enterprise}class Qv{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Wv(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function Jv(e,t){return $v(e,"GET","/v2/recaptchaConfig",zv(e,t))}async function Xv(e,t){return $v(e,"POST","/v1/accounts:lookup",t)}function Zv(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(fO){}}function e_(e){return 1e3*Number(e)}function t_(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Sv("JWT malformed, contained fewer than 3 sections"),null;try{const e=$l(n);return e?JSON.parse(e):(Sv("Failed to decode base64 JWT payload"),null)}catch(fO){return Sv("Caught error parsing JWT payload as JSON",null===fO||void 0===fO?void 0:fO.toString()),null}}function n_(e){const t=t_(e);return Nv(t,"internal-error"),Nv("undefined"!==typeof t.exp,"internal-error"),Nv("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function r_(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(fO){throw fO instanceof fc&&function(e){let{code:t}=e;return"auth/user-disabled"===t||"auth/user-token-expired"===t}(fO)&&e.auth.currentUser===e&&await e.auth.signOut(),fO}}class i_{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(fO){return void("auth/network-request-failed"===(null===fO||void 0===fO?void 0:fO.code)&&this.schedule(!0))}this.schedule()}}class s_{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Zv(this.lastLoginAt),this.creationTime=Zv(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function o_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await r_(e,Xv(n,{idToken:r}));Nv(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?a_(s.providerUserInfo):[],a=(l=e.providerData,c=o,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===a||void 0===a?void 0:a.length),d=!!u&&h,f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new s_(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,f)}function a_(e){return e.map((e=>{var{providerId:t}=e,n=vv(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class l_{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Nv(e.idToken,"internal-error"),Nv("undefined"!==typeof e.idToken,"internal-error"),Nv("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):n_(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Nv(0!==e.length,"internal-error");const t=n_(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Nv(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await qv(e,{},(async()=>{const n=Cc({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=await Hv(e,r,"/v1/token",`key=${i}`),o=await e._getAdditionalHeaders();return o["Content-Type"]="application/x-www-form-urlencoded",Fv.fetch()(s,{method:"POST",headers:o,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new l_;return n&&(Nv("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Nv("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Nv("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new l_,this.toJSON())}_performRefresh(){return Rv("not implemented")}}function c_(e,t){Nv("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class u_{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=vv(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new i_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new s_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await r_(this,this.stsTokenManager.getToken(this.auth,e));return Nv(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Dc(e),r=await n.getIdToken(t),i=t_(r);Nv(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,o=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Zv(e_(i.auth_time)),issuedAtTime:Zv(e_(i.iat)),expirationTime:Zv(e_(i.exp)),signInProvider:o||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Dc(e);await o_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Nv(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new u_(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Nv(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await o_(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yu(this.auth.app))return Promise.reject(xv(this.auth));const e=await this.getIdToken();return await r_(this,async function(e,t){return $v(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,o,a,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(s=t.photoURL)&&void 0!==s?s:void 0,p=null!==(o=t.tenantId)&&void 0!==o?o:void 0,m=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,g=null!==(l=t.createdAt)&&void 0!==l?l:void 0,y=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:v,emailVerified:_,isAnonymous:w,providerData:b,stsTokenManager:E}=t;Nv(v&&E,e,"internal-error");const S=l_.fromJSON(this.name,E);Nv("string"===typeof v,e,"internal-error"),c_(u,e.name),c_(h,e.name),Nv("boolean"===typeof _,e,"internal-error"),Nv("boolean"===typeof w,e,"internal-error"),c_(d,e.name),c_(f,e.name),c_(p,e.name),c_(m,e.name),c_(g,e.name),c_(y,e.name);const k=new u_({uid:v,auth:e,email:h,emailVerified:_,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:S,createdAt:g,lastLoginAt:y});return b&&Array.isArray(b)&&(k.providerData=b.map((e=>Object.assign({},e)))),m&&(k._redirectEventId=m),k}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new l_;r.updateFromServerResponse(t);const i=new u_({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await o_(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Nv(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?a_(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),o=new l_;o.updateFromIdToken(n);const a=new u_({uid:r.localId,auth:e,stsTokenManager:o,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new s_(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(a,l),a}}const h_=new Map;function d_(e){Pv(e instanceof Function,"Expected a class definition");let t=h_.get(e);return t?(Pv(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,h_.set(e,t),t)}class f_{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}f_.type="NONE";const p_=f_;function m_(e,t,n){return`firebase:${e}:${t}:${n}`}class g_{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=m_(this.userKey,r.apiKey,i),this.fullPersistenceKey=m_("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if("string"===typeof e){const t=await Xv(this.auth,{idToken:e}).catch((()=>{}));return t?u_._fromGetAccountInfoResponse(this.auth,t,e):null}return u_._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new g_(d_(p_),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||d_(p_);const s=m_(n,e.config.apiKey,e.name);let o=null;for(const c of t)try{const t=await c._get(s);if(t){let n;if("string"===typeof t){const r=await Xv(e,{idToken:t}).catch((()=>{}));if(!r)break;n=await u_._fromGetAccountInfoResponse(e,r,t)}else n=u_._fromJSON(e,t);c!==i&&(o=n),i=c;break}}catch(l){}const a=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&a.length?(i=a[0],o&&await i._set(s,o.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new g_(i,e,n)):new g_(i,e,n)}}function y_(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(b_(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(v_(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(S_(t))return"Blackberry";if(k_(t))return"Webos";if(__(t))return"Safari";if((t.includes("chrome/")||w_(t))&&!t.includes("edge/"))return"Chrome";if(E_(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function v_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/firefox\//i.test(e)}function __(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/crios\//i.test(e)}function b_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/iemobile/i.test(e)}function E_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/android/i.test(e)}function S_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/blackberry/i.test(e)}function k_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/webos/i.test(e)}function C_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function T_(){return function(){const e=ic();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function x_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic();return C_(e)||E_(e)||k_(e)||S_(e)||/windows phone/i.test(e)||b_(e)}function I_(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=y_(ic());break;case"Worker":t=`${y_(ic())}-${e}`;break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return`${t}/JsCore/${Qu}/${r}`}class N_{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(fO){r(fO)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(fO){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===fO||void 0===fO?void 0:fO.message})}}}class R_{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,o;const a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=null===(t=a.meetsMinPasswordLength)||void 0===t||t),a.isValid&&(a.isValid=null===(n=a.meetsMaxPasswordLength)||void 0===n||n),a.isValid&&(a.isValid=null===(r=a.containsLowercaseLetter)||void 0===r||r),a.isValid&&(a.isValid=null===(i=a.containsUppercaseLetter)||void 0===i||i),a.isValid&&(a.isValid=null===(s=a.containsNumericCharacter)||void 0===s||s),a.isValid&&(a.isValid=null===(o=a.containsNonAlphanumericCharacter)||void 0===o||o),a}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class P_{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new A_(this),this.idTokenSubscription=new A_(this),this.beforeStateQueue=new N_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise((e=>this._resolvePersistenceManagerAvailable=e))}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=d_(t)),this._initializationPromise=this.queue((async()=>{var n,r,i;if(!this._deleted&&(this.persistenceManager=await g_.create(this,e),null===(n=this._resolvePersistenceManagerAvailable)||void 0===n||n.call(this),!this._deleted)){if(null===(r=this._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(fO){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(i=this.currentUser)||void 0===i?void 0:i.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await Xv(this,{idToken:e}),n=await u_._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(Yu(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,o=await this.tryRedirectSignIn(e);n&&n!==s||!(null===o||void 0===o?void 0:o.user)||(r=o.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(fO){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(fO)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Nv(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(fO){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await o_(e)}catch(fO){if("auth/network-request-failed"!==(null===fO||void 0===fO?void 0:fO.code))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yu(this.app))return Promise.reject(xv(this));const t=e?Dc(e):null;return t&&Nv(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Nv(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return Yu(this.app)?Promise.reject(xv(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yu(this.app)?Promise.reject(xv(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(d_(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return $v(e,"GET","/v2/passwordPolicy",zv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new R_(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pc("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return $v(e,"POST","/v2/accounts:revokeToken",zv(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&d_(e)||this._popupRedirectResolver;Nv(t,this,"argument-error"),this.redirectPersistenceManager=await g_.create(this,[d_(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Nv(o,this,"internal-error"),o.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Nv(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;if(Yu(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Ev.logLevel<=Vc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Ev.warn(`Auth (${Qu}): ${e}`,...n)}}(`Error while retrieving App Check token: ${t.error}`),null===t||void 0===t?void 0:t.token}}function O_(e){return Dc(e)}class A_{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Nc(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Nv(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let D_={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function M_(e){return D_.loadJS(e)}function L_(e){return`__${e}${Math.floor(1e6*Math.random())}`}class F_{constructor(){this.enterprise=new j_}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class j_{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const U_="NO_RECAPTCHA";class V_{constructor(e){this.type="recaptcha-enterprise",this.auth=O_(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;Gv(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(U_)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new F_).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{Jv(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new Qv(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&Gv(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=D_.recaptchaEnterpriseScript;0!==t.length&&(t+=i),M_(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function z_(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new V_(e);let o;if(i)o=U_;else try{o=await s.verify(n)}catch(Qd){o=await s.verify(n,!0)}const a=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in a){const e=a.phoneEnrollmentInfo.phoneNumber,t=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const e=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function $_(e,t,n,r,i){var s,o;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await z_(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if("auth/missing-recaptcha-token"===i.code){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const i=await z_(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(o=e._getRecaptchaConfig())||void 0===o?void 0:o.isProviderEnabled("PHONE_PROVIDER")){const i=await z_(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&("auth/missing-recaptcha-token"===i.code||"auth/invalid-app-credential"===i.code)){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${n} flow.`);const i=await z_(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await z_(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function q_(e){const t=O_(e),n=await Jv(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new Qv(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new V_(t).verify()}}function B_(e,t,n){const r=O_(e);Nv(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=H_(t),{host:o,port:a}=function(e){const t=H_(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:W_(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:W_(t)}}}(t),l=null===a?"":`:${a}`,c={url:`${s}//${o}${l}/`},u=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator)return Nv(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),void Nv(Sc(c,r.config.emulator)&&Sc(u,r.emulatorConfig),r,"emulator-config-failed");r.config.emulator=c,r.emulatorConfig=u,r.settings.appVerificationDisabledForTesting=!0,Xl(o)?(Zl(`${s}//${o}${l}`),rc("Auth",!0)):i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function H_(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function W_(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class Y_{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Rv("not implemented")}_getIdTokenResponse(e){return Rv("not implemented")}_linkToIdToken(e,t){return Rv("not implemented")}_getReauthenticationResolver(e){return Rv("not implemented")}}async function K_(e,t){return $v(e,"POST","/v1/accounts:signUp",t)}async function G_(e,t){return Bv(e,"POST","/v1/accounts:signInWithPassword",zv(e,t))}class Q_ extends Y_{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Q_(e,t,"password")}static _fromEmailAndCode(e,t){return new Q_(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return $_(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",G_,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Bv(e,"POST","/v1/accounts:signInWithEmailLink",zv(e,t))}(e,{email:this._email,oobCode:this._password});default:kv(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return $_(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",K_,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Bv(e,"POST","/v1/accounts:signInWithEmailLink",zv(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:kv(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function J_(e,t){return Bv(e,"POST","/v1/accounts:signInWithIdp",zv(e,t))}class X_ extends Y_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new X_(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):kv("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=vv(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new X_(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return J_(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,J_(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,J_(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}async function Z_(e,t){return $v(e,"POST","/v1/accounts:sendVerificationCode",zv(e,t))}const ew={USER_NOT_FOUND:"user-not-found"};class tw extends Y_{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new tw({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new tw({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Bv(e,"POST","/v1/accounts:signInWithPhoneNumber",zv(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Bv(e,"POST","/v1/accounts:signInWithPhoneNumber",zv(e,t));if(n.temporaryProof)throw Kv(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Bv(e,"POST","/v1/accounts:signInWithPhoneNumber",zv(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ew)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new tw({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class nw{constructor(e){var t,n,r,i,s,o;const a=Tc(xc(e)),l=null!==(t=a.apiKey)&&void 0!==t?t:null,c=null!==(n=a.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=a.mode)&&void 0!==r?r:null);Nv(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=a.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=a.lang)&&void 0!==s?s:null,this.tenantId=null!==(o=a.tenantId)&&void 0!==o?o:null}static parseLink(e){const t=function(e){const t=Tc(xc(e)).link,n=t?Tc(xc(t)).deep_link_id:null,r=Tc(xc(e)).deep_link_id;return(r?Tc(xc(r)).link:null)||r||n||t||e}(e);try{return new nw(t)}catch(n){return null}}}class rw{constructor(){this.providerId=rw.PROVIDER_ID}static credential(e,t){return Q_._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=nw.parseLink(t);return Nv(n,"argument-error"),Q_._fromEmailAndCode(e,n.code,n.tenantId)}}rw.PROVIDER_ID="password",rw.EMAIL_PASSWORD_SIGN_IN_METHOD="password",rw.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class iw{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class sw extends iw{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ow extends sw{constructor(){super("facebook.com")}static credential(e){return X_._fromParams({providerId:ow.PROVIDER_ID,signInMethod:ow.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ow.credentialFromTaggedObject(e)}static credentialFromError(e){return ow.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ow.credential(t.oauthAccessToken)}catch(n){return null}}}ow.FACEBOOK_SIGN_IN_METHOD="facebook.com",ow.PROVIDER_ID="facebook.com";class aw extends sw{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return X_._fromParams({providerId:aw.PROVIDER_ID,signInMethod:aw.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return aw.credentialFromTaggedObject(e)}static credentialFromError(e){return aw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return aw.credential(n,r)}catch(i){return null}}}aw.GOOGLE_SIGN_IN_METHOD="google.com",aw.PROVIDER_ID="google.com";class lw extends sw{constructor(){super("github.com")}static credential(e){return X_._fromParams({providerId:lw.PROVIDER_ID,signInMethod:lw.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return lw.credentialFromTaggedObject(e)}static credentialFromError(e){return lw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return lw.credential(t.oauthAccessToken)}catch(n){return null}}}lw.GITHUB_SIGN_IN_METHOD="github.com",lw.PROVIDER_ID="github.com";class cw extends sw{constructor(){super("twitter.com")}static credential(e,t){return X_._fromParams({providerId:cw.PROVIDER_ID,signInMethod:cw.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return cw.credentialFromTaggedObject(e)}static credentialFromError(e){return cw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return cw.credential(n,r)}catch(i){return null}}}async function uw(e,t){return Bv(e,"POST","/v1/accounts:signUp",zv(e,t))}cw.TWITTER_SIGN_IN_METHOD="twitter.com",cw.PROVIDER_ID="twitter.com";class hw{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await u_._fromIdTokenResponse(e,n,r),s=dw(n);return new hw({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=dw(n);return new hw({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function dw(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class fw extends fc{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,fw.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new fw(e,t,n,r)}}function pw(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if("auth/multi-factor-auth-required"===n.code)throw fw._fromErrorAndOperation(e,n,t,r);throw n}))}async function mw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await r_(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return hw._forOperation(e,"link",r)}async function gw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(Yu(r.app))return Promise.reject(xv(r));const i="reauthenticate";try{const s=await r_(e,pw(r,i,t,e),n);Nv(s.idToken,r,"internal-error");const o=t_(s.idToken);Nv(o,r,"internal-error");const{sub:a}=o;return Nv(e.uid===a,r,"user-mismatch"),hw._forOperation(e,i,s)}catch(fO){throw"auth/user-not-found"===(null===fO||void 0===fO?void 0:fO.code)&&kv(r,"user-mismatch"),fO}}async function yw(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Yu(e.app))return Promise.reject(xv(e));const r="signIn",i=await pw(e,r,t),s=await hw._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function vw(e,t){return yw(O_(e),t)}async function _w(e){const t=O_(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function ww(e,t){return $v(e,"POST","/v2/accounts/mfaEnrollment:start",zv(e,t))}new WeakMap;const bw="__sak";class Ew{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(bw,"1"),this.storage.removeItem(bw),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Sw extends Ew{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=x_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);T_()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Sw.type="LOCAL";const kw=Sw;function Cw(e){var t,n;const r=e.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),i=RegExp(`${r}=([^;]+)`);return null!==(n=null===(t=document.cookie.match(i))||void 0===t?void 0:t[1])&&void 0!==n?n:null}function Tw(e){return`${"http:"===window.location.protocol?"__dev_":"__HOST-"}FIREBASE_${e.split(":")[3]}`}class xw{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(void 0===typeof window)return e;const t=new URL(`${window.location.origin}/__cookies__`);return t.searchParams.set("finalTarget",e),t}async _isAvailable(){var e;return!("boolean"===typeof isSecureContext&&!isSecureContext)&&("undefined"!==typeof navigator&&"undefined"!==typeof document&&(null===(e=navigator.cookieEnabled)||void 0===e||e))}async _set(e,t){}async _get(e){if(!this._isAvailable())return null;const t=Tw(e);if(window.cookieStore){const e=await window.cookieStore.get(t);return null===e||void 0===e?void 0:e.value}return Cw(t)}async _remove(e){if(!this._isAvailable())return;if(!await this._get(e))return;const t=Tw(e);document.cookie=`${t}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch((()=>{}))}_addListener(e,t){if(!this._isAvailable())return;const n=Tw(e);if(window.cookieStore){const e=e=>{const r=e.changed.find((e=>e.name===n));r&&t(r.value);e.deleted.find((e=>e.name===n))&&t(null)},r=()=>window.cookieStore.removeEventListener("change",e);return this.listenerUnsubscribes.set(t,r),window.cookieStore.addEventListener("change",e)}let r=Cw(n);const i=setInterval((()=>{const e=Cw(n);e!==r&&(t(e),r=e)}),1e3);this.listenerUnsubscribes.set(t,(()=>clearInterval(i)))}_removeListener(e,t){const n=this.listenerUnsubscribes.get(t);n&&(n(),this.listenerUnsubscribes.delete(t))}}xw.type="COOKIE";class Iw extends Ew{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Iw.type="SESSION";const Nw=Iw;class Rw{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Rw(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const o=Array.from(s).map((async e=>e(t.origin,i))),a=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(o);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:a})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Pw(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Rw.receivers=[];class Ow{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((o,a)=>{const l=Pw("",20);r.port1.start();const c=setTimeout((()=>{a(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{a(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),o(t.data.response);break;default:clearTimeout(c),clearTimeout(i),a(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Aw(){return window}function Dw(){return"undefined"!==typeof Aw().WorkerGlobalScope&&"function"===typeof Aw().importScripts}const Mw="firebaseLocalStorageDb",Lw="firebaseLocalStorage",Fw="fbase_key";class jw{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function Uw(e,t){return e.transaction([Lw],t?"readwrite":"readonly").objectStore(Lw)}function Vw(){const e=indexedDB.open(Mw,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Lw,{keyPath:Fw})}catch(fO){n(fO)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Lw)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Mw);return new jw(e).toPromise()}(),t(await Vw()))}))}))}async function zw(e,t,n){const r=Uw(e,!0).put({[Fw]:t,value:n});return new jw(r).toPromise()}function $w(e,t){const n=Uw(e,!0).delete(t);return new jw(n).toPromise()}class qw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Vw()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(fO){if(t++>3)throw fO;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Dw()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Rw._getInstance(Dw()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ow(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vw();return await zw(e,bw,"1"),await $w(e,bw),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>zw(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=Uw(e,!1).get(t),r=await new jw(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>$w(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=Uw(e,!1).getAll();return new jw(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}qw.type="LOCAL";const Bw=qw;function Hw(e,t){return $v(e,"POST","/v2/accounts/mfaSignIn:start",zv(e,t))}L_("rcb"),new Mv(3e4,6e4);const Ww="recaptcha";async function Yw(e,t,n){var r;if(!e._getRecaptchaConfig())try{await q_(e)}catch(Qd){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Nv("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=$_(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===U_){Nv((null===n||void 0===n?void 0:n.type)===Ww,e,"argument-error");return ww(e,await Kw(e,t,n))}return ww(e,t)}),"PHONE_PROVIDER"),o=await s.catch((e=>Promise.reject(e)));return o.phoneSessionInfo.sessionInfo}{Nv("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Nv(s,e,"missing-multi-factor-info");const o={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},a=$_(e,o,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===U_){Nv((null===n||void 0===n?void 0:n.type)===Ww,e,"argument-error");return Hw(e,await Kw(e,t,n))}return Hw(e,t)}),"PHONE_PROVIDER"),l=await a.catch((e=>Promise.reject(e)));return l.phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=$_(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===U_){Nv((null===n||void 0===n?void 0:n.type)===Ww,e,"argument-error");return Z_(e,await Kw(e,t,n))}return Z_(e,t)}),"PHONE_PROVIDER"),s=await r.catch((e=>Promise.reject(e)));return s.sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Kw(e,t,n){Nv(n.type===Ww,e,"argument-error");const r=await n.verify();Nv("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Gw{constructor(e){this.providerId=Gw.PROVIDER_ID,this.auth=O_(e)}verifyPhoneNumber(e,t){return Yw(this.auth,e,Dc(t))}static credential(e,t){return tw._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Gw.credentialFromTaggedObject(t)}static credentialFromError(e){return Gw.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?tw._fromTokenResponse(n,r):null}}function Qw(e,t){return t?d_(t):(Nv(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Gw.PROVIDER_ID="phone",Gw.PHONE_SIGN_IN_METHOD="phone";class Jw extends Y_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return J_(e,this._buildIdpRequest())}_linkToIdToken(e,t){return J_(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return J_(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Xw(e){return yw(e.auth,new Jw(e),e.bypassAuthState)}function Zw(e){const{auth:t,user:n}=e;return Nv(n,t,"internal-error"),gw(n,new Jw(e),e.bypassAuthState)}async function eb(e){const{auth:t,user:n}=e;return Nv(n,t,"internal-error"),mw(n,new Jw(e),e.bypassAuthState)}class tb{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(fO){this.reject(fO)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:o}=e;if(s)return void this.reject(s);const a={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(a))}catch(fO){this.reject(fO)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Xw;case"linkViaPopup":case"linkViaRedirect":return eb;case"reauthViaPopup":case"reauthViaRedirect":return Zw;default:kv(this.auth,"internal-error")}}resolve(e){Pv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Pv(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const nb=new Mv(2e3,1e4);class rb extends tb{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,rb.currentPopupAction&&rb.currentPopupAction.cancel(),rb.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Nv(e,this.auth,"internal-error"),e}async onExecution(){Pv(1===this.filter.length,"Popup operations only handle one event");const e=Pw();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Cv(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Cv(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rb.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Cv(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,nb.get())};e()}}rb.currentPopupAction=null;const ib=new Map;class sb extends tb{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=ib.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=lb(t),r=ab(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(t)}catch(fO){e=()=>Promise.reject(fO)}ib.set(this.auth._key(),e)}return this.bypassAuthState||ib.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function ob(e,t){ib.set(e._key(),t)}function ab(e){return d_(e._redirectPersistence)}function lb(e){return m_("pendingRedirect",e.config.apiKey,e.name)}async function cb(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Yu(e.app))return Promise.reject(xv(e));const r=O_(e),i=Qw(r,t),s=new sb(r,i,n),o=await s.execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}class ub{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return db(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!db(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Cv(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(hb(e))}saveEventToCache(e){this.cachedEventUids.add(hb(e)),this.lastProcessedEventTime=Date.now()}}function hb(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function db(e){let{type:t,error:n}=e;return"unknown"===t&&"auth/no-auth-event"===(null===n||void 0===n?void 0:n.code)}const fb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,pb=/^https?/;async function mb(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return $v(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(gb(r))return}catch(n){}kv(e,"unauthorized-domain")}function gb(e){const t=Ov(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!pb.test(n))return!1;if(fb.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const yb=new Mv(3e4,6e4);function vb(){const e=Aw().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function _b(e){return new Promise(((t,n)=>{var r,i,s;function o(){vb(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{vb(),n(Cv(e,"network-request-failed"))},timeout:yb.get()})}if(null===(i=null===(r=Aw().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Aw().gapi)||void 0===s?void 0:s.load)){const t=L_("iframefcb");return Aw()[t]=()=>{gapi.load?o():n(Cv(e,"network-request-failed"))},M_(`${D_.gapiScript}?onload=${t}`).catch((e=>n(e)))}o()}})).catch((e=>{throw wb=null,e}))}let wb=null;const bb=new Mv(5e3,15e3),Eb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Sb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function kb(e){const t=e.config;Nv(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Lv(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:Qu},i=Sb.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Cc(r).slice(1)}`}async function Cb(e){const t=await function(e){return wb=wb||_b(e),wb}(e),n=Aw().gapi;return Nv(n,e,"internal-error"),t.open({where:document.body,url:kb(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Eb,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Cv(e,"network-request-failed"),s=Aw().setTimeout((()=>{r(i)}),bb.get());function o(){Aw().clearTimeout(s),n(t)}t.ping(o).then(o,(()=>{r(i)}))}))))}const Tb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(fO){}}}function Ib(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},Tb),{width:r.toString(),height:i.toString(),top:s,left:o}),c=ic().toLowerCase();n&&(a=w_(c)?"_blank":n),v_(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return`${e}${n}=${r},`}),"");if(function(){var e;return C_(arguments.length>0&&void 0!==arguments[0]?arguments[0]:ic())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==a)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",a),new xb(null);const h=window.open(t||"",a,u);Nv(h,e,"popup-blocked");try{h.focus()}catch(fO){}return new xb(h)}const Nb="__/auth/handler",Rb="emulator/auth/handler",Pb=encodeURIComponent("fac");async function Ob(e,t,n,r,i,s){Nv(e.config.authDomain,e,"auth-domain-config-required"),Nv(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Qu,eventId:i};if(t instanceof iw){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",bc(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))o[e]=t}if(t instanceof sw){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(o.scopes=e.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const l=await e._getAppCheckToken(),c=l?`#${Pb}=${encodeURIComponent(l)}`:"";return`${function(e){let{config:t}=e;if(!t.emulator)return`https://${t.authDomain}/${Nb}`;return Lv(t,Rb)}(e)}?${Cc(a).slice(1)}${c}`}const Ab="webStorageSupport";const Db=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Nw,this._completeRedirectFn=cb,this._overrideRedirectResult=ob}async _openPopup(e,t,n,r){var i;Pv(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ib(e,await Ob(e,t,n,Ov(),r),Pw())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Aw().location.href=e}(await Ob(e,t,n,Ov(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Pv(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await Cb(e),n=new ub(e);return t.register("authEvent",(t=>{Nv(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Ab,{type:Ab},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[Ab];void 0!==i&&t(!!i),kv(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=mb(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return x_()||__()||C_()}};var Mb="@firebase/auth",Lb="1.10.6";class Fb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Nv(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const jb=Ql("authIdTokenMaxAge")||300;let Ub=null;function Vb(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xu();const t=Wu(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=Wu(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Sc(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;kv(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Db,persistence:[Bw,kw,Nw]}),r=Ql("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>jb)return;const r=null===t||void 0===t?void 0:t.token;Ub!==r&&(Ub=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))});!function(e,t,n){Dc(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Dc(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=Yl("auth");return s&&B_(n,`http://${s}`),n}var zb,$b;zb={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Cv("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},D_=zb,$b="Browser",Hu(new Mc("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Nv(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:$b,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I_($b)},c=new P_(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(d_);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),Hu(new Mc("auth-internal",(e=>(e=>new Fb(e))(O_(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),Zu(Mb,Lb,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}($b)),Zu(Mb,Lb,"esm2017");const qb=()=>{const e=Vb(Pd),[n,r]=(0,t.useState)(!1),i=vr(),[s,a]=(0,t.useState)({email:"dark@inha.edu",pass:"12341234"}),{email:l,pass:c}=s,u=e=>{a({...s,[e.target.name]:e.target.value})};return n?(0,o.jsx)("h1",{className:"my-5 text-center",children:(0,o.jsx)(fv,{})}):(0,o.jsx)("div",{children:(0,o.jsx)(Ho,{className:"my-5 justify-content-center",children:(0,o.jsx)(Yo,{lg:4,md:6,sm:8,children:(0,o.jsxs)(el,{children:[(0,o.jsx)(el.Header,{children:(0,o.jsx)("h5",{children:"\ub85c\uadf8\uc778"})}),(0,o.jsxs)(el.Body,{children:[(0,o.jsxs)(ka,{onSubmit:t=>{t.preventDefault(),""===l||""===c?alert("\uc774\uba54\uc77c \ub610\ub294 \ud328\uc2a4\uc6cc\ub4dc\ub97c \uc785\ub825\ud558\uc138\uc694"):(r(!0),function(e,t,n){return Yu(e.app)?Promise.reject(xv(e)):vw(Dc(e),rw.credential(t,n)).catch((async t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_w(e),t}))}(e,l,c).then((e=>{alert("\ub85c\uadf8\uc778 \uc131\uacf5"),sessionStorage.setItem("email",l),sessionStorage.setItem("uid",e.user.uid),r(!1),sessionStorage.getItem("target")?i(sessionStorage.getItem("target")):i("/")})).catch((e=>{alert("\ub85c\uadf8\uc778 \uc5d0\ub7ec"+e.message),r(!1)})))},children:[(0,o.jsx)(ka.Control,{className:"mb-2",placeholder:"email",value:l,name:"email",onChange:u}),(0,o.jsx)(ka.Control,{className:"mb-2",placeholder:"password",value:c,type:"password",name:"pass",onChange:u}),(0,o.jsx)(Oa,{type:"submit",className:"w-100",children:"\ub85c\uadf8\uc778"})]}),(0,o.jsx)("div",{className:"text-end",children:(0,o.jsx)("a",{href:"/react_project/join",children:"\ud68c\uc6d0\uac00\uc785"})})]})]})})})})},Bb=()=>{const e=Vb(Pd),[n,r]=(0,t.useState)(!1),i=vr(),[s,a]=(0,t.useState)({email:"green@inha.edu",pass:"12341234"}),{email:l,pass:c}=s,u=e=>{a({...s,[e.target.name]:e.target.value})};return n?(0,o.jsx)("h1",{className:"my-5 text-center",children:(0,o.jsx)(fv,{})}):(0,o.jsx)("div",{children:(0,o.jsx)(Ho,{className:"my-5 justify-content-center",children:(0,o.jsx)(Yo,{lg:4,md:6,sm:8,children:(0,o.jsxs)(el,{children:[(0,o.jsx)(el.Header,{children:(0,o.jsx)("h5",{children:"\ud68c\uc6d0\uac00\uc785"})}),(0,o.jsx)(el.Body,{children:(0,o.jsxs)(ka,{onSubmit:t=>{t.preventDefault(),""===l||""===c?alert("\uc774\uba54\uc77c \ub610\ub294 \ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694\uc694"):window.confirm("\ud68c\uc6d0\uac00\uc785\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(r(!0),async function(e,t,n){if(Yu(e.app))return Promise.reject(xv(e));const r=O_(e),i=$_(r,{returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uw,"EMAIL_PASSWORD_PROVIDER"),s=await i.catch((t=>{throw"auth/password-does-not-meet-requirements"===t.code&&_w(e),t})),o=await hw._fromIdTokenResponse(r,"signIn",s);return await r._updateCurrentUser(o.user),o}(e,l,c).then((e=>{r(!1),alert("\ud68c\uc6d0\uac00\uc785 \uc131\uacf5"),i("/login")})).catch((e=>{r(!1),alert("\ud68c\uc6d0\uac00\uc785 \uc5d0\ub7ec"+e.message)})))},children:[(0,o.jsx)(ka.Control,{className:"mb-2",value:l,name:"email",onChange:u}),(0,o.jsx)(ka.Control,{className:"mb-2",value:c,name:"pass",type:"password",onChange:u}),(0,o.jsx)(Oa,{type:"submit",className:"w-100",children:"\ud68c\uc6d0\uac00\uc785"})]})})]})})})})};var Hb,Wb,Yb="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},Kb={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,o=0;o<t;){if(0==s)for(;o<=r;)n(this,e,o),o+=this.blockSize;if("string"===typeof e){for(;o<t;)if(i[s++]=e.charCodeAt(o++),s==this.blockSize){n(this,i),s=0;break}}else for(;o<t;)if(i[s++]=e[o++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function o(e){if(isNaN(e)||!isFinite(e))return a;if(0>e)return d(o(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var a=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function f(e,t){return e.add(d(t))}function p(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function m(e,t){this.g=e,this.h=t}function g(e,t){if(u(t))throw Error("division by zero");if(u(e))return new m(a,a);if(h(e))return t=g(d(e),t),new m(d(t.g),d(t.h));if(h(t))return t=g(e,d(t)),new m(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=y(n),r=y(r);var i=v(n,1),s=v(r,1);for(r=v(r,2),n=v(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=v(r,1),n=v(n,1)}return t=f(e,i.j(t)),new m(i,t)}for(i=a;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=o(n)).j(t);h(c)||0<c.l(e);)c=(s=o(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=f(e,c)}return new m(i,e)}function y(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function v(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],o=0;o<i;o++)s[o]=0<t?e.i(o+n)>>>t|e.i(o+n+1)<<32-t:e.i(o+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=o(Math.pow(e,6)),n=this,r="";;){var i=g(n,t).g,s=((0<(n=f(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=f(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var o=i+(65535&this.i(s))+(65535&e.i(s)),a=(o>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=a>>>16,o&=65535,a&=65535,n[s]=a<<16|o}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return a;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return o(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,f=65535&this.i(i),m=e.i(s)>>>16,g=65535&e.i(s);n[2*i+2*s]+=f*g,p(n,2*i+2*s),n[2*i+2*s+1]+=l*g,p(n,2*i+2*s+1),n[2*i+2*s+1]+=f*m,p(n,2*i+2*s+1),n[2*i+2*s+2]+=l*m,p(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return g(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Wb=Kb.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=o,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=o(Math.pow(n,8)),i=a,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=o(Math.pow(n,l)),i=i.j(l).add(o(c))):i=(i=i.j(r)).add(o(c))}return i},Hb=Kb.Integer=r}).apply("undefined"!==typeof Yb?Yb:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Gb,Qb,Jb,Xb,Zb,eE,tE,nE,rE="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},iE={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof rE&&rE];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var o=e[s];if(!(o in i))break e;i=i[o]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function o(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function a(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?a:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function f(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function p(e){return/^[\s\xa0]*$/.test(e)}function m(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function g(e){return g[" "](e),e}g[" "]=function(){};var y=-1!=m().indexOf("Gecko")&&!(-1!=m().toLowerCase().indexOf("webkit")&&-1==m().indexOf("Edge"))&&!(-1!=m().indexOf("Trident")||-1!=m().indexOf("MSIE"))&&-1==m().indexOf("Edge");function v(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function _(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function b(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function E(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function S(e){i.setTimeout((()=>{throw e}),0)}function k(){var e=N;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var C=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new T),(e=>e.reset()));class T{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let x,I=!1,N=new class{constructor(){this.h=this.g=null}add(e,t){const n=C.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);x=()=>{e.then(P)}};var P=()=>{for(var e;e=k();){try{e.h.call(e.g)}catch(n){S(n)}var t=C;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}I=!1};function O(){this.s=this.s,this.C=this.C}function A(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}O.prototype.s=!1,O.prototype.ma=function(){this.s||(this.s=!0,this.N())},O.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},A.prototype.h=function(){this.defaultPrevented=!0};var D=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function M(e,t){if(A.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(y){e:{try{g(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:L[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&M.aa.h.call(this)}}h(M,A);var L={2:"touch",3:"pen",4:"mouse"};M.prototype.h=function(){M.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function U(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function V(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function z(e){this.src=e,this.g={},this.h=0}function $(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(V(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function q(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}z.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=q(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new U(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var B="closure_lm_"+(1e6*Math.random()|0),H={};function W(e,t,n,r,i){if(r&&r.once)return K(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)W(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,o(r)?!!r.capture:!!r,i):Y(e,t,n,!1,r,i)}function Y(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var a=o(i)?!!i.capture:!!i,l=Z(e);if(l||(e[B]=l=new z(e)),(n=l.add(t,n,r,a,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=X;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)D||(i=a),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function K(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)K(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,o(r)?!!r.capture:!!r,i):Y(e,t,n,!0,r,i)}function G(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);else r=o(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=q(s=e.g[t],n,r,i))&&(V(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q(t,n,r,i)),(n=-1<e?t[e]:null)&&Q(n))}function Q(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?($(n,e),0==n.h&&(n.src=null,t[B]=null)):V(e)}}}function J(e){return e in H?H[e]:H[e]="on"+e}function X(e,t){if(e.da)e=!0;else{t=new M(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Q(e),e=n.call(r,t)}return e}function Z(e){return(e=e[B])instanceof z?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){O.call(this),this.i=new z(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new A(t,e);else if(t instanceof A)t.target=t.target||e;else{var i=t;b(t=new A(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=ie(o,r,!0,t)&&i}if(i=ie(o=t.g=e,r,!0,t)&&i,i=ie(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(o=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.da&&o.capture==n){var a=o.listener,l=o.ha||o.src;o.fa&&$(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function oe(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,oe(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,O),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){G(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)V(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class ae extends O{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:oe(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){O.call(this),this.h=e,this.g={}}h(le,O);var ce=[];function ue(e){v(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Q(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,fe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function pe(){}function me(e){return e.h||(e.h=e.i())}function ge(){}pe.prototype.h=null;var ye={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ve(){A.call(this,"d")}function _e(){A.call(this,"c")}h(ve,A),h(_e,A);var we={},be=null;function Ee(){return be=be||new ne}function Se(e){A.call(this,we.La,e)}function ke(e){const t=Ee();re(t,new Se(t))}function Ce(e,t){A.call(this,we.STAT_EVENT,e),this.stat=t}function Te(e){const t=Ee();re(t,new Ce(t,e))}function xe(e,t){A.call(this,we.Ma,e),this.size=t}function Ie(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ne(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return he(n)}catch(a){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Se,A),we.STAT_EVENT="statevent",h(Ce,A),we.Ma="timingevent",h(xe,A),Ne.prototype.xa=function(){this.g=!1},Ne.prototype.info=function(){};var Pe,Oe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ae={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function De(){}function Me(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Le}function Le(){this.i=null,this.g="",this.h=!1}h(De,pe),De.prototype.g=function(){return new XMLHttpRequest},De.prototype.i=function(){return{}},Pe=new De;var Fe={},je={};function Ue(e,t,n){e.L=1,e.v=ht(ot(t)),e.m=n,e.P=!0,Ve(e,null)}function Ve(e,t){e.F=Date.now(),qe(e),e.A=ot(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),Ct(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Le,e.g=fn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new ae(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var o=W(n,i[s],r||t.handleEvent,!1,t.h||t);if(!o)break;t.g[o.key]=o}t=e.H?_(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),ke(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var c=a[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");o=2<=h.length&&"type"==h[1]?o+(u+"=")+c+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function ze(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function $e(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function qe(e){e.S=Date.now()+e.I,Be(e,e.I)}function Be(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ie(c(e.ba,e),t)}function He(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function We(e){0==e.j.G||e.J||ln(e.j,e)}function Ye(e){He(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Ke(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;an(n),Qt(n)}rn(n),Te(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Ie(c(n.Za,n),6e3));if(1>=Xe(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&an(n),!p(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var o=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),o.K){tt(r.h,o);var a=o,l=r.L;l&&(a.I=l),a.B&&(He(a),qe(a)),r.g=o}else nn(r);0<n.i.length&&Xt(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Gt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}ke()}catch(u){}}Me.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==Ht(e)?t.j():this.Y(e)},Me.prototype.Y=function(e){try{if(e==this.g)e:{const d=Ht(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Wt(this.g)))){this.J||4!=d||7==t||ke(),He(this);var n=this.g.Z();this.X=n;t:if(ze(this)){var r=Wt(this.g);e="";var s=r.length,o=4==Ht(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ye(this),We(this);var a="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(o&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,a=this.h.g}else a=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!p(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,Te(12),Ye(this),We(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ke(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<a.length;){if(e=$e(this,a),e==je){4==d&&(this.s=4,Te(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,Te(15),Re(this.i,this.l,a,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Ke(this,e)}if(ze(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=a.length||this.h.h||(this.s=1,Te(16),n=!1),this.o=this.o&&n,n){if(0<a.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+a.length),sn(h),h.M=!0,Te(11))}}else Re(this.i,this.l,a,"[Invalid Chunked Response]"),Ye(this),We(this)}else Re(this.i,this.l,a,null),Ke(this,a);4==d&&Ye(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,qe(this)))}else(function(e){const t={};e=(e.g&&2<=Ht(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(p(e[r]))continue;var n=E(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<a.indexOf("Unknown SID")?(this.s=3,Te(12)):(this.s=0,Te(13)),Ye(this),We(this)}}}catch(d){}},Me.prototype.cancel=function(){this.J=!0,Ye(this)},Me.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(ke(),Te(17)),Ye(this),this.s=2,We(this)):Be(this,this.S-e)};var Ge=class{constructor(e,t){this.g=e,this.map=t}};function Qe(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Xe(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}Qe.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,at(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new bt;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,at(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new bt(null,this.h))}function ot(e){return new st(e)}function at(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof bt?(e.i=t,function(e,t){t&&!e.j&&(Et(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(St(this,t),Ct(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ft(t,_t)),e.i=new bt(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ft(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,pt),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function pt(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ft(t,gt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(ft(t,gt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ft(n,"/"==n.charAt(0)?vt:yt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",ft(n,wt)),e.join("")};var mt,gt=/[#\/\?@]/g,yt=/[#\?:]/g,vt=/[#\?]/g,_t=/[#\?@]/g,wt=/#/g;function bt(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Et(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function St(e,t){Et(e),t=Tt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function kt(e,t){return Et(e),t=Tt(e,t),e.g.has(t)}function Ct(e,t,n){St(e,t),0<n.length&&(e.i=null,e.g.set(Tt(e,t),d(n)),e.h+=n.length)}function Tt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function xt(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function It(){this.g=new fe}function Nt(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;o(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(fO){throw t.push(r+"type="+encodeURIComponent("_badmap")),fO}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Pt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Ot(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function At(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Dt(e)}function Dt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Mt(e){let t="";return v(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Lt(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Mt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=bt.prototype).add=function(e,t){Et(this),this.i=null,e=Tt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){Et(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){Et(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){Et(this);let t=[];if("string"===typeof e)kt(this,e)&&(t=t.concat(this.g.get(Tt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return Et(this),this.i=null,kt(this,e=Tt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.V(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")},h(Rt,pe),Rt.prototype.g=function(){return new Pt(this.l,this.j)},Rt.prototype.i=(mt={},function(){return mt}),h(Pt,ne),(e=Pt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Dt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,At(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Dt(this)),this.g&&(this.readyState=3,Dt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ot(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?At(this):Dt(this),3==this.readyState&&Ot(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,At(this))},e.Qa=function(e){this.g&&(this.response=e,At(this))},e.ga=function(){this.g&&At(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Pt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var jt=/^https?$/i,Ut=["POST","PUT"];function Vt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,zt(e),qt(e)}function zt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function $t(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=Ht(e)||2!=e.Z()))if(e.u&&4==Ht(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==Ht(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var o=String(e.D).match(it)[1]||null;!o&&i.self&&i.self.location&&(o=i.self.location.protocol.slice(0,-1)),s=!jt.test(o?o.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var a=2<Ht(e)?e.g.statusText:""}catch(l){a=""}e.l=a+" ["+e.Z()+"]",zt(e)}}finally{qt(e)}}}function qt(e,t){if(e.g){Bt(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(fO){}}}function Bt(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function Ht(e){return e.g?e.g.readyState:0}function Wt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function Yt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Kt(e){this.Aa=0,this.i=[],this.j=new Ne,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Yt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Yt("baseRetryDelayMs",5e3,e),this.cb=Yt("retryDelaySeedMs",1e4,e),this.Wa=Yt("forwardChannelMaxRetries",2,e),this.wa=Yt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Qe(e&&e.concurrentRequestLimit),this.Da=new It,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Gt(e){if(Jt(e),3==e.G){var t=e.U++,n=ot(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new Me(e,e.j,t)).L=2,t.v=ht(ot(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=fn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),qe(t)}hn(e)}function Qt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Qt(e),e.u&&(i.clearTimeout(e.u),e.u=null),an(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function Xt(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;x||R(),I||(x(),I=!0),N.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=ot(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Lt(r,e.m,e.o),n=new Me(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Ue(n,r,t)}function en(e,t){e.H&&v(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let o=!0;for(let a=0;a<n;a++){let n=i[a].g;const l=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),o=!1;else try{Nt(l,e,"req"+n+"_")}catch(s){r&&r(l)}}if(o){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;x||R(),I||(x(),I=!0),N.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Ie(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function on(e){e.g=new Me(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=ot(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Lt(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(ot(t)),n.m=null,n.P=!0,Ve(n,e)}function an(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){an(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Ee(),new xe(r,n)),Xt(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!(Xe(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Ie(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||at(r,"https"),ht(r),t?function(e,t){const n=new Ne;if(i.Image){const r=new Image;r.onload=u(xt,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(xt,n,"TestLoadImage: error",!1,t,r),r.onabort=u(xt,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(xt,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ne;const n=new AbortController,r=setTimeout((()=>{n.abort(),xt(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?xt(0,0,!0,t):xt(0,0,!1,t)})).catch((()=>{clearTimeout(r),xt(0,0,!1,t)}))}(r.toString(),n)}else Te(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(f(e.ka,t),f(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?ot(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var o=new st(null);r&&at(o,r),t&&(o.g=t),s&&lt(o,s),n&&(o.l=n),r=o}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function fn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Rt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function pn(){}function mn(){}function gn(e,t){ne.call(this),this.g=new Kt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!p(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!p(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new _n(this)}function yn(e){ve.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vn(){_e.call(this),this.status=1}function _n(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Pe.g(),this.v=this.o?me(this.o):me(Pe),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(o){return void Vt(this,o)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Ut,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,a]of n)this.g.setRequestHeader(i,a);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bt(this),this.u=!0,this.g.send(e),this.u=!1}catch(o){Vt(this,o)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),qt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?$t(this):this.bb())},e.bb=function(){$t(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<Ht(this)?this.g.status:-1}catch(mt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(mt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Kt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){Te(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),Xt(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new Me(this,this.j,e);let s=this.o;if(this.S&&(s?(s=_(s),b(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=ot(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Mt(s)))+"&"+t:this.m&&Lt(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Ue(i,n,null)):Ue(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,on(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Ie(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Te(10),Qt(this),on(this))},e.Za=function(){null!=this.C&&(this.C=null,Qt(this),rn(this),Te(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),Te(2)):(this.j.info("Failed to ping google.com"),Te(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=pn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},mn.prototype.g=function(e,t){return new gn(e,t)},h(gn,ne),gn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Gt(this.g)},gn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Ge(t.Ya++,e)),3==t.G&&Xt(t)},gn.prototype.N=function(){this.g.l=null,delete this.j,Gt(this.g),delete this.g,gn.aa.N.call(this)},h(yn,ve),h(vn,_e),h(_n,pn),_n.prototype.ua=function(){re(this.g,"a")},_n.prototype.ta=function(e){re(this.g,new yn(e))},_n.prototype.sa=function(e){re(this.g,new vn)},_n.prototype.ra=function(){re(this.g,"b")},mn.prototype.createWebChannel=mn.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,nE=iE.createWebChannelTransport=function(){return new mn},tE=iE.getStatEventTarget=function(){return Ee()},eE=iE.Event=we,Zb=iE.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Oe.NO_ERROR=0,Oe.TIMEOUT=8,Oe.HTTP_ERROR=6,Xb=iE.ErrorCode=Oe,Ae.COMPLETE="complete",Jb=iE.EventType=Ae,ge.EventType=ye,ye.OPEN="a",ye.CLOSE="b",ye.ERROR="c",ye.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Qb=iE.WebChannel=ge,iE.FetchXmlHttpFactory=Rt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Gb=iE.XhrIo=Ft}).apply("undefined"!==typeof rE?rE:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const sE="@firebase/firestore",oE="4.7.16";class aE{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}aE.UNAUTHENTICATED=new aE(null),aE.GOOGLE_CREDENTIALS=new aE("google-credentials-uid"),aE.FIRST_PARTY=new aE("first-party-uid"),aE.MOCK_USER=new aE("mock-user");let lE="11.8.1";const cE=new Hc("@firebase/firestore");function uE(){return cE.logLevel}function hE(e){if(cE.logLevel<=Vc.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pE);cE.debug(`Firestore (${lE}): ${e}`,...i)}}function dE(e){if(cE.logLevel<=Vc.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pE);cE.error(`Firestore (${lE}): ${e}`,...i)}}function fE(e){if(cE.logLevel<=Vc.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(pE);cE.warn(`Firestore (${lE}): ${e}`,...i)}}function pE(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function mE(e,t,n){let r="Unexpected state";"string"==typeof t?r=t:n=t,gE(e,r,n)}function gE(e,t,n){let r=`FIRESTORE (${lE}) INTERNAL ASSERTION FAILED: ${t} (ID: ${e.toString(16)})`;if(void 0!==n)try{r+=" CONTEXT: "+JSON.stringify(n)}catch(e){r+=" CONTEXT: "+n}throw dE(r),new Error(r)}function yE(e,t,n,r){let i="Unexpected state";"string"==typeof n?i=n:r=n,e||gE(t,i,r)}function vE(e,t){return e}const _E={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class wE extends fc{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class bE{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class EE{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class SE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(aE.UNAUTHENTICATED)))}shutdown(){}}class kE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class CE{constructor(e){this.t=e,this.currentUser=aE.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){yE(void 0===this.o,42304);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new bE;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new bE,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{hE("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(hE("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new bE)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(hE("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(yE("string"==typeof t.accessToken,31837,{l:t}),new EE(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return yE(null===e||"string"==typeof e,2055,{h:e}),new aE(e)}}class TE{constructor(e,t,n){this.P=e,this.T=t,this.I=n,this.type="FirstParty",this.user=aE.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class xE{constructor(e,t,n){this.P=e,this.T=t,this.I=n}getToken(){return Promise.resolve(new TE(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(aE.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class IE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class NE{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yu(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){yE(void 0===this.o,3512);const n=e=>{null!=e.error&&hE("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.m;return this.m=e.token,hE("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{hE("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.V.getImmediate({optional:!0});e?r(e):hE("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new IE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(yE("string"==typeof e.token,44558,{tokenResult:e}),this.m=e.token,new IE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function RE(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}function PE(){return new TextEncoder}class OE{static newId(){const e=62*Math.floor(256/62);let t="";for(;t.length<20;){const n=RE(40);for(let r=0;r<n.length;++r)t.length<20&&n[r]<e&&(t+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(n[r]%62))}return t}}function AE(e,t){return e<t?-1:e>t?1:0}function DE(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=e.codePointAt(n),i=t.codePointAt(n);if(r!==i){if(r<128&&i<128)return AE(r,i);{const s=PE(),o=LE(s.encode(ME(e,n)),s.encode(ME(t,n)));return 0!==o?o:AE(r,i)}}n+=r>65535?2:1}return AE(e.length,t.length)}function ME(e,t){return e.codePointAt(t)>65535?e.substring(t,t+2):e.substring(t,t+1)}function LE(e,t){for(let n=0;n<e.length&&n<t.length;++n)if(e[n]!==t[n])return AE(e[n],t[n]);return AE(e.length,t.length)}function FE(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}const jE=-62135596800,UE=1e6;class VE{static now(){return VE.fromMillis(Date.now())}static fromDate(e){return VE.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor((e-1e3*t)*UE);return new VE(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new wE(_E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new wE(_E.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<jE)throw new wE(_E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new wE(_E.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/UE}_compareTo(e){return this.seconds===e.seconds?AE(this.nanoseconds,e.nanoseconds):AE(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-jE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class zE{static fromTimestamp(e){return new zE(e)}static min(){return new zE(new VE(0,0))}static max(){return new zE(new VE(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const $E="__name__";class qE{constructor(e,t,n){void 0===t?t=0:t>e.length&&mE(637,{offset:t,range:e.length}),void 0===n?n=e.length-t:n>e.length-t&&mE(1746,{length:n,range:e.length-t}),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===qE.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof qE?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=qE.compareSegments(e.get(r),t.get(r));if(0!==n)return n}return AE(e.length,t.length)}static compareSegments(e,t){const n=qE.isNumericId(e),r=qE.isNumericId(t);return n&&!r?-1:!n&&r?1:n&&r?qE.extractNumericId(e).compare(qE.extractNumericId(t)):DE(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hb.fromString(e.substring(4,e.length-2))}}class BE extends qE{construct(e,t,n){return new BE(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new wE(_E.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((e=>e.length>0)))}return new BE(e)}static emptyPath(){return new BE([])}}const HE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class WE extends qE{construct(e,t,n){return new WE(e,t,n)}static isValidIdentifier(e){return HE.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),WE.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&this.get(0)===$E}static keyField(){return new WE([$E])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new wE(_E.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new wE(_E.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new wE(_E.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new wE(_E.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new WE(t)}static emptyPath(){return new WE([])}}class YE{constructor(e){this.path=e}static fromPath(e){return new YE(BE.fromString(e))}static fromName(e){return new YE(BE.fromString(e).popFirst(5))}static empty(){return new YE(BE.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===BE.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return BE.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new YE(new BE(e.slice()))}}const KE=-1;class GE{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}GE.UNKNOWN_ID=-1;function QE(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=zE.fromTimestamp(1e9===r?new VE(n+1,0):new VE(n,r));return new XE(i,YE.empty(),t)}function JE(e){return new XE(e.readTime,e.key,KE)}class XE{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new XE(zE.min(),YE.empty(),KE)}static max(){return new XE(zE.max(),YE.empty(),KE)}}function ZE(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=YE.comparator(e.documentKey,t.documentKey),0!==n?n:AE(e.largestBatchId,t.largestBatchId))}const eS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class tS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function nS(e){if(e.code!==_E.FAILED_PRECONDITION||e.message!==eS)throw e;hE("LocalStore","Unexpectedly lost primary lease")}class rS{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&mE(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new rS(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof rS?t:rS.resolve(t)}catch(e){return rS.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):rS.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):rS.reject(t)}static resolve(e){return new rS(((t,n)=>{t(e)}))}static reject(e){return new rS(((t,n)=>{n(e)}))}static waitFor(e){return new rS(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=rS.resolve(!1);for(const n of e)t=t.next((e=>e?rS.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new rS(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new rS(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function iS(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sS(e){return"IndexedDbTransactionError"===e.name}class oS{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ue(e),this.ce=e=>t.writeSequenceNumber(e))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}oS.le=-1;const aS=-1;function lS(e){return null==e}function cS(e){return 0===e&&1/e==-1/0}function uS(e){return"number"==typeof e&&Number.isInteger(e)&&!cS(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const hS="\x01";function dS(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=pS(t)),t=fS(e.get(n),t);return pS(t)}function fS(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case hS:n+="\x01\x11";break;default:n+=t}}return n}function pS(e){return e+hS+"\x01"}const mS="remoteDocuments",gS="owner",yS="mutationQueues",vS="mutations";const _S="documentMutations",wS="remoteDocumentsV14",bS="remoteDocumentGlobal",ES="targets",SS="targetDocuments",kS="targetGlobal",CS="collectionParents",TS="clientMetadata",xS="bundles",IS="namedQueries",NS="indexConfiguration",RS="indexState",PS="indexEntries",OS="documentOverlays",AS="globals",DS=[yS,vS,_S,mS,ES,gS,kS,SS,TS,bS,CS,xS,IS],MS=[yS,vS,_S,wS,ES,gS,kS,SS,TS,bS,CS,xS,IS,OS],LS=MS,FS=[...LS,NS,RS,PS];function jS(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function US(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function VS(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class zS{constructor(e,t){this.comparator=e,this.root=t||qS.EMPTY}insert(e,t){return new zS(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,qS.BLACK,null,null))}remove(e){return new zS(this.comparator,this.root.remove(e,this.comparator).copy(null,null,qS.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $S(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $S(this.root,e,this.comparator,!1)}getReverseIterator(){return new $S(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $S(this.root,e,this.comparator,!0)}}class $S{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class qS{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:qS.RED,this.left=null!=r?r:qS.EMPTY,this.right=null!=i?i:qS.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new qS(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return qS.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return qS.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,qS.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,qS.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw mE(43730,{key:this.key,value:this.value});if(this.right.isRed())throw mE(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw mE(27949);return e+(this.isRed()?0:1)}}qS.EMPTY=null,qS.RED=!0,qS.BLACK=!1,qS.EMPTY=new class{constructor(){this.size=0}get key(){throw mE(57766)}get value(){throw mE(16141)}get color(){throw mE(16727)}get left(){throw mE(29726)}get right(){throw mE(36894)}copy(e,t,n,r,i){return this}insert(e,t,n){return new qS(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class BS{constructor(e){this.comparator=e,this.data=new zS(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HS(this.data.getIterator())}getIteratorFrom(e){return new HS(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof BS))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new BS(this.comparator);return t.data=e,t}}class HS{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class WS{constructor(e){this.fields=e,e.sort(WE.comparator)}static empty(){return new WS([])}unionWith(e){let t=new BS(WE.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new WS(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return FE(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class YS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class KS{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new YS("Invalid base64 string: "+e):e}}(e);return new KS(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new KS(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return AE(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}KS.EMPTY_BYTE_STRING=new KS("");const GS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function QS(e){if(yE(!!e,39018),"string"==typeof e){let t=0;const n=GS.exec(e);if(yE(!!n,46558,{timestamp:e}),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:JS(e.seconds),nanos:JS(e.nanos)}}function JS(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function XS(e){return"string"==typeof e?KS.fromBase64String(e):KS.fromUint8Array(e)}const ZS="server_timestamp",ek="__type__",tk="__previous_value__",nk="__local_write_time__";function rk(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ek])||void 0===n?void 0:n.stringValue)===ZS}function ik(e){const t=e.mapValue.fields[tk];return rk(t)?ik(t):t}function sk(e){const t=QS(e.mapValue.fields[nk].timestampValue);return new VE(t.seconds,t.nanos)}class ok{constructor(e,t,n,r,i,s,o,a,l,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=a,this.useFetchStreams=l,this.isUsingEmulator=c}}const ak="(default)";class lk{constructor(e,t){this.projectId=e,this.database=t||ak}static empty(){return new lk("","")}get isDefaultDatabase(){return this.database===ak}isEqual(e){return e instanceof lk&&e.projectId===this.projectId&&e.database===this.database}}const ck="__type__",uk="__max__",hk={mapValue:{fields:{__type__:{stringValue:uk}}}},dk="__vector__",fk="value";function pk(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?rk(e)?4:Pk(e)?9007199254740991:Nk(e)?10:11:mE(28295,{value:e})}function mk(e,t){if(e===t)return!0;const n=pk(e);if(n!==pk(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return sk(e).isEqual(sk(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=QS(e.timestampValue),r=QS(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return XS(e.bytesValue).isEqual(XS(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return JS(e.geoPointValue.latitude)===JS(t.geoPointValue.latitude)&&JS(e.geoPointValue.longitude)===JS(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return JS(e.integerValue)===JS(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=JS(e.doubleValue),r=JS(t.doubleValue);return n===r?cS(n)===cS(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return FE(e.arrayValue.values||[],t.arrayValue.values||[],mk);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(jS(n)!==jS(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!mk(n[i],r[i])))return!1;return!0}(e,t);default:return mE(52216,{left:e})}}function gk(e,t){return void 0!==(e.values||[]).find((e=>mk(e,t)))}function yk(e,t){if(e===t)return 0;const n=pk(e),r=pk(t);if(n!==r)return AE(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return AE(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=JS(e.integerValue||e.doubleValue),r=JS(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vk(e.timestampValue,t.timestampValue);case 4:return vk(sk(e),sk(t));case 5:return DE(e.stringValue,t.stringValue);case 6:return function(e,t){const n=XS(e),r=XS(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=AE(n[i],r[i]);if(0!==e)return e}return AE(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=AE(JS(e.latitude),JS(t.latitude));return 0!==n?n:AE(JS(e.longitude),JS(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return _k(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const o=e.fields||{},a=t.fields||{},l=null===(n=o[fk])||void 0===n?void 0:n.arrayValue,c=null===(r=a[fk])||void 0===r?void 0:r.arrayValue,u=AE((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:_k(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===hk.mapValue&&t===hk.mapValue)return 0;if(e===hk.mapValue)return 1;if(t===hk.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let o=0;o<r.length&&o<s.length;++o){const e=DE(r[o],s[o]);if(0!==e)return e;const t=yk(n[r[o]],i[s[o]]);if(0!==t)return t}return AE(r.length,s.length)}(e.mapValue,t.mapValue);default:throw mE(23264,{Pe:n})}}function vk(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return AE(e,t);const n=QS(e),r=QS(t),i=AE(n.seconds,r.seconds);return 0!==i?i:AE(n.nanos,r.nanos)}function _k(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=yk(n[i],r[i]);if(e)return e}return AE(n.length,r.length)}function wk(e){return bk(e)}function bk(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=QS(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return XS(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return YE.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=bk(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${bk(e.fields[i])}`;return n+"}"}(e.mapValue):mE(61005,{value:e})}function Ek(e){switch(pk(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ik(e);return t?16+Ek(t):16;case 5:return 2*e.stringValue.length;case 6:return XS(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Ek(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return US(e.fields,((e,n)=>{t+=e.length+Ek(n)})),t}(e.mapValue);default:throw mE(13486,{value:e})}}function Sk(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function kk(e){return!!e&&"integerValue"in e}function Ck(e){return!!e&&"arrayValue"in e}function Tk(e){return!!e&&"nullValue"in e}function xk(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Ik(e){return!!e&&"mapValue"in e}function Nk(e){var t,n;return(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{})[ck])||void 0===n?void 0:n.stringValue)===dk}function Rk(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return US(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Rk(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Rk(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Pk(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue===uk}class Ok{constructor(e){this.value=e}static empty(){return new Ok({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Ik(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Rk(t)}setAll(e){let t=WE.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Rk(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Ik(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return mk(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Ik(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){US(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ok(Rk(this.value))}}function Ak(e){const t=[];return US(e.fields,((e,n)=>{const r=new WE([e]);if(Ik(n)){const e=Ak(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new WS(t)}class Dk{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new Dk(e,0,zE.min(),zE.min(),zE.min(),Ok.empty(),0)}static newFoundDocument(e,t,n,r){return new Dk(e,1,t,zE.min(),n,r,0)}static newNoDocument(e,t){return new Dk(e,2,t,zE.min(),zE.min(),Ok.empty(),0)}static newUnknownDocument(e,t){return new Dk(e,3,t,zE.min(),zE.min(),Ok.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(zE.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ok.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ok.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=zE.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Dk&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Dk(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Mk{constructor(e,t){this.position=e,this.inclusive=t}}function Lk(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?YE.comparator(YE.fromName(o.referenceValue),n.key):yk(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Fk(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!mk(e.position[n],t.position[n]))return!1;return!0}class jk{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Uk(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Vk{}class zk extends Vk{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new Gk(e,t,n):"array-contains"===t?new Zk(e,n):"in"===t?new eC(e,n):"not-in"===t?new tC(e,n):"array-contains-any"===t?new nC(e,n):new zk(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new Qk(e,n):new Jk(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&void 0===t.nullValue&&this.matchesComparison(yk(t,this.value)):null!==t&&pk(this.value)===pk(t)&&this.matchesComparison(yk(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return mE(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class $k extends Vk{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new $k(e,t)}matches(e){return qk(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.Te||(this.Te=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function qk(e){return"and"===e.op}function Bk(e){return Hk(e)&&qk(e)}function Hk(e){for(const t of e.filters)if(t instanceof $k)return!1;return!0}function Wk(e){if(e instanceof zk)return e.field.canonicalString()+e.op.toString()+wk(e.value);if(Bk(e))return e.filters.map((e=>Wk(e))).join(",");{const t=e.filters.map((e=>Wk(e))).join(",");return`${e.op}(${t})`}}function Yk(e,t){return e instanceof zk?function(e,t){return t instanceof zk&&e.op===t.op&&e.field.isEqual(t.field)&&mk(e.value,t.value)}(e,t):e instanceof $k?function(e,t){return t instanceof $k&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&Yk(n,t.filters[r])),!0)}(e,t):void mE(19439)}function Kk(e){return e instanceof zk?function(e){return`${e.field.canonicalString()} ${e.op} ${wk(e.value)}`}(e):e instanceof $k?function(e){return e.op.toString()+" {"+e.getFilters().map(Kk).join(" ,")+"}"}(e):"Filter"}class Gk extends zk{constructor(e,t,n){super(e,t,n),this.key=YE.fromName(n.referenceValue)}matches(e){const t=YE.comparator(e.key,this.key);return this.matchesComparison(t)}}class Qk extends zk{constructor(e,t){super(e,"in",t),this.keys=Xk("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class Jk extends zk{constructor(e,t){super(e,"not-in",t),this.keys=Xk("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Xk(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>YE.fromName(e.referenceValue)))}class Zk extends zk{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ck(t)&&gk(t.arrayValue,this.value)}}class eC extends zk{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gk(this.value.arrayValue,t)}}class tC extends zk{constructor(e,t){super(e,"not-in",t)}matches(e){if(gk(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&void 0===t.nullValue&&!gk(this.value.arrayValue,t)}}class nC extends zk{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ck(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>gk(this.value.arrayValue,e)))}}class rC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.Ie=null}}function iC(e){return new rC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function sC(e){const t=vE(e);if(null===t.Ie){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>Wk(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),lS(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>wk(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>wk(e))).join(",")),t.Ie=e}return t.Ie}function oC(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Uk(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!Yk(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Fk(e.startAt,t.startAt)&&Fk(e.endAt,t.endAt)}function aC(e){return YE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class lC{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function cC(e,t,n,r,i,s,o,a){return new lC(e,t,n,r,i,s,o,a)}function uC(e){return new lC(e)}function hC(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function dC(e){return null!==e.collectionGroup}function fC(e){const t=vE(e);if(null===t.Ee){t.Ee=[];const e=new Set;for(const i of t.explicitOrderBy)t.Ee.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new BS(WE.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.Ee.push(new jk(r,n))})),e.has(WE.keyField().canonicalString())||t.Ee.push(new jk(WE.keyField(),n))}return t.Ee}function pC(e){const t=vE(e);return t.de||(t.de=mC(t,fC(e))),t.de}function mC(e,t){if("F"===e.limitType)return iC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new jk(e.field,t)}));const n=e.endAt?new Mk(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Mk(e.startAt.position,e.startAt.inclusive):null;return iC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function gC(e,t){const n=e.filters.concat([t]);return new lC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function yC(e,t,n){return new lC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vC(e,t){return oC(pC(e),pC(t))&&e.limitType===t.limitType}function _C(e){return`${sC(pC(e))}|lt:${e.limitType}`}function wC(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>Kk(e))).join(", ")}]`),lS(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>wk(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>wk(e))).join(",")),`Target(${t})`}(pC(e))}; limitType=${e.limitType})`}function bC(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):YE.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of fC(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=Lk(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fC(e),t))&&!(e.endAt&&!function(e,t,n){const r=Lk(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fC(e),t))}(e,t)}function EC(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function SC(e){return(t,n)=>{let r=!1;for(const i of fC(e)){const e=kC(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function kC(e,t,n){const r=e.field.isKeyField()?YE.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?yk(r,i):mE(42886)}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return mE(19790,{direction:e.dir})}}class CC{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){US(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return VS(this.inner)}size(){return this.innerSize}}const TC=new zS(YE.comparator);function xC(){return TC}const IC=new zS(YE.comparator);function NC(){let e=IC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function RC(e){let t=IC;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function PC(){return AC()}function OC(){return AC()}function AC(){return new CC((e=>e.toString()),((e,t)=>e.isEqual(t)))}const DC=new zS(YE.comparator),MC=new BS(YE.comparator);function LC(){let e=MC;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const FC=new BS(AE);function jC(){return FC}function UC(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:cS(t)?"-0":t}}function VC(e){return{integerValue:""+e}}function zC(e,t){return uS(t)?VC(t):UC(e,t)}class $C{constructor(){this._=void 0}}function qC(e,t,n){return e instanceof WC?function(e,t){const n={fields:{[ek]:{stringValue:ZS},[nk]:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&rk(t)&&(t=ik(t)),t&&(n.fields[tk]=t),{mapValue:n}}(n,t):e instanceof YC?KC(e,t):e instanceof GC?QC(e,t):function(e,t){const n=HC(e,t),r=XC(n)+XC(e.Re);return kk(n)&&kk(e.Re)?VC(r):UC(e.serializer,r)}(e,t)}function BC(e,t,n){return e instanceof YC?KC(e,t):e instanceof GC?QC(e,t):n}function HC(e,t){return e instanceof JC?function(e){return kk(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class WC extends $C{}class YC extends $C{constructor(e){super(),this.elements=e}}function KC(e,t){const n=ZC(t);for(const r of e.elements)n.some((e=>mk(e,r)))||n.push(r);return{arrayValue:{values:n}}}class GC extends $C{constructor(e){super(),this.elements=e}}function QC(e,t){let n=ZC(t);for(const r of e.elements)n=n.filter((e=>!mk(e,r)));return{arrayValue:{values:n}}}class JC extends $C{constructor(e,t){super(),this.serializer=e,this.Re=t}}function XC(e){return JS(e.integerValue||e.doubleValue)}function ZC(e){return Ck(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class eT{constructor(e,t){this.version=e,this.transformResults=t}}class tT{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new tT}static exists(e){return new tT(void 0,e)}static updateTime(e){return new tT(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function nT(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class rT{}function iT(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new pT(e.key,tT.none()):new cT(e.key,e.data,tT.none());{const n=e.data,r=Ok.empty();let i=new BS(WE.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new uT(e.key,r,new WS(i.toArray()),tT.none())}}function sT(e,t,n){e instanceof cT?function(e,t,n){const r=e.value.clone(),i=dT(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof uT?function(e,t,n){if(!nT(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=dT(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(hT(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function oT(e,t,n,r){return e instanceof cT?function(e,t,n,r){if(!nT(e.precondition,t))return n;const i=e.value.clone(),s=fT(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof uT?function(e,t,n,r){if(!nT(e.precondition,t))return n;const i=fT(e.fieldTransforms,r,t),s=t.data;return s.setAll(hT(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return nT(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function aT(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=HC(r.transform,e||null);null!=i&&(null===n&&(n=Ok.empty()),n.set(r.field,i))}return n||null}function lT(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&FE(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof YC&&t instanceof YC||e instanceof GC&&t instanceof GC?FE(e.elements,t.elements,mk):e instanceof JC&&t instanceof JC?mk(e.Re,t.Re):e instanceof WC&&t instanceof WC}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class cT extends rT{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class uT extends rT{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function hT(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function dT(e,t,n){const r=new Map;yE(e.length===n.length,32656,{Ve:n.length,me:e.length});for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,BC(o,a,n[i]))}return r}function fT(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,qC(e,s,t))}return r}class pT extends rT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class mT extends rT{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gT{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&sT(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=oT(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=oT(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=OC();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=iT(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(zE.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),LC())}isEqual(e){return this.batchId===e.batchId&&FE(this.mutations,e.mutations,((e,t)=>lT(e,t)))&&FE(this.baseMutations,e.baseMutations,((e,t)=>lT(e,t)))}}class yT{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){yE(e.mutations.length===n.length,58842,{fe:e.mutations.length,ge:n.length});let r=DC;const i=e.mutations;for(let s=0;s<i.length;s++)r=r.insert(i[s].key,n[s].version);return new yT(e,t,n,r)}}class vT{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class _T{constructor(e,t){this.count=e,this.unchangedNames=t}}var wT,bT;function ET(e){switch(e){case _E.OK:return mE(64938);case _E.CANCELLED:case _E.UNKNOWN:case _E.DEADLINE_EXCEEDED:case _E.RESOURCE_EXHAUSTED:case _E.INTERNAL:case _E.UNAVAILABLE:case _E.UNAUTHENTICATED:return!1;case _E.INVALID_ARGUMENT:case _E.NOT_FOUND:case _E.ALREADY_EXISTS:case _E.PERMISSION_DENIED:case _E.FAILED_PRECONDITION:case _E.ABORTED:case _E.OUT_OF_RANGE:case _E.UNIMPLEMENTED:case _E.DATA_LOSS:return!0;default:return mE(15467,{code:e})}}function ST(e){if(void 0===e)return dE("GRPC error has no .code"),_E.UNKNOWN;switch(e){case wT.OK:return _E.OK;case wT.CANCELLED:return _E.CANCELLED;case wT.UNKNOWN:return _E.UNKNOWN;case wT.DEADLINE_EXCEEDED:return _E.DEADLINE_EXCEEDED;case wT.RESOURCE_EXHAUSTED:return _E.RESOURCE_EXHAUSTED;case wT.INTERNAL:return _E.INTERNAL;case wT.UNAVAILABLE:return _E.UNAVAILABLE;case wT.UNAUTHENTICATED:return _E.UNAUTHENTICATED;case wT.INVALID_ARGUMENT:return _E.INVALID_ARGUMENT;case wT.NOT_FOUND:return _E.NOT_FOUND;case wT.ALREADY_EXISTS:return _E.ALREADY_EXISTS;case wT.PERMISSION_DENIED:return _E.PERMISSION_DENIED;case wT.FAILED_PRECONDITION:return _E.FAILED_PRECONDITION;case wT.ABORTED:return _E.ABORTED;case wT.OUT_OF_RANGE:return _E.OUT_OF_RANGE;case wT.UNIMPLEMENTED:return _E.UNIMPLEMENTED;case wT.DATA_LOSS:return _E.DATA_LOSS;default:return mE(39323,{code:e})}}(bT=wT||(wT={}))[bT.OK=0]="OK",bT[bT.CANCELLED=1]="CANCELLED",bT[bT.UNKNOWN=2]="UNKNOWN",bT[bT.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",bT[bT.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",bT[bT.NOT_FOUND=5]="NOT_FOUND",bT[bT.ALREADY_EXISTS=6]="ALREADY_EXISTS",bT[bT.PERMISSION_DENIED=7]="PERMISSION_DENIED",bT[bT.UNAUTHENTICATED=16]="UNAUTHENTICATED",bT[bT.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",bT[bT.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",bT[bT.ABORTED=10]="ABORTED",bT[bT.OUT_OF_RANGE=11]="OUT_OF_RANGE",bT[bT.UNIMPLEMENTED=12]="UNIMPLEMENTED",bT[bT.INTERNAL=13]="INTERNAL",bT[bT.UNAVAILABLE=14]="UNAVAILABLE",bT[bT.DATA_LOSS=15]="DATA_LOSS";let kT=null;const CT=new Hb([4294967295,4294967295],0);function TT(e){const t=PE().encode(e),n=new Wb;return n.update(t),new Uint8Array(n.digest())}function xT(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Hb([n,r],0),new Hb([i,s],0)]}class IT{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new NT(`Invalid padding: ${t}`);if(n<0)throw new NT(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new NT(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new NT(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=Hb.fromNumber(this.pe)}we(e,t,n){let r=e.add(t.multiply(Hb.fromNumber(n)));return 1===r.compare(CT)&&(r=new Hb([r.getBits(0),r.getBits(1)],0)),r.modulo(this.ye).toNumber()}Se(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.pe)return!1;const t=TT(e),[n,r]=xT(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);if(!this.Se(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new IT(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.pe)return;const t=TT(e),[n,r]=xT(t);for(let i=0;i<this.hashCount;i++){const e=this.we(n,r,i);this.be(e)}}be(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class NT extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class RT{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,PT.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new RT(zE.min(),r,new zS(AE),xC(),LC())}}class PT{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new PT(n,t,LC(),LC(),LC())}}class OT{constructor(e,t,n,r){this.De=e,this.removedTargetIds=t,this.key=n,this.ve=r}}class AT{constructor(e,t){this.targetId=e,this.Ce=t}}class DT{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:KS.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class MT{constructor(){this.Fe=0,this.Me=jT(),this.xe=KS.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return 0!==this.Fe}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=LC(),t=LC(),n=LC();return this.Me.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:mE(38017,{changeType:i})}})),new PT(this.xe,this.Oe,e,t,n)}Qe(){this.Ne=!1,this.Me=jT()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,yE(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class LT{constructor(e){this.ze=e,this.je=new Map,this.He=xC(),this.Je=FT(),this.Ye=FT(),this.Ze=new zS(AE)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,(t=>{const n=this.rt(t);switch(e.state){case 0:this.it(t)&&n.ke(e.resumeToken);break;case 1:n.We(),n.Be||n.Qe(),n.ke(e.resumeToken);break;case 2:n.We(),n.Be||this.removeTarget(t);break;case 3:this.it(t)&&(n.Ge(),n.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),n.ke(e.resumeToken));break;default:mE(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach(((e,n)=>{this.it(n)&&t(n)}))}ot(e){const t=e.targetId,n=e.Ce.count,r=this._t(t);if(r){const i=r.target;if(aC(i))if(0===n){const e=new YE(i.path);this.tt(t,e,Dk.newNoDocument(e,zE.min()))}else yE(1===n,20013,{expectedCount:n});else{const r=this.ut(t);if(r!==n){const n=this.ct(e),i=n?this.lt(n,e,r):1;if(0!==i){this.st(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,e)}null==kT||kT.ht(function(e,t,n,r,i){var s,o,a,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(a=null===(o=null==d?void 0:d.bits)||void 0===o?void 0:o.bitmap)||void 0===a?void 0:a.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.Ce,this.ze.Pt(),n,i))}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,o;try{s=XS(n).toUint8Array()}catch(e){if(e instanceof YS)return fE("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{o=new IT(s,r,i)}catch(e){return fE(e instanceof NT?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===o.pe?null:o}lt(e,t,n){return t.Ce.count===n-this.Tt(e,t.targetId)?0:2}Tt(e,t){const n=this.ze.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.ze.Pt(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;e.mightContain(s)||(this.tt(t,n,null),r++)})),r}It(e){const t=new Map;this.je.forEach(((n,r)=>{const i=this._t(r);if(i){if(n.current&&aC(i.target)){const t=new YE(i.target.path);this.Et(t).has(r)||this.dt(r,t)||this.tt(r,t,Dk.newNoDocument(t,e))}n.Le&&(t.set(r,n.qe()),n.Qe())}}));let n=LC();this.Ye.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this._t(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.He.forEach(((t,n)=>n.setReadTime(e)));const r=new RT(e,t,this.Ze,this.He,n);return this.He=xC(),this.Je=FT(),this.Ye=FT(),this.Ze=new zS(AE),r}et(e,t){if(!this.it(e))return;const n=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,n),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,n){if(!this.it(e))return;const r=this.rt(e);this.dt(e,t)?r.$e(t,1):r.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),n&&(this.He=this.He.insert(t,n))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new MT,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new BS(AE),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new BS(AE),this.Je=this.Je.insert(e,t)),t}it(e){const t=null!==this._t(e);return t||hE("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new MT),this.ze.getRemoteKeysForTarget(e).forEach((t=>{this.tt(e,t,null)}))}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function FT(){return new zS(YE.comparator)}function jT(){return new zS(YE.comparator)}const UT={asc:"ASCENDING",desc:"DESCENDING"},VT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zT={and:"AND",or:"OR"};class $T{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qT(e,t){return e.useProto3Json||lS(t)?t:{value:t}}function BT(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function HT(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function WT(e,t){return BT(e,t.toTimestamp())}function YT(e){return yE(!!e,49232),zE.fromTimestamp(function(e){const t=QS(e);return new VE(t.seconds,t.nanos)}(e))}function KT(e,t){return GT(e,t).canonicalString()}function GT(e,t){const n=function(e){return new BE(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function QT(e){const t=BE.fromString(e);return yE(gx(t),10190,{key:t.toString()}),t}function JT(e,t){return KT(e.databaseId,t.path)}function XT(e,t){const n=QT(t);if(n.get(1)!==e.databaseId.projectId)throw new wE(_E.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new wE(_E.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new YE(nx(n))}function ZT(e,t){return KT(e.databaseId,t)}function ex(e){const t=QT(e);return 4===t.length?BE.emptyPath():nx(t)}function tx(e){return new BE(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nx(e){return yE(e.length>4&&"documents"===e.get(4),29091,{key:e.toString()}),e.popFirst(5)}function rx(e,t,n){return{name:JT(e,t),fields:n.value.mapValue.fields}}function ix(e,t){let n;if(t instanceof cT)n={update:rx(e,t.key,t.value)};else if(t instanceof pT)n={delete:JT(e,t.key)};else if(t instanceof uT)n={update:rx(e,t.key,t.data),updateMask:mx(t.fieldMask)};else{if(!(t instanceof mT))return mE(16599,{ft:t.type});n={verify:JT(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof WC)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof YC)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof GC)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof JC)return{fieldPath:t.field.canonicalString(),increment:n.Re};throw mE(20930,{transform:t.transform})}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:WT(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:mE(27497)}(e,t.precondition)),n}function sx(e,t){return{documents:[ZT(e,t.path)]}}function ox(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=ZT(e,i);const s=function(e){if(0!==e.length)return px($k.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:dx(e.field),direction:cx(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const a=qT(e,t.limit);return null!==a&&(n.structuredQuery.limit=a),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{gt:n,parent:i}}function ax(e){let t=ex(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){yE(1===r,65062);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=lx(e);return t instanceof $k&&Bk(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=function(e){return e.map((e=>function(e){return new jk(fx(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,lS(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Mk(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Mk(n,t)}(n.endAt)),cC(t,i,o,s,a,"F",l,c)}function lx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=fx(e.unaryFilter.field);return zk.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=fx(e.unaryFilter.field);return zk.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=fx(e.unaryFilter.field);return zk.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=fx(e.unaryFilter.field);return zk.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return mE(61313);default:return mE(60726)}}(e):void 0!==e.fieldFilter?function(e){return zk.create(fx(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return mE(58110);default:return mE(50506)}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return $k.create(e.compositeFilter.filters.map((e=>lx(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return mE(1026)}}(e.compositeFilter.op))}(e):mE(30097,{filter:e})}function cx(e){return UT[e]}function ux(e){return VT[e]}function hx(e){return zT[e]}function dx(e){return{fieldPath:e.canonicalString()}}function fx(e){return WE.fromServerFormat(e.fieldPath)}function px(e){return e instanceof zk?function(e){if("=="===e.op){if(xk(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NAN"}};if(Tk(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xk(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NOT_NAN"}};if(Tk(e.value))return{unaryFilter:{field:dx(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dx(e.field),op:ux(e.op),value:e.value}}}(e):e instanceof $k?function(e){const t=e.getFilters().map((e=>px(e)));return 1===t.length?t[0]:{compositeFilter:{op:hx(e.op),filters:t}}}(e):mE(54877,{filter:e})}function mx(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function gx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class yx{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:zE.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:zE.min(),o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:KS.EMPTY_BYTE_STRING,a=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new yx(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new yx(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new yx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new yx(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vx{constructor(e){this.wt=e}}function _x(e){const t=ax({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?yC(t,t.limit,"L"):t}class wx{constructor(){}vt(e,t){this.Ct(e,t),t.Ft()}Ct(e,t){if("nullValue"in e)this.Mt(t,5);else if("booleanValue"in e)this.Mt(t,10),t.xt(e.booleanValue?1:0);else if("integerValue"in e)this.Mt(t,15),t.xt(JS(e.integerValue));else if("doubleValue"in e){const n=JS(e.doubleValue);isNaN(n)?this.Mt(t,13):(this.Mt(t,15),cS(n)?t.xt(0):t.xt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Mt(t,20),"string"==typeof n&&(n=QS(n)),t.Ot(`${n.seconds||""}`),t.xt(n.nanos||0)}else if("stringValue"in e)this.Nt(e.stringValue,t),this.Bt(t);else if("bytesValue"in e)this.Mt(t,30),t.Lt(XS(e.bytesValue)),this.Bt(t);else if("referenceValue"in e)this.kt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Mt(t,45),t.xt(n.latitude||0),t.xt(n.longitude||0)}else"mapValue"in e?Pk(e)?this.Mt(t,Number.MAX_SAFE_INTEGER):Nk(e)?this.qt(e.mapValue,t):(this.Qt(e.mapValue,t),this.Bt(t)):"arrayValue"in e?(this.$t(e.arrayValue,t),this.Bt(t)):mE(19022,{Ut:e})}Nt(e,t){this.Mt(t,25),this.Kt(e,t)}Kt(e,t){t.Ot(e)}Qt(e,t){const n=e.fields||{};this.Mt(t,55);for(const r of Object.keys(n))this.Nt(r,t),this.Ct(n[r],t)}qt(e,t){var n,r;const i=e.fields||{};this.Mt(t,53);const s=fk,o=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Mt(t,15),t.xt(JS(o)),this.Nt(s,t),this.Ct(i[s],t)}$t(e,t){const n=e.values||[];this.Mt(t,50);for(const r of n)this.Ct(r,t)}kt(e,t){this.Mt(t,37),YE.fromName(e).path.forEach((e=>{this.Mt(t,60),this.Kt(e,t)}))}Mt(e,t){e.xt(t)}Bt(e){e.xt(2)}}wx.Wt=new wx;class bx{constructor(){this.Cn=new Ex}addToCollectionParentIndex(e,t){return this.Cn.add(t),rS.resolve()}getCollectionParents(e,t){return rS.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return rS.resolve()}deleteFieldIndex(e,t){return rS.resolve()}deleteAllFieldIndexes(e){return rS.resolve()}createTargetIndexes(e,t){return rS.resolve()}getDocumentsMatchingTarget(e,t){return rS.resolve(null)}getIndexType(e,t){return rS.resolve(0)}getFieldIndexes(e,t){return rS.resolve([])}getNextCollectionGroupToUpdate(e){return rS.resolve(null)}getMinOffset(e,t){return rS.resolve(XE.min())}getMinOffsetFromCollectionGroup(e,t){return rS.resolve(XE.min())}updateCollectionGroup(e,t,n){return rS.resolve()}updateIndexEntries(e,t){return rS.resolve()}}class Ex{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new BS(BE.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new BS(BE.comparator)).toArray()}}new Uint8Array(0);const Sx={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kx=41943040;class Cx{static withCacheSize(e){return new Cx(e,Cx.DEFAULT_COLLECTION_PERCENTILE,Cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}Cx.DEFAULT_COLLECTION_PERCENTILE=10,Cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cx.DEFAULT=new Cx(kx,Cx.DEFAULT_COLLECTION_PERCENTILE,Cx.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cx.DISABLED=new Cx(-1,0,0);class Tx{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Tx(0)}static lr(){return new Tx(-1)}}const xx="LruGarbageCollector",Ix=1048576;function Nx(e,t){let[n,r]=e,[i,s]=t;const o=AE(n,i);return 0===o?AE(r,s):o}class Rx{constructor(e){this.Er=e,this.buffer=new BS(Nx),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Nx(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Vr=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return null!==this.Vr}mr(e){hE(xx,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){sS(e)?hE(xx,"Ignoring IndexedDB error during garbage collection: ",e):await nS(e)}await this.mr(3e5)}))}}class Ox{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return rS.resolve(oS.le);const n=new Rx(t);return this.gr.forEachTarget(e,(e=>n.Rr(e.sequenceNumber))).next((()=>this.gr.yr(e,(e=>n.Rr(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.gr.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(hE("LruGarbageCollector","Garbage collection skipped; disabled"),rS.resolve(Sx)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(hE("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Sx):this.wr(e,t)))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let n,r,i,s,o,a,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(hE("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),uE()<=Vc.DEBUG&&hE("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-c}ms\n\tDetermined least recently used ${r} in `+(o-s)+"ms\n"+`\tRemoved ${i} targets in `+(a-o)+"ms\n"+`\tRemoved ${e} documents in `+(l-a)+"ms\n"+`Total Duration: ${l-c}ms`),rS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ax(e,t){return new Ox(e,t)}class Dx{constructor(){this.changes=new CC((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Dk.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?rS.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mx{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Lx{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&oT(n.mutation,e,WS.empty(),VE.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,LC()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:LC();const r=PC();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=NC();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=PC();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,LC())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=xC();const s=AC(),o=AC();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof uT)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),oT(o.mutation,t,o.mutation.getFieldMask(),VE.now())):s.set(t.key,WS.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new Mx(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=AC();let r=new zS(((e,t)=>e-t)),i=LC();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||WS.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||LC()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,c=OC();l.forEach((e=>{if(!i.has(e)){const r=iT(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,c))}return rS.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return YE.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):dC(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):rS.resolve(PC());let o=KE,a=i;return s.next((t=>rS.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?rS.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,LC()))).next((e=>({batchId:o,changes:RC(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new YE(t)).next((e=>{let t=NC();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=NC();return this.indexManager.getCollectionParents(e,i).next((o=>rS.forEach(o,(o=>{const a=function(e,t){return new lC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Dk.newInvalidDocument(r)))}));let n=NC();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&oT(s.mutation,r,WS.empty(),VE.now()),bC(t,r)&&(n=n.insert(e,r))})),n}))}}class Fx{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return rS.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:YT(e.createTime)}}(t)),rS.resolve()}getNamedQuery(e,t){return rS.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(e){return{name:e.name,query:_x(e.bundledQuery),readTime:YT(e.readTime)}}(t)),rS.resolve()}}class jx{constructor(){this.overlays=new zS(YE.comparator),this.Qr=new Map}getOverlay(e,t){return rS.resolve(this.overlays.get(t))}getOverlays(e,t){const n=PC();return rS.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.bt(e,t,r)})),rS.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Qr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Qr.delete(n)),rS.resolve()}getOverlaysForCollection(e,t,n){const r=PC(),i=t.length+1,s=new YE(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return rS.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new zS(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=PC(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=PC(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return rS.resolve(o)}bt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Qr.get(r.largestBatchId).delete(n.key);this.Qr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new vT(t,n));let i=this.Qr.get(t);void 0===i&&(i=LC(),this.Qr.set(t,i)),this.Qr.set(t,i.add(n.key))}}class Ux{constructor(){this.sessionToken=KS.EMPTY_BYTE_STRING}getSessionToken(e){return rS.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,rS.resolve()}}class Vx{constructor(){this.$r=new BS(zx.Ur),this.Kr=new BS(zx.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const n=new zx(e,t);this.$r=this.$r.add(n),this.Kr=this.Kr.add(n)}Gr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.zr(new zx(e,t))}jr(e,t){e.forEach((e=>this.removeReference(e,t)))}Hr(e){const t=new YE(new BE([])),n=new zx(t,e),r=new zx(t,e+1),i=[];return this.Kr.forEachInRange([n,r],(e=>{this.zr(e),i.push(e.key)})),i}Jr(){this.$r.forEach((e=>this.zr(e)))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new YE(new BE([])),n=new zx(t,e),r=new zx(t,e+1);let i=LC();return this.Kr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new zx(e,0),n=this.$r.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class zx{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return YE.comparator(e.key,t.key)||AE(e.Zr,t.Zr)}static Wr(e,t){return AE(e.Zr,t.Zr)||YE.comparator(e.key,t.key)}}class $x{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new BS(zx.Ur)}checkEmpty(e){return rS.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new gT(i,t,n,r);this.mutationQueue.push(s);for(const o of r)this.Xr=this.Xr.add(new zx(o.key,i)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return rS.resolve(s)}lookupMutationBatch(e,t){return rS.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.ti(n),i=r<0?0:r;return rS.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return rS.resolve(0===this.mutationQueue.length?aS:this.nr-1)}getAllMutationBatches(e){return rS.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new zx(t,0),r=new zx(t,Number.POSITIVE_INFINITY),i=[];return this.Xr.forEachInRange([n,r],(e=>{const t=this.ei(e.Zr);i.push(t)})),rS.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new BS(AE);return t.forEach((e=>{const t=new zx(e,0),r=new zx(e,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([t,r],(e=>{n=n.add(e.Zr)}))})),rS.resolve(this.ni(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;YE.isDocumentKey(i)||(i=i.child(""));const s=new zx(new YE(i),0);let o=new BS(AE);return this.Xr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Zr)),!0)}),s),rS.resolve(this.ni(o))}ni(e){const t=[];return e.forEach((e=>{const n=this.ei(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){yE(0===this.ri(t.batchId,"removed"),55003),this.mutationQueue.shift();let n=this.Xr;return rS.forEach(t.mutations,(r=>{const i=new zx(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Xr=n}))}sr(e){}containsKey(e,t){const n=new zx(t,0),r=this.Xr.firstAfterOrEqual(n);return rS.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,rS.resolve()}ri(e,t){return this.ti(e)}ti(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class qx{constructor(e){this.ii=e,this.docs=new zS(YE.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.ii(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return rS.resolve(n?n.document.mutableCopy():Dk.newInvalidDocument(t))}getEntries(e,t){let n=xC();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Dk.newInvalidDocument(e))})),rS.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=xC();const s=t.path,o=new YE(s.child("__id-9223372036854775808__")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||ZE(JE(o),n)<=0||(r.has(o.key)||bC(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return rS.resolve(i)}getAllFromCollectionGroup(e,t,n,r){mE(9500)}si(e,t){return rS.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Bx(this)}getSize(e){return rS.resolve(this.size)}}class Bx extends Dx{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.Br.addEntry(e,r)):this.Br.removeEntry(n)})),rS.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}class Hx{constructor(e){this.persistence=e,this.oi=new CC((e=>sC(e)),oC),this.lastRemoteSnapshotVersion=zE.min(),this.highestTargetId=0,this._i=0,this.ai=new Vx,this.targetCount=0,this.ui=Tx.cr()}forEachTarget(e,t){return this.oi.forEach(((e,n)=>t(n))),rS.resolve()}getLastRemoteSnapshotVersion(e){return rS.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return rS.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),rS.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this._i&&(this._i=t),rS.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new Tx(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,rS.resolve()}updateTargetData(e,t){return this.Tr(t),rS.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,rS.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.oi.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.oi.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),rS.waitFor(i).next((()=>r))}getTargetCount(e){return rS.resolve(this.targetCount)}getTargetData(e,t){const n=this.oi.get(t)||null;return rS.resolve(n)}addMatchingKeys(e,t,n){return this.ai.Gr(t,n),rS.resolve()}removeMatchingKeys(e,t,n){this.ai.jr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),rS.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),rS.resolve()}getMatchingKeysForTargetId(e,t){const n=this.ai.Yr(t);return rS.resolve(n)}containsKey(e,t){return rS.resolve(this.ai.containsKey(t))}}class Wx{constructor(e,t){this.ci={},this.overlays={},this.li=new oS(0),this.hi=!1,this.hi=!0,this.Pi=new Ux,this.referenceDelegate=e(this),this.Ti=new Hx(this),this.indexManager=new bx,this.remoteDocumentCache=function(e){return new qx(e)}((e=>this.referenceDelegate.Ii(e))),this.serializer=new vx(t),this.Ei=new Fx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new jx,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.ci[e.toKey()];return n||(n=new $x(t,this.referenceDelegate),this.ci[e.toKey()]=n),n}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,n){hE("MemoryPersistence","Starting transaction:",e);const r=new Yx(this.li.next());return this.referenceDelegate.di(),n(r).next((e=>this.referenceDelegate.Ai(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ri(e,t){return rS.or(Object.values(this.ci).map((n=>()=>n.containsKey(e,t))))}}class Yx extends tS{constructor(e){super(),this.currentSequenceNumber=e}}class Kx{constructor(e){this.persistence=e,this.Vi=new Vx,this.mi=null}static fi(e){return new Kx(e)}get gi(){if(this.mi)return this.mi;throw mE(60996)}addReference(e,t,n){return this.Vi.addReference(n,t),this.gi.delete(n.toString()),rS.resolve()}removeReference(e,t,n){return this.Vi.removeReference(n,t),this.gi.add(n.toString()),rS.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),rS.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach((e=>this.gi.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.gi.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rS.forEach(this.gi,(n=>{const r=YE.fromPath(n);return this.pi(e,r).next((e=>{e||t.removeEntry(r,zE.min())}))})).next((()=>(this.mi=null,t.apply(e))))}updateLimboDocument(e,t){return this.pi(e,t).next((e=>{e?this.gi.delete(t.toString()):this.gi.add(t.toString())}))}Ii(e){return 0}pi(e,t){return rS.or([()=>rS.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class Gx{constructor(e,t){this.persistence=e,this.yi=new CC((e=>dS(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ax(this,t)}static fi(e,t){return new Gx(e,t)}di(){}Ai(e){return rS.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.Sr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Sr(e){let t=0;return this.yr(e,(e=>{t++})).next((()=>t))}yr(e,t){return rS.forEach(this.yi,((n,r)=>this.Dr(e,n,r).next((e=>e?rS.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.si(e,(r=>this.Dr(e,r,t).next((e=>{e||(n++,i.removeEntry(r,zE.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),rS.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),rS.resolve()}removeReference(e,t,n){return this.yi.set(n,e.currentSequenceNumber),rS.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),rS.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Ek(e.data.value)),t}Dr(e,t,n){return rS.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.yi.get(t);return rS.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Qx{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.ds=n,this.As=r}static Rs(e,t){let n=LC(),r=LC();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Qx(e,t.fromCache,n,r)}}class Jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Xx{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=uc()?8:iS(ic())>0?6:4}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.ws(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.Ss(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new Jx;return this.bs(e,t,n).next((r=>{if(i.result=r,this.fs)return this.Ds(e,t,n,r.size)}))})).next((()=>i.result))}Ds(e,t,n,r){return n.documentReadCount<this.gs?(uE()<=Vc.DEBUG&&hE("QueryEngine","SDK will not create cache indexes for query:",wC(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),rS.resolve()):(uE()<=Vc.DEBUG&&hE("QueryEngine","Query:",wC(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.ps*r?(uE()<=Vc.DEBUG&&hE("QueryEngine","The SDK decides to create cache indexes for query:",wC(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pC(t))):rS.resolve())}ws(e,t){if(hC(t))return rS.resolve(null);let n=pC(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=yC(t,null,"F"),n=pC(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=LC(...r);return this.ys.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.vs(t,r);return this.Cs(t,s,i,n.readTime)?this.ws(e,yC(t,null,"F")):this.Fs(e,s,t,n)}))))})))))}Ss(e,t,n,r){return hC(t)||r.isEqual(zE.min())?rS.resolve(null):this.ys.getDocuments(e,n).next((i=>{const s=this.vs(t,i);return this.Cs(t,s,n,r)?rS.resolve(null):(uE()<=Vc.DEBUG&&hE("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),wC(t)),this.Fs(e,s,t,QE(r,KE)).next((e=>e)))}))}vs(e,t){let n=new BS(SC(e));return t.forEach(((t,r)=>{bC(e,r)&&(n=n.add(r))})),n}Cs(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}bs(e,t,n){return uE()<=Vc.DEBUG&&hE("QueryEngine","Using full collection scan to execute query:",wC(t)),this.ys.getDocumentsMatchingQuery(e,t,XE.min(),n)}Fs(e,t,n,r){return this.ys.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}const Zx="LocalStore";class eI{constructor(e,t,n,r){this.persistence=e,this.Ms=t,this.serializer=r,this.xs=new zS(AE),this.Os=new CC((e=>sC(e)),oC),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(n)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Lx(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.xs)))}}function tI(e,t,n,r){return new eI(e,t,n,r)}async function nI(e,t){const n=vE(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ls(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=LC();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({ks:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function rI(e){const t=vE(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Ti.getLastRemoteSnapshotVersion(e)))}function iI(e,t,n){let r=LC(),i=LC();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=xC();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(zE.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):hE(Zx,"Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{qs:r,Qs:i}}))}function sI(e,t){const n=vE(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=aS),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function oI(e,t){const n=vE(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Ti.getTargetData(e,t).next((i=>i?(r=i,rS.resolve(r)):n.Ti.allocateTargetId(e).next((i=>(r=new yx(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Ti.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.xs.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.xs=n.xs.insert(e.targetId,e),n.Os.set(t,e.targetId)),e}))}async function aI(e,t,n){const r=vE(e),i=r.xs.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!sS(e))throw e;hE(Zx,`Failed to update sequence numbers for target ${t}: ${e}`)}r.xs=r.xs.remove(t),r.Os.delete(i.target)}function lI(e,t,n){const r=vE(e);let i=zE.min(),s=LC();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=vE(e),i=r.Os.get(n);return void 0!==i?rS.resolve(r.xs.get(i)):r.Ti.getTargetData(t,n)}(r,e,pC(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Ms.getDocumentsMatchingQuery(e,t,n?i:zE.min(),n?s:LC()))).next((e=>(cI(r,EC(t),e),{documents:e,$s:s})))))}function cI(e,t,n){let r=e.Ns.get(t)||zE.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ns.set(t,r)}class uI{constructor(){this.activeTargetIds=jC()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class hI{constructor(){this.xo=new uI,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,n){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new uI,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class dI{No(e){}shutdown(){}}const fI="ConnectivityMonitor";class pI{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){hE(fI,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){hE(fI,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let mI=null;function gI(){return null===mI?mI=268435456+Math.round(2147483648*Math.random()):mI++,"0x"+mI.toString(16)}const yI="RestConnection",vI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _I{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${n}/databases/${r}`,this.Go=this.databaseId.database===ak?`project_id=${n}`:`project_id=${n}&database_id=${r}`}zo(e,t,n,r,i){const s=gI(),o=this.jo(e,t.toUriEncodedString());hE(yI,`Sending RPC '${e}' ${s}:`,o,n);const a={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(a,r,i);const{host:l}=new URL(o),c=Xl(l);return this.Jo(e,o,a,n,c).then((t=>(hE(yI,`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw fE(yI,`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Yo(e,t,n,r,i,s){return this.zo(e,t,n,r,i)}Ho(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+lE,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}jo(e,t){const n=vI[e];return`${this.Ko}/v1/${t}:${n}`}terminate(){}}class wI{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}const bI="WebChannelConnection";class EI extends _I{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,n,r,i){const s=gI();return new Promise(((i,o)=>{const a=new Gb;a.setWithCredentials(!0),a.listenOnce(Jb.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Xb.NO_ERROR:const t=a.getResponseJson();hE(bI,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(t)),i(t);break;case Xb.TIMEOUT:hE(bI,`RPC '${e}' ${s} timed out`),o(new wE(_E.DEADLINE_EXCEEDED,"Request time out"));break;case Xb.HTTP_ERROR:const n=a.getStatus();if(hE(bI,`RPC '${e}' ${s} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(_E).indexOf(t)>=0?t:_E.UNKNOWN}(t.status);o(new wE(e,t.message))}else o(new wE(_E.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new wE(_E.UNAVAILABLE,"Connection failed."));break;default:mE(9055,{l_:e,streamId:s,h_:a.getLastErrorCode(),P_:a.getLastError()})}}finally{hE(bI,`RPC '${e}' ${s} completed.`)}}));const l=JSON.stringify(r);hE(bI,`RPC '${e}' ${s} sending request:`,r),a.send(t,"POST",l,n,15)}))}T_(e,t,n){const r=gI(),i=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=nE(),o=tE(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Ho(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const c=i.join("");hE(bI,`Creating RPC '${e}' stream ${r}: ${c}`,a);const u=s.createWebChannel(c,a);let h=!1,d=!1;const f=new wI({Zo:t=>{d?hE(bI,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(h||(hE(bI,`Opening RPC '${e}' stream ${r} transport.`),u.open(),h=!0),hE(bI,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},Xo:()=>u.close()}),p=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return p(u,Qb.EventType.OPEN,(()=>{d||(hE(bI,`RPC '${e}' stream ${r} transport opened.`),f.__())})),p(u,Qb.EventType.CLOSE,(()=>{d||(d=!0,hE(bI,`RPC '${e}' stream ${r} transport closed`),f.u_())})),p(u,Qb.EventType.ERROR,(t=>{d||(d=!0,fE(bI,`RPC '${e}' stream ${r} transport errored. Name:`,t.name,"Message:",t.message),f.u_(new wE(_E.UNAVAILABLE,"The operation could not be completed")))})),p(u,Qb.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];yE(!!i,16349);const s=i,o=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){hE(bI,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=wT[e];if(void 0!==t)return ST(t)}(t),i=o.message;void 0===n&&(n=_E.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),d=!0,f.u_(new wE(n,i)),u.close()}else hE(bI,`RPC '${e}' stream ${r} received:`,i),f.c_(i)}})),p(o,eE.STAT_EVENT,(t=>{t.stat===Zb.PROXY?hE(bI,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Zb.NOPROXY&&hE(bI,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{f.a_()}),0),f}}function SI(){return"undefined"!=typeof document?document:null}function kI(e){return new $T(e,!0)}class CI{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.xi=e,this.timerId=t,this.I_=n,this.E_=r,this.d_=i,this.A_=0,this.R_=null,this.V_=Date.now(),this.reset()}reset(){this.A_=0}m_(){this.A_=this.d_}f_(e){this.cancel();const t=Math.floor(this.A_+this.g_()),n=Math.max(0,Date.now()-this.V_),r=Math.max(0,t-n);r>0&&hE("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.A_} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.R_=this.xi.enqueueAfterDelay(this.timerId,r,(()=>(this.V_=Date.now(),e()))),this.A_*=this.E_,this.A_<this.I_&&(this.A_=this.I_),this.A_>this.d_&&(this.A_=this.d_)}p_(){null!==this.R_&&(this.R_.skipDelay(),this.R_=null)}cancel(){null!==this.R_&&(this.R_.cancel(),this.R_=null)}g_(){return(Math.random()-.5)*this.A_}}const TI="PersistentStream";class xI{constructor(e,t,n,r,i,s,o,a){this.xi=e,this.y_=n,this.w_=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.S_=0,this.b_=null,this.D_=null,this.stream=null,this.v_=0,this.C_=new CI(e,t)}F_(){return 1===this.state||5===this.state||this.M_()}M_(){return 2===this.state||3===this.state}start(){this.v_=0,4!==this.state?this.auth():this.x_()}async stop(){this.F_()&&await this.close(0)}O_(){this.state=0,this.C_.reset()}N_(){this.M_()&&null===this.b_&&(this.b_=this.xi.enqueueAfterDelay(this.y_,6e4,(()=>this.B_())))}L_(e){this.k_(),this.stream.send(e)}async B_(){if(this.M_())return this.close(0)}k_(){this.b_&&(this.b_.cancel(),this.b_=null)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}async close(e,t){this.k_(),this.q_(),this.C_.cancel(),this.S_++,4!==e?this.C_.reset():t&&t.code===_E.RESOURCE_EXHAUSTED?(dE(t.toString()),dE("Using maximum backoff delay to prevent overloading the backend."),this.C_.m_()):t&&t.code===_E.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Q_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}Q_(){}auth(){this.state=1;const e=this.U_(this.S_),t=this.S_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.S_===t&&this.K_(n,r)}),(t=>{e((()=>{const e=new wE(_E.UNKNOWN,"Fetching auth token failed: "+t.message);return this.W_(e)}))}))}K_(e,t){const n=this.U_(this.S_);this.stream=this.G_(e,t),this.stream.e_((()=>{n((()=>this.listener.e_()))})),this.stream.n_((()=>{n((()=>(this.state=2,this.D_=this.xi.enqueueAfterDelay(this.w_,1e4,(()=>(this.M_()&&(this.state=3),Promise.resolve()))),this.listener.n_())))})),this.stream.i_((e=>{n((()=>this.W_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.v_?this.z_(e):this.onNext(e)))}))}x_(){this.state=5,this.C_.f_((async()=>{this.state=0,this.start()}))}W_(e){return hE(TI,`close with error: ${e}`),this.stream=null,this.close(4,e)}U_(e){return t=>{this.xi.enqueueAndForget((()=>this.S_===e?t():(hE(TI,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class II extends xI{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}G_(e,t){return this.connection.T_("Listen",e,t)}z_(e){return this.onNext(e)}onNext(e){this.C_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:mE(39313,{state:e})}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(yE(void 0===t||"string"==typeof t,58123),KS.fromBase64String(t||"")):(yE(void 0===t||t instanceof Buffer||t instanceof Uint8Array,16193),KS.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(e){const t=void 0===e.code?_E.UNKNOWN:ST(e.code);return new wE(t,e.message||"")}(o);n=new DT(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=XT(e,r.document.name),s=YT(r.document.updateTime),o=r.document.createTime?YT(r.document.createTime):zE.min(),a=new Ok({mapValue:{fields:r.document.fields}}),l=Dk.newFoundDocument(i,s,o,a),c=r.targetIds||[],u=r.removedTargetIds||[];n=new OT(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=XT(e,r.document),s=r.readTime?YT(r.readTime):zE.min(),o=Dk.newNoDocument(i,s),a=r.removedTargetIds||[];n=new OT([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=XT(e,r.document),s=r.removedTargetIds||[];n=new OT([],s,i,null)}else{if(!("filter"in t))return mE(11601,{Vt:t});{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new _T(r,i),o=e.targetId;n=new AT(o,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return zE.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?zE.min():t.readTime?YT(t.readTime):zE.min()}(e);return this.listener.j_(t,n)}H_(e){const t={};t.database=tx(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=aC(r)?{documents:sx(e,r)}:{query:ox(e,r).gt},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=HT(e,t.resumeToken);const r=qT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(zE.min())>0){n.readTime=BT(e,t.snapshotVersion.toTimestamp());const r=qT(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return mE(28987,{purpose:e})}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.L_(t)}J_(e){const t={};t.database=tx(this.serializer),t.removeTarget=e,this.L_(t)}}class NI extends xI{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}get Y_(){return this.v_>0}start(){this.lastStreamToken=void 0,super.start()}Q_(){this.Y_&&this.Z_([])}G_(e,t){return this.connection.T_("Write",e,t)}z_(e){return yE(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,yE(!e.writeResults||0===e.writeResults.length,55816),this.listener.X_()}onNext(e){yE(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.C_.reset();const t=function(e,t){return e&&e.length>0?(yE(void 0!==t,14353),e.map((e=>function(e,t){let n=e.updateTime?YT(e.updateTime):YT(t);return n.isEqual(zE.min())&&(n=YT(t)),new eT(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=YT(e.commitTime);return this.listener.ea(n,t)}ta(){const e={};e.database=tx(this.serializer),this.L_(e)}Z_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>ix(this.serializer,e)))};this.L_(t)}}class RI{}class PI extends RI{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.na=!1}ra(){if(this.na)throw new wE(_E.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,n,r){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,o]=i;return this.connection.zo(e,GT(t,n),r,s,o)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===_E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wE(_E.UNKNOWN,e.toString())}))}Yo(e,t,n,r,i){return this.ra(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[o,a]=s;return this.connection.Yo(e,GT(t,n),r,o,a,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===_E.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new wE(_E.UNKNOWN,e.toString())}))}terminate(){this.na=!0,this.connection.terminate()}}class OI{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.ia=0,this.sa=null,this.oa=!0}_a(){0===this.ia&&(this.aa("Unknown"),this.sa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.sa=null,this.ua("Backend didn't respond within 10 seconds."),this.aa("Offline"),Promise.resolve()))))}ca(e){"Online"===this.state?this.aa("Unknown"):(this.ia++,this.ia>=1&&(this.la(),this.ua(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.aa("Offline")))}set(e){this.la(),this.ia=0,"Online"===e&&(this.oa=!1),this.aa(e)}aa(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ua(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.oa?(dE(t),this.oa=!1):hE("OnlineStateTracker",t)}la(){null!==this.sa&&(this.sa.cancel(),this.sa=null)}}const AI="RemoteStore";class DI{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.ha=[],this.Pa=new Map,this.Ta=new Set,this.Ia=[],this.Ea=i,this.Ea.No((e=>{n.enqueueAndForget((async()=>{qI(this)&&(hE(AI,"Restarting streams for network reachability change."),await async function(e){const t=vE(e);t.Ta.add(4),await LI(t),t.da.set("Unknown"),t.Ta.delete(4),await MI(t)}(this))}))})),this.da=new OI(n,r)}}async function MI(e){if(qI(e))for(const t of e.Ia)await t(!0)}async function LI(e){for(const t of e.Ia)await t(!1)}function FI(e,t){const n=vE(e);n.Pa.has(t.targetId)||(n.Pa.set(t.targetId,t),$I(n)?zI(n):lN(n).M_()&&UI(n,t))}function jI(e,t){const n=vE(e),r=lN(n);n.Pa.delete(t),r.M_()&&VI(n,t),0===n.Pa.size&&(r.M_()?r.N_():qI(n)&&n.da.set("Unknown"))}function UI(e,t){if(e.Aa.Ke(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(zE.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}lN(e).H_(t)}function VI(e,t){e.Aa.Ke(t),lN(e).J_(t)}function zI(e){e.Aa=new LT({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),Rt:t=>e.Pa.get(t)||null,Pt:()=>e.datastore.serializer.databaseId}),lN(e).start(),e.da._a()}function $I(e){return qI(e)&&!lN(e).F_()&&e.Pa.size>0}function qI(e){return 0===vE(e).Ta.size}function BI(e){e.Aa=void 0}async function HI(e){e.da.set("Online")}async function WI(e){e.Pa.forEach(((t,n)=>{UI(e,t)}))}async function YI(e,t){BI(e),$I(e)?(e.da.ca(t),zI(e)):e.da.set("Unknown")}async function KI(e,t,n){if(e.da.set("Online"),t instanceof DT&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Pa.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Pa.delete(r),e.Aa.removeTarget(r))}(e,t)}catch(n){hE(AI,"Failed to remove targets %s: %s ",t.targetIds.join(","),n),await GI(e,n)}else if(t instanceof OT?e.Aa.Xe(t):t instanceof AT?e.Aa.ot(t):e.Aa.nt(t),!n.isEqual(zE.min()))try{const t=await rI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.Aa.It(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Pa.get(r);i&&e.Pa.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Pa.get(t);if(!r)return;e.Pa.set(t,r.withResumeToken(KS.EMPTY_BYTE_STRING,r.snapshotVersion)),VI(e,t);const i=new yx(r.target,t,n,r.sequenceNumber);UI(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){hE(AI,"Failed to raise snapshot:",t),await GI(e,t)}}async function GI(e,t,n){if(!sS(t))throw t;e.Ta.add(1),await LI(e),e.da.set("Offline"),n||(n=()=>rI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{hE(AI,"Retrying IndexedDB access"),await n(),e.Ta.delete(1),await MI(e)}))}function QI(e,t){return t().catch((n=>GI(e,n,t)))}async function JI(e){const t=vE(e),n=cN(t);let r=t.ha.length>0?t.ha[t.ha.length-1].batchId:aS;for(;XI(t);)try{const e=await sI(t.localStore,r);if(null===e){0===t.ha.length&&n.N_();break}r=e.batchId,ZI(t,e)}catch(e){await GI(t,e)}eN(t)&&tN(t)}function XI(e){return qI(e)&&e.ha.length<10}function ZI(e,t){e.ha.push(t);const n=cN(e);n.M_()&&n.Y_&&n.Z_(t.mutations)}function eN(e){return qI(e)&&!cN(e).F_()&&e.ha.length>0}function tN(e){cN(e).start()}async function nN(e){cN(e).ta()}async function rN(e){const t=cN(e);for(const n of e.ha)t.Z_(n.mutations)}async function iN(e,t,n){const r=e.ha.shift(),i=yT.from(r,t,n);await QI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await JI(e)}async function sN(e,t){t&&cN(e).Y_&&await async function(e,t){if(function(e){return ET(e)&&e!==_E.ABORTED}(t.code)){const n=e.ha.shift();cN(e).O_(),await QI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await JI(e)}}(e,t),eN(e)&&tN(e)}async function oN(e,t){const n=vE(e);n.asyncQueue.verifyOperationInProgress(),hE(AI,"RemoteStore received new credentials");const r=qI(n);n.Ta.add(3),await LI(n),r&&n.da.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Ta.delete(3),await MI(n)}async function aN(e,t){const n=vE(e);t?(n.Ta.delete(2),await MI(n)):t||(n.Ta.add(2),await LI(n),n.da.set("Unknown"))}function lN(e){return e.Ra||(e.Ra=function(e,t,n){const r=vE(e);return r.ra(),new II(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:HI.bind(null,e),n_:WI.bind(null,e),i_:YI.bind(null,e),j_:KI.bind(null,e)}),e.Ia.push((async t=>{t?(e.Ra.O_(),$I(e)?zI(e):e.da.set("Unknown")):(await e.Ra.stop(),BI(e))}))),e.Ra}function cN(e){return e.Va||(e.Va=function(e,t,n){const r=vE(e);return r.ra(),new NI(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{e_:()=>Promise.resolve(),n_:nN.bind(null,e),i_:sN.bind(null,e),X_:rN.bind(null,e),ea:iN.bind(null,e)}),e.Ia.push((async t=>{t?(e.Va.O_(),await JI(e)):(await e.Va.stop(),e.ha.length>0&&(hE(AI,`Stopping write stream with ${e.ha.length} pending writes`),e.ha=[]))}))),e.Va}class uN{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new bE,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new uN(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new wE(_E.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hN(e,t){if(dE("AsyncQueue",`${t}: ${e}`),sS(e))return new wE(_E.UNAVAILABLE,`${t}: ${e}`);throw e}class dN{static emptySet(e){return new dN(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||YE.comparator(t.key,n.key):(e,t)=>YE.comparator(e.key,t.key),this.keyedMap=NC(),this.sortedSet=new zS(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof dN))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new dN;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class fN{constructor(){this.ma=new zS(YE.comparator)}track(e){const t=e.doc.key,n=this.ma.get(t);n?0!==e.type&&3===n.type?this.ma=this.ma.insert(t,e):3===e.type&&1!==n.type?this.ma=this.ma.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.ma=this.ma.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.ma=this.ma.remove(t):1===e.type&&2===n.type?this.ma=this.ma.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.ma=this.ma.insert(t,{type:2,doc:e.doc}):mE(63341,{Vt:e,fa:n}):this.ma=this.ma.insert(t,e)}ga(){const e=[];return this.ma.inorderTraversal(((t,n)=>{e.push(n)})),e}}class pN{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new pN(e,t,dN.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vC(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class mN{constructor(){this.pa=void 0,this.ya=[]}wa(){return this.ya.some((e=>e.Sa()))}}class gN{constructor(){this.queries=yN(),this.onlineState="Unknown",this.ba=new Set}terminate(){!function(e,t){const n=vE(e),r=n.queries;n.queries=yN(),r.forEach(((e,n)=>{for(const r of n.ya)r.onError(t)}))}(this,new wE(_E.ABORTED,"Firestore shutting down"))}}function yN(){return new CC((e=>_C(e)),vC)}async function vN(e,t){const n=vE(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.wa()&&t.Sa()&&(r=2):(s=new mN,r=t.Sa()?0:1);try{switch(r){case 0:s.pa=await n.onListen(i,!0);break;case 1:s.pa=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=hN(e,`Initialization of query '${wC(t.query)}' failed`);return void t.onError(n)}n.queries.set(i,s),s.ya.push(t),t.Da(n.onlineState),s.pa&&t.va(s.pa)&&EN(n)}async function _N(e,t){const n=vE(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.ya.indexOf(t);e>=0&&(s.ya.splice(e,1),0===s.ya.length?i=t.Sa()?0:1:!s.wa()&&t.Sa()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function wN(e,t){const n=vE(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.ya)e.va(i)&&(r=!0);t.pa=i}}r&&EN(n)}function bN(e,t,n){const r=vE(e),i=r.queries.get(t);if(i)for(const s of i.ya)s.onError(n);r.queries.delete(t)}function EN(e){e.ba.forEach((e=>{e.next()}))}var SN,kN;(kN=SN||(SN={})).Ca="default",kN.Cache="cache";class CN{constructor(e,t,n){this.query=e,this.Fa=t,this.Ma=!1,this.xa=null,this.onlineState="Unknown",this.options=n||{}}va(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new pN(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Ma?this.Oa(e)&&(this.Fa.next(e),t=!0):this.Na(e,this.onlineState)&&(this.Ba(e),t=!0),this.xa=e,t}onError(e){this.Fa.error(e)}Da(e){this.onlineState=e;let t=!1;return this.xa&&!this.Ma&&this.Na(this.xa,e)&&(this.Ba(this.xa),t=!0),t}Na(e,t){if(!e.fromCache)return!0;if(!this.Sa())return!0;const n="Offline"!==t;return(!this.options.La||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Oa(e){if(e.docChanges.length>0)return!0;const t=this.xa&&this.xa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}Ba(e){e=pN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Ma=!0,this.Fa.next(e)}Sa(){return this.options.source!==SN.Cache}}class TN{constructor(e){this.key=e}}class xN{constructor(e){this.key=e}}class IN{constructor(e,t){this.query=e,this.Ga=t,this.za=null,this.hasCachedResults=!1,this.current=!1,this.ja=LC(),this.mutatedKeys=LC(),this.Ha=SC(e),this.Ja=new dN(this.Ha)}get Ya(){return this.Ga}Za(e,t){const n=t?t.Xa:new fN,r=t?t.Ja:this.Ja;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=bC(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.eu(c,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Ha(u,a)>0||l&&this.Ha(u,l)<0)&&(o=!0)):!c&&u?(n.track({type:0,doc:u}),f=!0):c&&!u&&(n.track({type:1,doc:c}),f=!0,(a||l)&&(o=!0)),f&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Ja:s,Xa:n,Cs:o,mutatedKeys:i}}eu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.Ja;this.Ja=e.Ja,this.mutatedKeys=e.mutatedKeys;const s=e.Xa.ga();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return mE(20277,{Vt:e})}};return n(e)-n(t)}(e.type,t.type)||this.Ha(e.doc,t.doc))),this.tu(n),r=null!=r&&r;const o=t&&!r?this.nu():[],a=0===this.ja.size&&this.current&&!r?1:0,l=a!==this.za;return this.za=a,0!==s.length||l?{snapshot:new pN(this.query,e.Ja,i,s,e.mutatedKeys,0===a,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ru:o}:{ru:o}}Da(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ja:this.Ja,Xa:new fN,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ru:[]}}iu(e){return!this.Ga.has(e)&&!!this.Ja.has(e)&&!this.Ja.get(e).hasLocalMutations}tu(e){e&&(e.addedDocuments.forEach((e=>this.Ga=this.Ga.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ga=this.Ga.delete(e))),this.current=e.current)}nu(){if(!this.current)return[];const e=this.ja;this.ja=LC(),this.Ja.forEach((e=>{this.iu(e.key)&&(this.ja=this.ja.add(e.key))}));const t=[];return e.forEach((e=>{this.ja.has(e)||t.push(new xN(e))})),this.ja.forEach((n=>{e.has(n)||t.push(new TN(n))})),t}su(e){this.Ga=e.$s,this.ja=LC();const t=this.Za(e.documents);return this.applyChanges(t,!0)}ou(){return pN.fromInitialDocuments(this.query,this.Ja,this.mutatedKeys,0===this.za,this.hasCachedResults)}}const NN="SyncEngine";class RN{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class PN{constructor(e){this.key=e,this._u=!1}}class ON{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.au={},this.uu=new CC((e=>_C(e)),vC),this.cu=new Map,this.lu=new Set,this.hu=new zS(YE.comparator),this.Pu=new Map,this.Tu=new Vx,this.Iu={},this.Eu=new Map,this.du=Tx.lr(),this.onlineState="Unknown",this.Au=void 0}get isPrimaryClient(){return!0===this.Au}}async function AN(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=eR(e);let i;const s=r.uu.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.ou()):i=await MN(r,t,n,!0),i}async function DN(e,t){const n=eR(e);await MN(n,t,!0,!1)}async function MN(e,t,n,r){const i=await oI(e.localStore,pC(t)),s=i.targetId,o=e.sharedClientState.addLocalQueryTarget(s,n);let a;return r&&(a=await LN(e,t,s,"current"===o,i.resumeToken)),e.isPrimaryClient&&n&&FI(e.remoteStore,i),a}async function LN(e,t,n,r,i){e.Ru=(t,n,r)=>async function(e,t,n,r){let i=t.view.Za(n);i.Cs&&(i=await lI(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.Za(n,i)})));const s=r&&r.targetChanges.get(t.targetId),o=r&&null!=r.targetMismatches.get(t.targetId),a=t.view.applyChanges(i,e.isPrimaryClient,s,o);return KN(e,t.targetId,a.ru),a.snapshot}(e,t,n,r);const s=await lI(e.localStore,t,!0),o=new IN(t,s.$s),a=o.Za(s.documents),l=PT.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=o.applyChanges(a,e.isPrimaryClient,l);KN(e,n,c.ru);const u=new RN(t,n,o);return e.uu.set(t,u),e.cu.has(n)?e.cu.get(n).push(t):e.cu.set(n,[t]),c.snapshot}async function FN(e,t,n){const r=vE(e),i=r.uu.get(t),s=r.cu.get(i.targetId);if(s.length>1)return r.cu.set(i.targetId,s.filter((e=>!vC(e,t)))),void r.uu.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await aI(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&jI(r.remoteStore,i.targetId),WN(r,i.targetId)})).catch(nS)):(WN(r,i.targetId),await aI(r.localStore,i.targetId,!0))}async function jN(e,t){const n=vE(e),r=n.uu.get(t),i=n.cu.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),jI(n.remoteStore,r.targetId))}async function UN(e,t){const n=vE(e);try{const e=await function(e,t){const n=vE(e),r=t.snapshotVersion;let i=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Bs.newChangeBuffer({trackRemovals:!0});i=n.xs;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Ti.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Ti.addMatchingKeys(e,s.addedDocuments,a))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?c=c.withResumeToken(KS.EMPTY_BYTE_STRING,zE.min()).withLastLimboFreeSnapshotVersion(zE.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(a,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(l,c,s)&&o.push(n.Ti.updateTargetData(e,c))}));let a=xC(),l=LC();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(iI(e,s,t.documentUpdates).next((e=>{a=e.qs,l=e.Qs}))),!r.isEqual(zE.min())){const t=n.Ti.getLastRemoteSnapshotVersion(e).next((t=>n.Ti.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return rS.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.xs=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Pu.get(t);r&&(yE(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1,22616),e.addedDocuments.size>0?r._u=!0:e.modifiedDocuments.size>0?yE(r._u,14607):e.removedDocuments.size>0&&(yE(r._u,42227),r._u=!1))})),await JN(n,e,t)}catch(e){await nS(e)}}function VN(e,t,n){const r=vE(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.uu.forEach(((n,r)=>{const i=r.view.Da(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=vE(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.ya)i.Da(t)&&(r=!0)})),r&&EN(n)}(r.eventManager,t),e.length&&r.au.j_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function zN(e,t,n){const r=vE(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Pu.get(t),s=i&&i.key;if(s){let e=new zS(YE.comparator);e=e.insert(s,Dk.newNoDocument(s,zE.min()));const n=LC().add(s),i=new RT(zE.min(),new Map,new zS(AE),e,n);await UN(r,i),r.hu=r.hu.remove(s),r.Pu.delete(t),QN(r)}else await aI(r.localStore,t,!1).then((()=>WN(r,t,n))).catch(nS)}async function $N(e,t){const n=vE(e),r=t.batch.batchId;try{const e=await function(e,t){const n=vE(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Bs.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=rS.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);yE(null!==s,48541),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=LC();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);HN(n,r,null),BN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await JN(n,e)}catch(e){await nS(e)}}async function qN(e,t,n){const r=vE(e);try{const e=await function(e,t){const n=vE(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(yE(null!==t,37113),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);HN(r,t,n),BN(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await JN(r,e)}catch(n){await nS(n)}}function BN(e,t){(e.Eu.get(t)||[]).forEach((e=>{e.resolve()})),e.Eu.delete(t)}function HN(e,t,n){const r=vE(e);let i=r.Iu[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Iu[r.currentUser.toKey()]=i}}function WN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.cu.get(t))e.uu.delete(r),n&&e.au.Vu(r,n);e.cu.delete(t),e.isPrimaryClient&&e.Tu.Hr(t).forEach((t=>{e.Tu.containsKey(t)||YN(e,t)}))}function YN(e,t){e.lu.delete(t.path.canonicalString());const n=e.hu.get(t);null!==n&&(jI(e.remoteStore,n),e.hu=e.hu.remove(t),e.Pu.delete(n),QN(e))}function KN(e,t,n){for(const r of n)r instanceof TN?(e.Tu.addReference(r.key,t),GN(e,r)):r instanceof xN?(hE(NN,"Document no longer in limbo: "+r.key),e.Tu.removeReference(r.key,t),e.Tu.containsKey(r.key)||YN(e,r.key)):mE(19791,{mu:r})}function GN(e,t){const n=t.key,r=n.path.canonicalString();e.hu.get(n)||e.lu.has(r)||(hE(NN,"New document in limbo: "+n),e.lu.add(r),QN(e))}function QN(e){for(;e.lu.size>0&&e.hu.size<e.maxConcurrentLimboResolutions;){const t=e.lu.values().next().value;e.lu.delete(t);const n=new YE(BE.fromString(t)),r=e.du.next();e.Pu.set(r,new PN(n)),e.hu=e.hu.insert(n,r),FI(e.remoteStore,new yx(pC(uC(n.path)),r,"TargetPurposeLimboResolution",oS.le))}}async function JN(e,t,n){const r=vE(e),i=[],s=[],o=[];r.uu.isEmpty()||(r.uu.forEach(((e,a)=>{o.push(r.Ru(a,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(a.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(a.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Qx.Rs(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.au.j_(i),await async function(e,t){const n=vE(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>rS.forEach(t,(t=>rS.forEach(t.ds,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>rS.forEach(t.As,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!sS(e))throw e;hE(Zx,"Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.xs.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.xs=n.xs.insert(e,i)}}}(r.localStore,s))}async function XN(e,t){const n=vE(e);if(!n.currentUser.isEqual(t)){hE(NN,"User change. New user:",t.toKey());const e=await nI(n.localStore,t);n.currentUser=t,function(e,t){e.Eu.forEach((e=>{e.forEach((e=>{e.reject(new wE(_E.CANCELLED,t))}))})),e.Eu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await JN(n,e.ks)}}function ZN(e,t){const n=vE(e),r=n.Pu.get(t);if(r&&r._u)return LC().add(r.key);{let e=LC();const r=n.cu.get(t);if(!r)return e;for(const t of r){const r=n.uu.get(t);e=e.unionWith(r.view.Ya)}return e}}function eR(e){const t=vE(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=UN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=ZN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=zN.bind(null,t),t.au.j_=wN.bind(null,t.eventManager),t.au.Vu=bN.bind(null,t.eventManager),t}function tR(e){const t=vE(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$N.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=qN.bind(null,t),t}class nR{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kI(e.databaseInfo.databaseId),this.sharedClientState=this.pu(e),this.persistence=this.yu(e),await this.persistence.start(),this.localStore=this.wu(e),this.gcScheduler=this.Su(e,this.localStore),this.indexBackfillerScheduler=this.bu(e,this.localStore)}Su(e,t){return null}bu(e,t){return null}wu(e){return tI(this.persistence,new Xx,e.initialUser,this.serializer)}yu(e){return new Wx(Kx.fi,this.serializer)}pu(e){return new hI}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}nR.provider={build:()=>new nR};class rR extends nR{constructor(e){super(),this.cacheSizeBytes=e}Su(e,t){yE(this.persistence.referenceDelegate instanceof Gx,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Px(n,e.asyncQueue,t)}yu(e){const t=void 0!==this.cacheSizeBytes?Cx.withCacheSize(this.cacheSizeBytes):Cx.DEFAULT;return new Wx((e=>Gx.fi(e,t)),this.serializer)}}class iR{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>VN(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=XN.bind(null,this.syncEngine),await aN(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new gN}createDatastore(e){const t=kI(e.databaseInfo.databaseId),n=function(e){return new EI(e)}(e.databaseInfo);return function(e,t,n,r){return new PI(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new DI(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>VN(this.syncEngine,e,0)),pI.C()?new pI:new dI)}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new ON(e,t,n,r,i,s);return o&&(a.Au=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=vE(e);hE(AI,"RemoteStore shutting down."),t.Ta.add(5),await LI(t),t.Ea.shutdown(),t.da.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}iR.provider={build:()=>new iR};class sR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.vu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.vu(this.observer.error,e):dE("Uncaught Error in snapshot listener:",e.toString()))}Cu(){this.muted=!0}vu(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const oR="FirestoreClient";class aR{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=aE.UNAUTHENTICATED,this.clientId=OE.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{hE(oR,"Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(hE(oR,"Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new bE;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=hN(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function lR(e,t){e.asyncQueue.verifyOperationInProgress(),hE(oR,"Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await nI(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function cR(e,t){e.asyncQueue.verifyOperationInProgress();const n=await uR(e);hE(oR,"Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>oN(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>oN(t.remoteStore,n))),e._onlineComponents=t}async function uR(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){hE(oR,"Using user provided OfflineComponentProvider");try{await lR(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===_E.FAILED_PRECONDITION||e.code===_E.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;fE("Error using user provided cache. Falling back to memory cache: "+n),await lR(e,new nR)}}else hE(oR,"Using default OfflineComponentProvider"),await lR(e,new rR(void 0));return e._offlineComponents}async function hR(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(hE(oR,"Using user provided OnlineComponentProvider"),await cR(e,e._uninitializedComponentsProvider._online)):(hE(oR,"Using default OnlineComponentProvider"),await cR(e,new iR))),e._onlineComponents}function dR(e){return hR(e).then((e=>e.syncEngine))}async function fR(e){const t=await hR(e),n=t.eventManager;return n.onListen=AN.bind(null,t.syncEngine),n.onUnlisten=FN.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=DN.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=jN.bind(null,t.syncEngine),n}function pR(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new bE;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new sR({next:a=>{s.Cu(),t.enqueueAndForget((()=>_N(e,o)));const l=a.docs.has(n);!l&&a.fromCache?i.reject(new wE(_E.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&a.fromCache&&r&&"server"===r.source?i.reject(new wE(_E.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:e=>i.reject(e)}),o=new CN(uC(n.path),s,{includeMetadataChanges:!0,La:!0});return vN(e,o)}(await fR(e),e.asyncQueue,t,n,r))),r.promise}function mR(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const gR=new Map;function yR(e,t,n){if(!n)throw new wE(_E.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function vR(e){if(!YE.isDocumentKey(e))throw new wE(_E.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function _R(e){if(YE.isDocumentKey(e))throw new wE(_E.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function wR(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":mE(12329,{type:typeof e})}function bR(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new wE(_E.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=wR(e);throw new wE(_E.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}const ER="firestore.googleapis.com",SR=!0;class kR{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new wE(_E.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ER,this.ssl=SR}else this.host=e.host,this.ssl=null!==(t=e.ssl)&&void 0!==t?t:SR;if(this.isUsingEmulator=void 0!==e.emulatorOptions,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=kx;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<Ix)throw new wE(_E.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new wE(_E.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=mR(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new wE(_E.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new wE(_E.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new wE(_E.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class CR{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kR({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new wE(_E.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new wE(_E.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kR(e),this._emulatorOptions=e.emulatorOptions||{},void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new SE;switch(e.type){case"firstParty":return new xE(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new wE(_E.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=gR.get(e);t&&(hE("ComponentProvider","Removing Datastore"),gR.delete(e),t.terminate())}(this),Promise.resolve()}}class TR{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new TR(this.firestore,e,this._query)}}class xR{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new IR(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xR(this.firestore,e,this._key)}}class IR extends TR{constructor(e,t,n){super(e,t,uC(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xR(this.firestore,null,new YE(e))}withConverter(e){return new IR(this.firestore,e,this._path)}}function NR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dc(e),yR("collection","path",t),e instanceof CR){const n=BE.fromString(t,...r);return _R(n),new IR(e,null,n)}{if(!(e instanceof xR||e instanceof IR))throw new wE(_E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(BE.fromString(t,...r));return _R(n),new IR(e.firestore,null,n)}}function RR(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Dc(e),1===arguments.length&&(t=OE.newId()),yR("doc","path",t),e instanceof CR){const n=BE.fromString(t,...r);return vR(n),new xR(e,null,new YE(n))}{if(!(e instanceof xR||e instanceof IR))throw new wE(_E.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(BE.fromString(t,...r));return vR(n),new xR(e.firestore,e instanceof IR?e.converter:null,new YE(n))}}const PR="AsyncQueue";class OR{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.zu=[],this.ju=!1,this.Hu=[],this.Ju=null,this.Yu=!1,this.Zu=!1,this.Xu=[],this.C_=new CI(this,"async_queue_retry"),this.ec=()=>{const e=SI();e&&hE(PR,"Visibility state changed to "+e.visibilityState),this.C_.p_()},this.tc=e;const t=SI();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.ec)}get isShuttingDown(){return this.ju}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.nc(),this.rc(e)}enterRestrictedMode(e){if(!this.ju){this.ju=!0,this.Zu=e||!1;const t=SI();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.ec)}}enqueue(e){if(this.nc(),this.ju)return new Promise((()=>{}));const t=new bE;return this.rc((()=>this.ju&&this.Zu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.zu.push(e),this.sc())))}async sc(){if(0!==this.zu.length){try{await this.zu[0](),this.zu.shift(),this.C_.reset()}catch(fO){if(!sS(fO))throw fO;hE(PR,"Operation failed with retryable error: "+fO)}this.zu.length>0&&this.C_.f_((()=>this.sc()))}}rc(e){const t=this.tc.then((()=>(this.Yu=!0,e().catch((e=>{throw this.Ju=e,this.Yu=!1,dE("INTERNAL UNHANDLED ERROR: ",AR(e)),e})).then((e=>(this.Yu=!1,e))))));return this.tc=t,t}enqueueAfterDelay(e,t,n){this.nc(),this.Xu.indexOf(e)>-1&&(t=0);const r=uN.createAndSchedule(this,e,t,n,(e=>this.oc(e)));return this.Hu.push(r),r}nc(){this.Ju&&mE(47125,{_c:AR(this.Ju)})}verifyOperationInProgress(){}async ac(){let e;do{e=this.tc,await e}while(e!==this.tc)}uc(e){for(const t of this.Hu)if(t.timerId===e)return!0;return!1}cc(e){return this.ac().then((()=>{this.Hu.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.Hu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ac()}))}lc(e){this.Xu.push(e)}oc(e){const t=this.Hu.indexOf(e);this.Hu.splice(t,1)}}function AR(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}function DR(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of t)if(r in n&&"function"==typeof n[r])return!0;return!1}(e,["next","error","complete"])}class MR extends CR{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new OR,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new OR(e),this._firestoreClient=void 0,await e}}}function LR(e,t){const n="object"==typeof e?e:Xu(),r="string"==typeof e?e:t||ak,i=Wu(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const e=Kl("firestore");e&&function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;e=bR(e,CR);const s=Xl(t),o=e._getSettings(),a=Object.assign(Object.assign({},o),{emulatorOptions:e._getEmulatorOptions()}),l=`${t}:${n}`;s&&(Zl(`https://${l}`),rc("Firestore",!0)),o.host!==ER&&o.host!==l&&fE("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c=Object.assign(Object.assign({},o),{host:l,ssl:s,emulatorOptions:r});if(!Sc(c,a)&&(e._setSettings(c),r.mockUserToken)){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=aE.MOCK_USER;else{t=ec(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new wE(_E.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new aE(s)}e._authCredentials=new kE(new EE(t,n))}}(i,...e)}return i}function FR(e){if(e._terminated)throw new wE(_E.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||jR(e),e._firestoreClient}function jR(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new ok(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,mR(r.experimentalLongPollingOptions),r.useFetchStreams,r.isUsingEmulator)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new aR(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class UR{constructor(e){this._byteString=e}static fromBase64String(e){try{return new UR(KS.fromBase64String(e))}catch(e){throw new wE(_E.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new UR(KS.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class VR{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new wE(_E.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new WE(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class zR{constructor(e){this._methodName=e}}class $R{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new wE(_E.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new wE(_E.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return AE(this._lat,e._lat)||AE(this._long,e._long)}}class qR{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const BR=/^__.*__$/;class HR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new uT(e,this.data,this.fieldMask,t,this.fieldTransforms):new cT(e,this.data,t,this.fieldTransforms)}}class WR{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new uT(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function YR(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw mE(40011,{hc:e})}}class KR{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Pc(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get hc(){return this.settings.hc}Tc(e){return new KR(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ic(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tc({path:n,Ec:!1});return r.dc(e),r}Ac(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Tc({path:n,Ec:!1});return r.Pc(),r}Rc(e){return this.Tc({path:void 0,Ec:!0})}Vc(e){return cP(e,this.settings.methodName,this.settings.mc||!1,this.path,this.settings.fc)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}Pc(){if(this.path)for(let e=0;e<this.path.length;e++)this.dc(this.path.get(e))}dc(e){if(0===e.length)throw this.Vc("Document fields must not be empty");if(YR(this.hc)&&BR.test(e))throw this.Vc('Document fields cannot begin and end with "__"')}}class GR{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||kI(e)}gc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new KR({hc:e,methodName:t,fc:n,path:WE.emptyPath(),Ec:!1,mc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function QR(e){const t=e._freezeSettings(),n=kI(e._databaseId);return new GR(e._databaseId,!!t.ignoreUndefinedProperties,n)}function JR(e,t,n,r,i){let s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const o=e.gc(s.merge||s.mergeFields?2:0,t,n,i);sP("Data must be an object, but it was:",o,r);const a=rP(r,o);let l,c;if(s.merge)l=new WS(o.fieldMask),c=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=oP(t,r,n);if(!o.contains(i))throw new wE(_E.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);uP(e,i)||e.push(i)}l=new WS(e),c=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,c=o.fieldTransforms;return new HR(new Ok(a),l,c)}class XR extends zR{_toFieldTransform(e){if(2!==e.hc)throw 1===e.hc?e.Vc(`${this._methodName}() can only appear at the top level of your update data`):e.Vc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof XR}}function ZR(e,t,n,r){const i=e.gc(1,t,n);sP("Data must be an object, but it was:",i,r);const s=[],o=Ok.empty();US(r,((e,r)=>{const a=lP(t,e,n);r=Dc(r);const l=i.Ac(a);if(r instanceof XR)s.push(a);else{const e=nP(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new WS(s);return new WR(o,a,i.fieldTransforms)}function eP(e,t,n,r,i,s){const o=e.gc(1,t,n),a=[oP(t,r,n)],l=[i];if(s.length%2!=0)throw new wE(_E.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<s.length;d+=2)a.push(oP(t,s[d])),l.push(s[d+1]);const c=[],u=Ok.empty();for(let d=a.length-1;d>=0;--d)if(!uP(c,a[d])){const e=a[d];let t=l[d];t=Dc(t);const n=o.Ac(e);if(t instanceof XR)c.push(e);else{const r=nP(t,n);null!=r&&(c.push(e),u.set(e,r))}}const h=new WS(c);return new WR(u,h,o.fieldTransforms)}function tP(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return nP(n,e.gc(r?4:3,t))}function nP(e,t){if(iP(e=Dc(e)))return sP("Unsupported field value:",t,e),rP(e,t);if(e instanceof zR)return function(e,t){if(!YR(t.hc))throw t.Vc(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Vc(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.Ec&&4!==t.hc)throw t.Vc("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=nP(i,t.Rc(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Dc(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return zC(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=VE.fromDate(e);return{timestampValue:BT(t.serializer,n)}}if(e instanceof VE){const n=new VE(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:BT(t.serializer,n)}}if(e instanceof $R)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof UR)return{bytesValue:HT(t.serializer,e._byteString)};if(e instanceof xR){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Vc(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:KT(e.firestore._databaseId||t.databaseId,e._key.path)}}if(e instanceof qR)return function(e,t){return{mapValue:{fields:{[ck]:{stringValue:dk},[fk]:{arrayValue:{values:e.toArray().map((e=>{if("number"!=typeof e)throw t.Vc("VectorValues must only contain numeric values.");return UC(t.serializer,e)}))}}}}}}(e,t);throw t.Vc(`Unsupported field value: ${wR(e)}`)}(e,t)}function rP(e,t){const n={};return VS(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):US(e,((e,r)=>{const i=nP(r,t.Ic(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function iP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof VE||e instanceof $R||e instanceof UR||e instanceof xR||e instanceof zR||e instanceof qR)}function sP(e,t,n){if(!iP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=wR(n);throw"an object"===r?t.Vc(e+" a custom object"):t.Vc(e+" "+r)}}function oP(e,t,n){if((t=Dc(t))instanceof VR)return t._internalPath;if("string"==typeof t)return lP(e,t);throw cP("Field path arguments must be of type string or ",e,!1,void 0,n)}const aP=new RegExp("[~\\*/\\[\\]]");function lP(e,t,n){if(t.search(aP)>=0)throw cP(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new VR(...t.split("."))._internalPath}catch(r){throw cP(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function cP(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new wE(_E.INVALID_ARGUMENT,a+e+l)}function uP(e,t){return e.some((e=>e.isEqual(t)))}class hP{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xR(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new dP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(fP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class dP extends hP{data(){return super.data()}}function fP(e,t){return"string"==typeof t?lP(e,t):t instanceof VR?t._internalPath:t._delegate._internalPath}function pP(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new wE(_E.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class mP{}class gP extends mP{}function yP(e,t){let n=[];for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s];t instanceof mP&&n.push(t),n=n.concat(i),function(e){const t=e.filter((e=>e instanceof _P)).length,n=e.filter((e=>e instanceof vP)).length;if(t>1||t>0&&n>0)throw new wE(_E.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const o of n)e=o._apply(e);return e}class vP extends gP{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new vP(e,t,n)}_apply(e){const t=this._parse(e);return kP(e._query,t),new TR(e.firestore,e.converter,gC(e._query,t))}_parse(e){const t=QR(e.firestore),n=function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new wE(_E.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){SP(o,s);const t=[];for(const n of o)t.push(EP(r,e,n));a={arrayValue:{values:t}}}else a=EP(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||SP(o,s),a=tP(n,t,o,"in"===s||"not-in"===s);return zk.create(i,s,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class _P extends mP{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new _P(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:$k.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const i of r)kP(n,i),n=gC(n,i)}(e._query,t),new TR(e.firestore,e.converter,gC(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class wP extends gP{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new wP(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new wE(_E.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new wE(_E.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new jk(t,n)}(e._query,this._field,this._direction);return new TR(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new lC(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function bP(e){const t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=fP("orderBy",e);return wP._create(n,t)}function EP(e,t,n){if("string"==typeof(n=Dc(n))){if(""===n)throw new wE(_E.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dC(t)&&-1!==n.indexOf("/"))throw new wE(_E.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(BE.fromString(n));if(!YE.isDocumentKey(r))throw new wE(_E.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Sk(e,new YE(r))}if(n instanceof xR)return Sk(e,n._key);throw new wE(_E.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${wR(n)}.`)}function SP(e,t){if(!Array.isArray(e)||0===e.length)throw new wE(_E.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function kP(e,t){const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new wE(_E.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new wE(_E.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}class CP{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(pk(e)){case 0:return null;case 1:return e.booleanValue;case 2:return JS(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(XS(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw mE(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return US(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t[fk].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>JS(e.doubleValue)));return new qR(i)}convertGeoPoint(e){return new $R(JS(e.latitude),JS(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ik(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(sk(e));default:return null}}convertTimestamp(e){const t=QS(e);return new VE(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=BE.fromString(e);yE(gx(n),9688,{name:e});const r=new lk(n.get(1),n.get(3)),i=new YE(n.popFirst(5));return r.isEqual(t)||dE(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function TP(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class xP{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class IP extends hP{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new NP(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(fP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class NP extends IP{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class RP{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new xP(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new NP(this._firestore,this._userDataWriter,n.key,n,new xP(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(){const e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new wE(_E.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new NP(e._firestore,e._userDataWriter,n.doc.key,n.doc,new xP(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new NP(e._firestore,e._userDataWriter,t.doc.key,t.doc,new xP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:PP(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}function PP(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return mE(61501,{type:e})}}function OP(e){e=bR(e,xR);const t=bR(e.firestore,MR);return pR(FR(t),e._key).then((n=>jP(t,e,n)))}class AP extends CP{constructor(e){super(),this.firestore=e}convertBytes(e){return new UR(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xR(this.firestore,null,t)}}function DP(e){return FP(bR(e.firestore,MR),[new pT(e._key,tT.none())])}function MP(e,t){const n=bR(e.firestore,MR),r=RR(e),i=TP(e.converter,t);return FP(n,[JR(QR(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,tT.exists(!1))]).then((()=>r))}function LP(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,s,o;e=Dc(e);let a={includeMetadataChanges:!1,source:"default"},l=0;"object"!=typeof n[l]||DR(n[l])||(a=n[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(DR(n[l])){const e=n[l];n[l]=null===(i=e.next)||void 0===i?void 0:i.bind(e),n[l+1]=null===(s=e.error)||void 0===s?void 0:s.bind(e),n[l+2]=null===(o=e.complete)||void 0===o?void 0:o.bind(e)}let u,h,d;if(e instanceof xR)h=bR(e.firestore,MR),d=uC(e._key.path),u={next:t=>{n[l]&&n[l](jP(h,e,t))},error:n[l+1],complete:n[l+2]};else{const t=bR(e,TR);h=bR(t.firestore,MR),d=t._query;const r=new AP(h);u={next:e=>{n[l]&&n[l](new RP(h,r,t,e))},error:n[l+1],complete:n[l+2]},pP(e._query)}return function(e,t,n,r){const i=new sR(r),s=new CN(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>vN(await fR(e),s))),()=>{i.Cu(),e.asyncQueue.enqueueAndForget((async()=>_N(await fR(e),s)))}}(FR(h),d,c,u)}function FP(e,t){return function(e,t){const n=new bE;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=tR(e);try{const e=await function(e,t){const n=vE(e),r=VE.now(),i=t.reduce(((e,t)=>e.add(t.key)),LC());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=xC(),l=LC();return n.Bs.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=aT(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new uT(e.key,t,Ak(t.value.mapValue),tT.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:RC(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Iu[e.currentUser.toKey()];r||(r=new zS(AE)),r=r.insert(t,n),e.Iu[e.currentUser.toKey()]=r}(r,e.batchId,n),await JN(r,e.changes),await JI(r.remoteStore)}catch(e){const t=hN(e,"Failed to persist write");n.reject(t)}}(await dR(e),t,n))),n.promise}(FR(e),t)}function jP(e,t,n){const r=n.docs.get(t._key),i=new AP(e);return new IP(e,i,t._key,r,new xP(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){lE=e}(Qu),Hu(new Mc("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),o=new MR(new CE(e.getProvider("auth-internal")),new NE(s,e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new wE(_E.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new lk(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Zu(sE,oE,e),Zu(sE,oE,"esm2017")}();const UP=()=>{const e=LR(Pd),n=sessionStorage.getItem("email"),r=vr(),[i,s]=(0,t.useState)([]),[a,l]=(0,t.useState)(!1),[c,u]=(0,t.useState)(1),[h,d]=(0,t.useState)(1);return(0,t.useEffect)((()=>{(()=>{const t=yP(NR(e,"post"),bP("date","desc")),n=[];l(!0);let r=0;LP(t,(e=>{e.forEach((e=>{r+=1,r>=5*(c-1)+1&&r<=5*c&&n.push({no:r,id:e.id,...e.data()})})),s(n),d(Math.ceil(r/5)),console.log(i),l(!1)}))})()}),[c]),a?(0,o.jsx)("h1",{className:"text-center my-5",children:(0,o.jsx)(fv,{})}):(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"my-5 text-center",children:"\uac8c\uc2dc\ud310"}),(0,o.jsx)("div",{className:"mb-2",children:(0,o.jsx)(Oa,{onClick:()=>{n?r("/post/write"):(alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud55c \uc11c\ube44\uc2a4\uc785\ub2c8\ub2e4."),sessionStorage.setItem("target","/post/write"),r("/login"))},className:"px-5",size:"sm",children:"\uae00\uc4f0\uae30"})}),(0,o.jsxs)(gv,{hover:!0,striped:!0,bordered:!0,children:[(0,o.jsx)("thead",{children:(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:"No."}),(0,o.jsx)("td",{children:"\uc81c\ubaa9"}),(0,o.jsx)("td",{children:"\uc791\uc131\uc790"}),(0,o.jsx)("td",{children:"\uc0dd\uc131\uc77c"})]})}),(0,o.jsx)("tbody",{children:i.map((e=>(0,o.jsxs)("tr",{children:[(0,o.jsx)("td",{children:e.no}),(0,o.jsx)("td",{children:(0,o.jsx)("a",{href:`/react_project/post/${e.id}`,children:e.title})}),(0,o.jsx)("td",{children:e.email}),(0,o.jsx)("td",{children:e.date})]},e.no)))})]}),(0,o.jsxs)("div",{className:"text-center",children:[(0,o.jsx)(Oa,{onClick:()=>u(c-1),disabled:1===c,size:"sm",className:"px-3",children:"\uc774\uc804"}),(0,o.jsxs)("span",{className:"mx-3",children:[" ",c," / ",h,"  "]}),(0,o.jsx)(Oa,{onClick:()=>u(c+1),disabled:c===h,size:"sm",className:"px-3",children:"\ub2e4\uc74c"})]})]})},VP=()=>{const e=LR(Pd),n=vr(),[r,i]=(0,t.useState)({email:sessionStorage.getItem("email"),date:"",title:"",body:""}),{title:s,body:a}=r,l=e=>{i({...r,[e.target.name]:e.target.value})};return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"text-center my-5",children:"\uae00\uc4f0\uae30"}),(0,o.jsx)(Ho,{className:"justify-content-center",children:(0,o.jsx)(Yo,{md:8,children:(0,o.jsxs)(ka,{onSubmit:async t=>{if(t.preventDefault(),""===s||""===a)alert("\uc81c\ubaa9\uacfc \ub0b4\uc6a9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694.");else{const t=sv()(new Date).format("YYYY-MM-DD HH:mm:ss");await MP(NR(e,"post"),{...r,date:t}),n("/post")}},onReset:e=>{e.preventDefault(),window.confirm("\uae00\uc4f0\uae30\ub97c \ucd08\uae30\ud654 \ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&i({...r,title:"",body:""})},children:[(0,o.jsx)(ka.Control,{name:"title",value:s,className:"mb-3",onChange:l,placeholder:"\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694."}),(0,o.jsx)(ka.Control,{name:"body",value:a,as:"textarea",rows:10,onChange:l,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694."}),(0,o.jsxs)("div",{className:"mt-3 text-center",children:[(0,o.jsx)(Oa,{type:"submit",className:"px-5 mx-2",children:"\ub4f1\ub85d"}),(0,o.jsx)(Oa,{type:"reset",className:"px-5",variant:"secondary",children:"\ucde8\uc18c"})]})]})})})]})};var zP=t.useLayoutEffect,$P=function(e,t){"function"!==typeof e?e.current=t:e(t)},qP={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},BP=function(e){Object.keys(qP).forEach((function(t){e.style.setProperty(t,qP[t],"important")}))},HP=null,WP=function(e,t){var n=e.scrollHeight;return"border-box"===t.sizingStyle.boxSizing?n+t.borderSize:n-t.paddingSize};var YP=function(){},KP=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],GP=!!document.documentElement.currentStyle,QP=function(e){var t=window.getComputedStyle(e);if(null===t)return null;var n,r=(n=t,KP.reduce((function(e,t){return e[t]=n[t],e}),{})),i=r.boxSizing;return""===i?null:(GP&&"border-box"===i&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px"),{sizingStyle:r,paddingSize:parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),borderSize:parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth)})};function JP(e,n,r){var i=function(e){var n=t.useRef(e);return zP((function(){n.current=e})),n}(r);t.useLayoutEffect((function(){var t=function(e){return i.current(e)};if(e)return e.addEventListener(n,t),function(){return e.removeEventListener(n,t)}}),[])}var XP=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ZP=function(e,n){var r=e.cacheMeasurements,i=e.maxRows,s=e.minRows,o=e.onChange,a=void 0===o?YP:o,l=e.onHeightChange,c=void 0===l?YP:l,u=v(e,XP),h=void 0!==u.value,d=t.useRef(null),f=function(e,n){var r=t.useRef();return t.useCallback((function(t){e.current=t,r.current&&$P(r.current,null),r.current=n,n&&$P(n,t)}),[n])}(d,n),p=t.useRef(0),m=t.useRef(),g=function(){var e=d.current,t=r&&m.current?m.current:QP(e);if(t){m.current=t;var n=function(e,t,n,r){void 0===n&&(n=1),void 0===r&&(r=1/0),HP||((HP=document.createElement("textarea")).setAttribute("tabindex","-1"),HP.setAttribute("aria-hidden","true"),BP(HP)),null===HP.parentNode&&document.body.appendChild(HP);var i=e.paddingSize,s=e.borderSize,o=e.sizingStyle,a=o.boxSizing;Object.keys(o).forEach((function(e){var t=e;HP.style[t]=o[t]})),BP(HP),HP.value=t;var l=WP(HP,e);HP.value=t,l=WP(HP,e),HP.value="x";var c=HP.scrollHeight-i,u=c*n;"border-box"===a&&(u=u+i+s),l=Math.max(u,l);var h=c*r;return"border-box"===a&&(h=h+i+s),[l=Math.min(h,l),c]}(t,e.value||e.placeholder||"x",s,i),o=n[0],a=n[1];p.current!==o&&(p.current=o,e.style.setProperty("height",o+"px","important"),c(o,{rowHeight:a}))}};return t.useLayoutEffect(g),function(e,t){JP(document.body,"reset",(function(n){e.current.form===n.target&&t(n)}))}(d,(function(){if(!h){var e=d.current.value;requestAnimationFrame((function(){var t=d.current;t&&e!==t.value&&g()}))}})),JP(window,"resize",g),function(e){JP(document.fonts,"loadingdone",e)}(g),t.createElement("textarea",y({},u,{onChange:function(e){h||g(),a(e)},ref:f}))},eO=t.forwardRef(ZP);function tO(e){return Nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"},child:[]}]})(e)}function nO(e){return Nl({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{fill:"none",d:"M0 0h24v24H0z"},child:[]},{tag:"path",attr:{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04a.996.996 0 0 0 0-1.41l-2.34-2.34a.996.996 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"},child:[]}]})(e)}const rO=e=>{let{pid:n}=e;const r=LR(Pd),i=sessionStorage.getItem("email"),[s,a]=(0,t.useState)([]),l=()=>{LP(yP(NR(r,"reply"),function(e,t,n){const r=t,i=fP("where",e);return vP._create(i,r,n)}("pid","==",n),bP("date","desc")),(e=>{let t=[];e.forEach((e=>{t.push({id:e.id,...e.data()})}));const n=t.map((e=>e&&{...e,ellipsis:!0,edit:!1,text:e.contents}));console.log(t),a(n)}))};(0,t.useEffect)((()=>{l()}),[]);const c=async(e,t)=>{e.preventDefault(),window.confirm("\uc218\uc815\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&await function(e,t,n){e=bR(e,xR);const r=bR(e.firestore,MR),i=QR(r);let s;for(var o=arguments.length,a=new Array(o>3?o-3:0),l=3;l<o;l++)a[l-3]=arguments[l];return s="string"==typeof(t=Dc(t))||t instanceof VR?eP(i,"updateDoc",e._key,t,n,a):ZR(i,"updateDoc",e._key,t),FP(r,[s.toMutation(e._key,tT.exists(!0))])}(RR(r,"reply",t.id),{contents:t.contents,date:sv()(new Date).format("YYYY-MM-DD HH:mm:ss")})};return(0,o.jsx)(Ho,{className:"justify-content-center",children:(0,o.jsx)(Yo,{md:10,children:s.map((e=>(0,o.jsxs)("div",{className:"my-5",children:[(0,o.jsxs)(Ho,{children:[(0,o.jsxs)(Yo,{className:"text-muted",children:[e.date," | ",e.email]}),e.email===i&&!e.edit&&(0,o.jsxs)(Yo,{className:"text-end",children:[(0,o.jsx)(nO,{onClick:()=>(e=>{const t=s.map((t=>t.id===e?{...t,edit:!t.edit}:t));a(t)})(e.id),className:"edit"}),(0,o.jsx)(tO,{onClick:()=>(async e=>{alert("\ub313\uae00\uc774 \uc0ad\uc81c\ub429\ub2c8\ub2e4."),await DP(RR(r,"reply",e))})(e.id),className:"delete"})]})]}),e.edit?(0,o.jsxs)(ka,{onSubmit:t=>c(t,e),children:[(0,o.jsx)(eO,{className:"textarea",onChange:t=>((e,t)=>{const n=s.map((n=>n.id===t?{...n,contents:e.target.value}:n));a(n)})(t,e.id),value:e.contents}),(0,o.jsxs)("div",{className:"text-end",children:[(0,o.jsx)(Oa,{size:"sm",variant:"primary",className:"mx-2",disabled:e.text===e.contents,type:"submit",children:"\uc800\uc7a5"}),(0,o.jsx)(Oa,{onClick:()=>(e=>{const t=s.map((t=>t.id===e.id?{...t,edit:!1,contents:t.text}:t));a(t)})(e),size:"sm",variant:"secondary",children:"\ucde8\uc18c"})]})]}):(0,o.jsx)("div",{onClick:()=>(e=>{const t=s.map((t=>t.id===e?{...t,ellipsis:!t.ellipsis}:t));a(t)})(e.id),style:{cursor:"pointer"},className:e.ellipsis?"ellipsis2":"",children:(0,o.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:e.contents})})]},e.id)))})})},iO=e=>{let{id:n}=e;const r=LR(Pd),i=vr(),s=sessionStorage.getItem("email"),[a,l]=(0,t.useState)("");return(0,o.jsxs)("div",{children:[(0,o.jsx)(Ho,{className:"justify-content-center",children:(0,o.jsx)(Yo,{md:10,children:s?(0,o.jsxs)("div",{className:"text-end mt-5",children:[(0,o.jsx)(eO,{onChange:e=>l(e.target.value),value:a,placeholder:"\ub0b4\uc6a9\uc744 \uc785\ub825\ud558\uc138\uc694\uc694",className:"textarea"}),(0,o.jsx)(Oa,{disabled:""===a,onClick:async()=>{const e={pid:n,email:s,contents:a,date:sv()(new Date).format("YYYY-MM-DD HH:mm:ss")};await MP(NR(r,"reply"),e),l("")},className:"px-5",children:"\ub4f1\ub85d"})]}):(0,o.jsx)("div",{children:(0,o.jsx)(Oa,{className:"w-100 my-2",onClick:()=>{sessionStorage.setItem("target",`/post/${n}`),i("/login")},children:"\ub85c\uadf8\uc778"})})})}),(0,o.jsx)(rO,{pid:n})]})},sO=()=>{const e=vr(),n=sessionStorage.getItem("email"),[r,i]=(0,t.useState)(!1),s=LR(Pd),a=_r(),{id:l}=a,[c,u]=(0,t.useState)({id:l,title:"",body:"",date:"",email:""}),{title:h,body:d,date:f,email:p}=c;return(0,t.useEffect)((()=>{(async()=>{i(!0);const e=await OP(RR(s,"post",l));u(e.data()),console.log(c),i(!1)})()}),[]),r?(0,o.jsxs)("h1",{className:"my-5 text-center",children:[(0,o.jsx)(fv,{}),"."]}):(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"my-5 text-center",children:"\uac8c\uc2dc\uae00 \uc815\ubcf4"}),n===p&&(0,o.jsx)(Ho,{className:"justify-content-center mb-2",children:(0,o.jsxs)(Yo,{md:10,className:"text-end",children:[(0,o.jsx)(Oa,{onClick:()=>e(`/post/update/${l}`),variant:"outline-success",className:"mx-2",size:"sm",children:"\uc218\uc815"}),(0,o.jsx)(Oa,{onClick:async()=>{window.confirm(`${l}\ubc88 \uac8c\uc2dc\uae00\uc744 \uc0ad\uc81c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?`)&&(await DP(RR(s,"post",l)),e(-1))},variant:"outline-danger",size:"sm",children:"\uc0ad\uc81c"})]})}),(0,o.jsx)(Ho,{className:"justify-content-center",children:(0,o.jsx)(Yo,{md:10,children:(0,o.jsxs)(el,{children:[(0,o.jsxs)(el.Body,{children:[(0,o.jsx)("h5",{children:h}),(0,o.jsx)("hr",{}),(0,o.jsx)("p",{style:{whiteSpace:"pre-wrap"},children:d})]}),(0,o.jsxs)(el.Footer,{children:["Posted on ",f," by ",p]})]})})}),(0,o.jsx)(iO,{id:l})]})},oO=()=>{const[e,n]=(0,t.useState)({title:"",body:""}),r=vr(),i=LR(Pd),s=_r(),{id:a}=s,l=async()=>{const e=(await OP(RR(i,"post",a))).data();n({...e,preTitle:e.title,preBody:e.body})},{title:c,body:u,preBody:h,preTitle:d,email:f,date:p}=e,m=t=>{n({...e,[t.target.name]:t.target.value})};return(0,t.useEffect)((()=>{l()}),[]),(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{className:"my-5 text-center",children:"\uac8c\uc2dc\uae00 \uc218\uc815"}),(0,o.jsx)(Ho,{className:"justify-content-center",children:(0,o.jsx)(Yo,{md:10,children:(0,o.jsxs)(ka,{onReset:()=>{window.confirm("\ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&l()},onSubmit:async e=>{if(e.preventDefault(),window.confirm("\uc800\uc7a5\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")){const e={email:f,body:u,title:c,date:p};await function(e,t,n){e=bR(e,xR);const r=bR(e.firestore,MR),i=TP(e.converter,t,n);return FP(r,[JR(QR(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,tT.none())])}(RR(i,"post",a),e),r(-1)}},children:[(0,o.jsx)(ka.Control,{name:"title",onChange:m,value:c,className:"mb-2"}),(0,o.jsx)(ka.Control,{value:u,name:"body",onChange:m,as:"textarea",rows:10}),(0,o.jsxs)("div",{className:"text-center mt-3",children:[(0,o.jsx)(Oa,{disabled:c===d&&u===h,className:"px-5 me-2",type:"submit",children:"\uc800\uc7a5"}),(0,o.jsx)(Oa,{className:"px-5",variant:"secondary",type:"reset",children:"\ucde8\uc18c"})]})]})})})]})},aO=()=>(0,o.jsxs)(Lr,{children:[(0,o.jsx)(Dr,{path:"/",element:(0,o.jsx)(UP,{})}),(0,o.jsx)(Dr,{path:"/write",element:(0,o.jsx)(VP,{})}),(0,o.jsx)(Dr,{path:"/:id",element:(0,o.jsx)(sO,{})}),(0,o.jsx)(Dr,{path:"/update/:id",element:(0,o.jsx)(oO,{})})]}),lO=()=>(0,o.jsx)(g,{children:(0,o.jsxs)(Lr,{children:[(0,o.jsx)(Dr,{path:"/",element:(0,o.jsx)(pv,{})}),(0,o.jsx)(Dr,{path:"/cart",element:(0,o.jsx)(yv,{})}),(0,o.jsx)(Dr,{path:"/login",element:(0,o.jsx)(qb,{})}),(0,o.jsx)(Dr,{path:"/join",element:(0,o.jsx)(Bb,{})}),(0,o.jsx)(Dr,{path:"/post/*",element:(0,o.jsx)(aO,{})})]})}),cO=()=>{const e=vr(),t=sessionStorage.getItem("email"),n=(sessionStorage.getItem("uid"),"/react_project"),r=mr().pathname;console.log(r);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(wn,{expand:"lg",className:"bg-body-tertiary",children:(0,o.jsxs)(g,{fluid:!0,children:[(0,o.jsx)(wn.Brand,{href:`${n}/`,children:"REACT"}),(0,o.jsx)(wn.Toggle,{"aria-controls":"navbarScroll"}),(0,o.jsxs)(wn.Collapse,{id:"navbarScroll",children:[(0,o.jsxs)(ue,{className:"me-auto my-2 my-lg-0",style:{maxHeight:"100px"},navbarScroll:!0,children:[(0,o.jsx)(ue.Link,{href:`${n}/`,active:"/"===r&&!0,children:"Home"}),t&&(0,o.jsx)(ue.Link,{href:`${n}/cart`,active:"/cart"===r&&!0,children:"\uc7a5\ubc14\uad6c\ub2c8"}),(0,o.jsx)(ue.Link,{href:`${n}/post`,active:r.startsWith("/post"),children:"\uac8c\uc2dc\ud310"})]}),(0,o.jsx)(ue,{children:t?(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(ue.Link,{href:"#",active:!0,children:t}),(0,o.jsx)(ue.Link,{href:"#",onClick:t=>{t.preventDefault(),window.confirm("\ub85c\uadf8\uc544\uc6c3\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?")&&(sessionStorage.clear(),e("/"))},children:"\ub85c\uadf8\uc544\uc6c3"})]}):(0,o.jsx)(ue.Link,{href:`${n}/login`,active:"/login"===r&&!0,children:"\ub85c\uadf8\uc778"})})]})]})}),(0,o.jsx)(lO,{})]})},uO=()=>(0,o.jsxs)("div",{className:"my-5 text-center",children:[(0,o.jsx)("hr",{}),(0,o.jsx)("h5",{children:"Copyright 2025. \uc778\ud558\ub300\ud559\uad50 \ucd5c\uc815\uc724 All rights reserved."})]});const hO=function(){return(0,o.jsxs)("div",{children:[(0,o.jsx)("img",{src:"/react_project/home.jpg",width:"100%"}),(0,o.jsx)(cO,{}),(0,o.jsx)(uO,{})]})},dO=e=>{e&&e instanceof Function&&n.e(453).then(n.bind(n,453)).then((t=>{let{getCLS:n,getFID:r,getFCP:i,getLCP:s,getTTFB:o}=t;n(e),r(e),i(e),s(e),o(e)}))};r.createRoot(document.getElementById("root")).render((0,o.jsx)(yi,{basename:"/react_project",children:(0,o.jsx)(hO,{})})),dO()})()})();
//# sourceMappingURL=main.9414978e.js.map